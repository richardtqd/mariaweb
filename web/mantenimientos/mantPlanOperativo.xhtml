<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui" 
                template="/plantilla/plantillaPrincipal.xhtml" 
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:define name="content">
        <h:body>
            <p:layout style="width:1800px;height:750px" fullPage="false" styleClass="centrado">
                <p:layoutUnit id="pnlBuscadorPost" position="west" size="765" header="#{msgs.etiquetaPlanOper}" resizable="false" closable="false" collapsible="true" effect="drop" collapsed="false" effectSpeed="500" >
                    <h:form id="frmBuscar">
                        <h:panelGrid columns="4" styleClass="centrado" style="margin: 0 auto;width: 719px;">
                            <p:panel header="#{msgs.etiquetaFiltro}">
                                <h:panelGrid id="pnlBuscar" columns="1" style="margin: 0 auto;">
                                    <h:panelGrid columns="2" style="margin: 0 auto;" >
                                        <h:panelGrid style="margin: 0 auto;" columns="2" >
                                            <p:inputText value="#{planOperativoMB.planOperativoFiltroBean.nombre}" size="15" maxlength="40" label="#{msgs.etiquetaNombre}" placeholder="Ingresar #{msgs.etiquetaNombre}" style="width: 250px;" />    
                                        </h:panelGrid> 
                                        <h:panelGrid style="margin: 0 auto;" columns="2" >
                                            <p:selectOneMenu id="cmboUniOrg" label="#{msgs.etiquetaLineaEstrategica}" value="#{planOperativoMB.planOperativoFiltroBean.unidadOrganicaBean.idUniOrg}" style="width: 190px;" >
                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                <f:selectItems value="#{planOperativoMB.listaUniOrg}" var="uniOrg" itemLabel="#{uniOrg.nombreUniOrg}" itemValue="#{uniOrg.idUniOrg}"/>
                                            </p:selectOneMenu>
                                        </h:panelGrid>
                                        <h:panelGrid style="margin: 0 auto;" columns="2" >
                                            <p:inputText value="#{planOperativoMB.planOperativoFiltroBean.anio}" style="width: 250px;" label="#{msgs.etiquetaAnio}" placeholder="Ingresar #{msgs.etiquetaAnio}" />
                                        </h:panelGrid>
                                        <h:panelGrid columns="3" style="margin: 0 auto;padding: 10px;">
                                            <p:commandButton value="#{msgs.botonBuscar}" actionListener="#{planOperativoMB.obtenerPorFiltro()}" update=":frmBuscar:pnlPlanBuscar,msg,:frmBuscar:pnlBuscar" />
                                            <p:commandButton value="#{msgs.botonNuevo}" oncomplete="PF('popPlanO').show()" />
                                        </h:panelGrid>
                                    </h:panelGrid> 
                                </h:panelGrid> 
                                <p:messages autoUpdate="false" id="msg" closable="true" />
                            </p:panel>
                        </h:panelGrid> 
                        <h:panelGrid id="pnlPlanBuscar" style="margin: 0 auto">
                            <p:dataTable id="dgPlanOperativo" value="#{planOperativoMB.listaPlanOperativo}" widgetVar="dgPlanOperativo" 
                                         paginator="true" selectionMode="single" rowKey="#{planOperativo}"
                                         paginatorPosition="bottom" selection="#{planOperativoMB.planOperativo}" 
                                         var="planOperativo"  rows="#{planOperativoMB.numRegistrosTablasPorFiltro}" 
                                         rendered="#{not empty planOperativoMB.listaPlanOperativo}" 
                                         style="width: 715px;font-size:14px !important;margin-bottom:0">
                                <!--:pnlPlanGeneral:frmPresuo:pnlPlanPres,:pnlPlanGeneral:frmPresuo,:pnlPlanGeneral:frmTblPresUo2:pnlTblPresUo3-->
                                <p:ajax event="rowSelect" listener="#{planOperativoMB.rowSelect}" process="@this"
                                        update=":pnlPlanGeneral:frmPlanOperativo,
                                        :pnlPlanGeneral:frmTblObjOperativo:pnlTblObjOperativo,
                                        :pnlPlanGeneral:frmActiv:pnlActiv,
                                        :pnlPlanGeneral:frmActiv2:pnlActiv2,
                                        :frmActividad:pnlPlanOperativo,
                                        :frmTblActividad:pnlTblActividad,
                                        :panelOperativo,:frmTblPlanPresupuesto"/> 
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                </f:facet>
                                <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaUniOrg}" />
                                    </f:facet>
                                    <h:outputText value="#{planOperativo.unidadOrganicaBean.nombreUniOrg}" />
                                </p:column>
                                <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaPlanOper}" />
                                    </f:facet>
                                    <h:outputText value="#{planOperativo.nombre}" />
                                </p:column>
                                <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaAprobado}" />
                                    </f:facet>
                                    <h:outputText value="#{planOperativo.aprobadoPor}" />
                                </p:column>
                                <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>    
                                    <center>  
                                        <p:commandLink id="cmdEditPO"  actionListener="#{planOperativoMB.obtenerPlanOpeId(planOperativo)}"
                                                       oncomplete="PF('popPlanO2').show();" process="@this" update=":frmDatosPlanOp2:pnlDatosPlan2"> 
                                            <h:graphicImage value="/resources/images/icons/edit.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink> 
                                        &nbsp;&nbsp;&nbsp;
                                        <p:commandLink id="cmdEliminarPO"  actionListener="#{planOperativoMB.obtenerPlanOpeId2(planOperativo)}"
                                                       oncomplete="PF('planOpe').show();" process="@this" update=":frmEliminaPlanOpe:pnlEliminaPlanOpe">
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink> 
                                    </center> 
                                    <p:tooltip id="toolTipDel" for="cmdEliminarPO" value="#{msgs.etiquetaEliminar}" />
                                    <p:tooltip id="toolTipDel2" for="cmdEditPO" value="#{msgs.etiquetaEdit}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                    </h:form>
                </p:layoutUnit>
                <p:layoutUnit position="center" >
                    <p:panel id="panelOperativo" header="#{msgs.etiquetaPlanOperativo}: #{planOperativoMB.objOperativoBean.planOperativoBean.nombre.concat(planOperativoMB.var).concat(planOperativoMB.planOperativoBean.anio)}" >
                        <p:tabView id="pnlPlanGeneral" > 
                            <p:tab title="#{msgs.etiquetaObjOperativo}">
                                <h:form id="frmPlanOperativo" >  
                                    <h:panelGrid id="pnlPlanOperativo" columns="6" style="margin: 0 auto;"> 
                                        <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.nombre}"/> 
                                        <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.anio}" />
                                        <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.unidadOrganicaBean.idUniOrg}"/>
                                    </h:panelGrid> 
                                    <p:panel header="#{msgs.etiquetaObjOperativo}" style="width: 930px;margin: 0 auto;">
                                        <h:panelGrid style="margin: 0 auto" columns="2" >
                                            <p:fieldset legend="#{msgs.etiquetaDatOpe}" style="width: 400px;height: 250px;padding: 10px;" >
                                                <h:panelGrid id="pnlObjEstOO2" columns="3" style="margin: 0 auto;" > 
                                                    <p:outputLabel value="#{msgs.etiquetaCodigo}:" />
                                                    <p:outputLabel value="" />
                                                    <p:inputText value="#{planOperativoMB.objOperativoBean.codigo}" readonly="true" required="true" label="#{msgs.etiquetaCodigo}" />
                                                    <p:outputLabel value="#{msgs.etiquetaObjOperativo}:" />
                                                    <p:outputLabel value=""  />
                                                    <p:inputText value="#{planOperativoMB.objOperativoBean.nombre}" required="true" label="#{msgs.etiquetaObjOperativo}"  />
                                                    <p:outputLabel value="#{msgs.etiquetaActividad}:" />
                                                    <p:outputLabel value="" />
                                                    <p:selectOneMenu id="cmboLinea" label="#{msgs.etiquetaActividad}" required="true" value="#{planOperativoMB.objOperativoBean.codigoBean.idCodigo}" style="width: 190px;" >
                                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                        <f:selectItems value="#{planOperativoMB.listaActividadCodigo}" var="actividad" itemLabel="#{actividad.codigo}" itemValue="#{actividad.idCodigo}"/>
                                                    </p:selectOneMenu> 
                                                    <p:outputLabel value="#{msgs.etiquetaUniMed}:" rendered="false" />
                                                    <p:outputLabel value="" rendered="false" />
                                                    <p:selectOneMenu id="cmboTipoUniMed" label="#{msgs.etiquetaUniMed}" required="true" value="#{planOperativoMB.objOperativoBean.codigoBean1.idCodigo}" style="width: 190px;" rendered="false" >
                                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                        <f:selectItems value="#{planOperativoMB.listaUniMedCodigo}" var="unimed" itemLabel="#{unimed.codigo}" itemValue="#{unimed.idCodigo}"/>
                                                    </p:selectOneMenu> 
                                                    <p:link id="uniMed" outcome="/configuracion/mantTipoCodigo.xhtml" target="_blank" rendered="false">
                                                        <h:graphicImage value="/resources/images/icons/addverde3.png" style="border:0; cursor:pointer;"/>
                                                        <f:param name="TipoUniMed" value="TipoUniMed" />
                                                    </p:link>
                                                    <p:tooltip value="Agregar Unidad de Medida" for="uniMed" rendered="false" />
                                                </h:panelGrid>
                                            </p:fieldset>
                                            <p:fieldset legend="#{msgs.etiquetaDatosEstr}" style="width: 400px;height: 250px;padding: 10px;"> 
                                                <h:panelGrid id="pnlObjEstOO" columns="3" style="margin: 0 auto;" >  
                                                    <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}:" />
                                                    <h:inputHidden id="txtIdNomPlan" value="#{planOperativoMB.objOperativoBean.objetivoEstrategicoDetBean.planEstrategicoBean.idPlanEstrategico}"  />
                                                    <p:inputText id="txtNomPlan" value="#{planOperativoMB.objOperativoBean.objetivoEstrategicoDetBean.planEstrategicoBean.nombre}" required="true" label="#{msgs.etiquetaPlanEstrategico}" readonly="true"  />
                                                    <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}:" />
                                                    <h:inputHidden id="txtIdNomLinea" value="#{planOperativoMB.objOperativoBean.objetivoEstrategicoDetBean.lineaEstrategicaBean.idLinea}" />
                                                    <p:inputText id="txtNomLinea" label="#{msgs.etiquetaLineaEstrategica}" required="true" value="#{planOperativoMB.objOperativoBean.objetivoEstrategicoDetBean.lineaEstrategicaBean.nombre}" readonly="true" />
                                                    <p:outputLabel value="#{msgs.etiquetaResponsable}:" />
                                                    <h:inputHidden id="txtIdNomRes" value="#{planOperativoMB.objOperativoBean.objetivoEstrategicoDetBean.idObjEstrategicoDet}" />
                                                    <p:inputText id="txtNomRes" label="#{msgs.etiquetaResponsable}" required="true" value="#{planOperativoMB.objOperativoBean.objetivoEstrategicoDetBean.responsable}" readonly="true" />
                                                    <h:outputLabel value="#{msgs.etiquetaFiltroEst}:" />  
                                                    <p:commandLink id="cmdBusPe" oncomplete="PF('popActividad').show()" >
                                                        <h:graphicImage value="../resources/images/icons/search2.png" alt="Buscar" />
                                                    </p:commandLink>
                                                    <p:tooltip value="#{msgs.botonBuscar}" for="cmdBusPe" />
                                                </h:panelGrid> 
                                            </p:fieldset>  
                                        </h:panelGrid>
                                    </p:panel>
                                    <h:panelGrid style="margin: 0 auto;padding: 10px;" columns="2" >
                                        <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{planOperativoMB.guardar()}" oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                         update=":pnlPlanGeneral:frmTblObjOperativo:pnlTblObjOperativo,msgsObjOpe,
                                                         :pnlPlanGeneral:frmPlanOperativo:pnlObjEstOO2,
                                                         :pnlPlanGeneral:frmPlanOperativo:pnlObjEstOO,
                                                         :pnlPlanGeneral:frmActiv:pnlActiv"/>
                                        <p:commandButton value="#{msgs.botonNuevo}" actionListener="#{planOperativoMB.limpiarObjeOperativo()}"
                                                         update=":pnlPlanGeneral:frmPlanOperativo:pnlObjEstOO2,
                                                         :pnlPlanGeneral:frmPlanOperativo:pnlObjEstOO" process="@this" />
                                    </h:panelGrid>
                                    <p:messages id="msgsObjOpe" showDetail="true" closable="true" />
                                </h:form>
                                <h:form id="frmTblObjOperativo"> 
                                    <h:panelGrid id="pnlTblObjOperativo" columns="1" style="margin: 0 auto;" >
                                        <p:dataTable id="tblObjOperativo" value="#{planOperativoMB.listaObjetivoOperativo}" widgetVar="tblObjOperativo" 
                                                     paginator="true" paginatorPosition="bottom" var="objOperativo" rowKey="#{objOperativo}"
                                                     style="width:1100px;font-size:14px !important;margin-bottom:0" selectionMode="single"
                                                     rendered="#{not empty planOperativoMB.listaObjetivoOperativo}"
                                                     selection="#{planOperativoMB.objOperativoBean}" >
                                            <p:ajax event="rowSelect" listener="#{planOperativoMB.rowSelectObjOperativo}" update=":pnlPlanGeneral:frmPlanOperativo" process="@this" />
                                            <f:facet name="header">
                                                <p:outputLabel value="#{msgs.etiquetaObjOperativo}" />
                                                <span style="float: left;color: red;font-size: 12px;" >Ingresar Detalles</span>
                                            </f:facet>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.EtiquetaCodigo}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativo.codigo}" style="text-align: justify;font-size: 11px;" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.EtiquetaNombre}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativo.nombre}" style="text-align: justify;font-size: 11px;" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaResponsable}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativo.objetivoEstrategicoDetBean.responsable}" style="text-align: justify;font-size: 11px;" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativo.objetivoEstrategicoDetBean.planEstrategicoBean.nombre}.." style="text-align: justify;font-size: 11px;" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativo.objetivoEstrategicoDetBean.lineaEstrategicaBean.nombreLineaSub}" style="text-align: justify;font-size: 11px;" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaObjetivoEstrategica}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativo.objetivoEstrategicoDetBean.objetivoEstrategicaBean.nombreObjetivoEsSub}" style="text-align: justify;font-size: 11px;" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaAnio}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativo.anio}" style="text-align: justify;font-size: 11px;" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto"> 
                                                <f:facet name="header">
                                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                                </f:facet>
                                                <center>
                                                    <p:commandLink id="cmdMostrarActObj" actionListener="#{planOperativoMB.obtenerObjActPorId(objOperativo)}" oncomplete="PF('popActObj').show()"
                                                                   update=":frmTblActividad:pnlTblActividad,:frmActividad:pnlActividad" process="@this">
                                                        <h:graphicImage value="/resources/images/icons/ver_detalle.png" style="border:0;cursor:pointer;" />
                                                    </p:commandLink>
                                                    &nbsp;&nbsp;&nbsp;
                                                    <p:commandLink id="cmdEliminarObjOpe"  actionListener="#{planOperativoMB.obtenerObjOperativoPorId(objOperativo)}"
                                                                   oncomplete="PF('popEliminar2').show();" process="@this" update=":frmElimina2:pnlElimina2">
                                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                                    </p:commandLink>
                                                </center> 
                                                <p:tooltip id="toolTipDel" for="cmdEliminarObjOpe" value="#{msgs.mensajeDelCatCon}" />
                                                <p:tooltip for="cmdMostrarActObj" value="#{msgs.botonVer}" />
                                            </p:column>
                                        </p:dataTable>
                                    </h:panelGrid>
                                </h:form>
                            </p:tab> 
                            <p:tab title="#{msgs.etiquetaRegistrar} #{msgs.etiquetaSubAct}" >
                                <h:form id="frmActiv" > 
                                    <h:panelGrid id="pnlActiv" style="margin: 0 auto;" columns="1" >
                                        <p:dataTable id="tblObjOperativo" value="#{planOperativoMB.listaObjetivoActOperativo}" widgetVar="tblObjOperativoAct" 
                                                     paginator="true" paginatorPosition="bottom" var="objOperativoAct" rowKey="#{objOperativoAct}"
                                                     style="width:1100px;font-size:14px !important;margin-bottom:0"  
                                                     rendered="#{not empty planOperativoMB.listaObjetivoActOperativo}"
                                                     selection="#{planOperativoMB.objOperativoBean}" >
                                            <f:facet name="header">
                                                <p:outputLabel value="#{msgs.etiquetaObjOperativo}" />
                                            </f:facet>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.EtiquetaCodigo}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativoAct.codigo}" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.EtiquetaNombre}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativoAct.nombre}" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaResponsable}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativoAct.objetivoEstrategicoDetBean.responsable}" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativoAct.objetivoEstrategicoDetBean.planEstrategicoBean.nombre}.." />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativoAct.objetivoEstrategicoDetBean.lineaEstrategicaBean.nombreLineaSub}.."  />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaObjetivoEstrategica}" />
                                                </f:facet>
                                                <h:outputText value="#{objOperativoAct.objetivoEstrategicoDetBean.objetivoEstrategicaBean.nombreObjetivoEsSub}.." />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaAnio}" />
                                                </f:facet>
                                                <center>
                                                    <h:outputText value="#{objOperativoAct.anio}" style="font-size: 11px;" />
                                                </center>
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto"> 
                                                <f:facet name="header">
                                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                                </f:facet>
                                                <center>
                                                    <p:commandLink id="cmdMostrarActiv" actionListener="#{planOperativoMB.obtenerObjActPorId(objOperativoAct)}" update=":pnlPlanGeneral:frmActiv2:pnlActiv2">
                                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                                    </p:commandLink> 
                                                </center>
                                                <p:tooltip for="cmdMostrarActiv" value="#{msgs.mensajeSelect}" />
                                            </p:column>
                                        </p:dataTable>
                                    </h:panelGrid>
                                </h:form>
                                <h:form id="frmActiv2"> 
                                    <h:panelGrid id="pnlActiv2" style="margin: 0 auto;" columns="1">
                                        <h:panelGrid rendered="#{planOperativoMB.mostrarActv}">  
                                            <p:dataGrid var="car" value="#{planOperativoMB.listActividadBean}" columns="3" layout="grid"
                                                        rows="12" paginator="true" id="cars" paginatorPosition="bottom" style="width: 1000px;"
                                                        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                        rowsPerPageTemplate="6,12,16" rendered="#{not empty planOperativoMB.listActividadBean}">
                                                <f:facet name="header"> 
                                                    <p:outputLabel value="Lista de Actividades de #{planOperativoMB.objOperativoBean.nombre}"/> 
                                                    <p:commandLink id="cmdA" actionListener="#{planOperativoMB.cerrarActividad()}" style="float: left;"
                                                                   update=":pnlPlanGeneral:frmActiv2:pnlActiv2">
                                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                                    </p:commandLink>
                                                    <p:tooltip value="#{msgs.etiquetaCerrar}" for="cmdA" />
                                                </f:facet>
                                                <p:panel header=" #{car.nombre}" style="text-align:center;padding: 5px;width: 300px;">
                                                    <h:panelGrid columns="2" style="width:auto">  
                                                        <h:outputText value="#{msgs.etiquetaIngreso}"/>
                                                        <p:inputText value="#{car.ingreso}" readonly="true" >
                                                            <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                                        </p:inputText>
                                                        <h:outputText value="#{msgs.etiquetaEgreso}"/>
                                                        <p:inputText value="#{car.egreso}" readonly="true" >
                                                            <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                                        </p:inputText>  
                                                        <p:commandLink title="Ver Detalles" actionListener="#{planOperativoMB.obtenerActividadId2(car)}" oncomplete="PF('popDetActividad').show()"  process="@this"
                                                                       update=":frmDetalleActividad:pnlDetalleActividad,:frmAct:pnlAct,:frmDetActCr:pnlDetActCr2,:frmDetActCr:pnlDetActCr,:tblTblDetaActividad:pnlTblDetaActividad,:frmDeAct2:pnlAct2">
                                                            <!--h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" /--> 
                                                            <h:graphicImage value="/resources/images/icons/ver_detalle.png" alt="ver" />
                                                        </p:commandLink>
                                                    </h:panelGrid> 
                                                </p:panel>
                                                <f:facet name="footer" >
                                                    Numero de Actividades #{planOperativoMB.listActividadBean.size()}
                                                </f:facet>
                                            </p:dataGrid> 
                                        </h:panelGrid>
                                        <h:panelGroup rendered="#{not empty planOperativoMB.listActividadBean}">
                                            <div align="center"> 
                                                <h:commandLink id="cmdActImp" target="_blank" actionListener="#{planOperativoMB.imprimirPdfActividad()}">
                                                    <h:graphicImage value="/resources/images/icons/pdf.png" />
                                                </h:commandLink>
                                            </div>
                                            <p:tooltip for="cmdActImp" value="#{msgs.etiquetaImprimir}" />
                                        </h:panelGroup>
                                    </h:panelGrid> 
                                </h:form> 
                            </p:tab>   
                            <p:tab title="#{msgs.etiquetaInfo} #{msgs.etiquetaPresu}" > 
                                <!--Cambios Operativos-->  
                                <!--Fin--> 
                                <h:form id="frmPresDet" >
                                    <h:panelGrid id="pnlPresDet" style="margin: 0 auto;" >
                                        <p:dataGrid value="#{planOperativoMB.listCrAct}" var="detPres" 
                                                    columns="3" layout="grid" rows="6" paginator="true"  paginatorPosition="bottom"
                                                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                    rowsPerPageTemplate="6,12,16" rendered="#{not empty  planOperativoMB.listCrAct}" style="width: 1500px;" >
                                            <f:facet name="header" >
                                                <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                            </f:facet>
                                            <p:panel  header="#{msgs.etiquetaNroCue}: #{detPres.planContableBean.cuenta}- cr: #{detPres.centroResponsabilidadBean.cr}" style="text-align:center;width:450px;">
                                                <h:panelGrid columns="2" style="width:400px;">  
                                                    <p:outputLabel value="#{msgs.etiquetaCentRes}" />
                                                    <p:inputTextarea value="#{detPres.centroResponsabilidadBean.nombre}" readonly="true" autoResize="false" cols="25" style="padding: 5px;" /> 
                                                    <p:outputLabel value="#{msgs.etiquetaNomCuenta}" />
                                                    <p:inputTextarea value="#{detPres.planContableBean.nombre}" readonly="true" autoResize="false" cols="25" style="padding: 5px;" />
                                                    <p:outputLabel value="#{msgs.etiquetaImpor}" />
                                                    <p:inputText value="#{detPres.importe}" readonly="true" style="width: 225px;padding: 5px;" >
                                                        <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                                    </p:inputText>  
                                                </h:panelGrid>
                                            </p:panel>
                                        </p:dataGrid>  
                                    </h:panelGrid>
                                </h:form>
                                <h:panelGrid style="margin: 0 auto;" columns="2" >
                                    <h:form id="frmCrAct" > 
                                        <h:panelGrid id="pnlCrAct" style="margin: 0 auto;">
                                            <p:dataList value="#{planOperativoMB.listCrActividad}" var="cr" type="unordered" itemType="none" paginator="true" rows="6" styleClass="paginated" 
                                                        paginatorPosition="bottom" style="height: 300px;">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaPres}" />
                                                </f:facet>
                                                <h:outputText value="#{cr.centroResponsabilidadBean.cr} - #{cr.centroResponsabilidadBean.nombre}" />
                                                <p:commandLink title="#{msgs.etiquetaVerDeta}" styleClass="ui-icon ui-icon-search" style="float:left;margin-right:10px" 
                                                               update=":pnlPlanGeneral:frmGrafoPres:pnlGrafoPres" action="#{planOperativoMB.graficarPres(cr)}"> 
                                                </p:commandLink> 
                                            </p:dataList>
                                        </h:panelGrid>
                                        <h:panelGrid columns="2" style="margin: 0 auto;">
                                            <h:panelGroup rendered="false" >
                                                <div align="center"> 
                                                    <h:commandLink id="pdfPres" action="#{planOperativoMB.imprimirTodosPdf()}" target="_blank">
                                                        <h:graphicImage value="/resources/images/icons/pdf.png" />
                                                    </h:commandLink>
                                                </div>
                                                <p:tooltip for="pdfPres" value="#{msgs.etiquetaImprimir}" />
                                            </h:panelGroup> 
                                            <h:panelGroup rendered="#{not empty planOperativoMB.listCrActividad}">
                                                <div align="center"> 
                                                    <h:commandLink id="pdfPres2" action="#{planOperativoMB.imprimirPresupuestoCr()}" target="_blank">
                                                        <h:graphicImage value="/resources/images/icons/pdf.png" />
                                                    </h:commandLink>
                                                </div>
                                                <p:tooltip for="pdfPres2" value="#{msgs.etiquetaImprimir}" />
                                            </h:panelGroup>
                                        </h:panelGrid>
                                    </h:form>
                                    <h:form id="frmGrafoPres" >
                                        <h:panelGrid id="pnlGrafoPres" >
                                            <!--iframe id="myIrame" src="http://localhost:8080/SigmaVersion/faces/mantenimientos/mantPresupuestoGrafo.xhtml" width="600px" height="300px" scrolling="no" /--> 
                                            <!--iframe id="myIrame" src="http://pro_web:4254/SigmaVersion60/faces/mantenimientos/mantPresupuestoGrafo.xhtml" width="600px" height="300px" scrolling="no" /--> 
                                            <iframe id="myIrame" src="#{planOperativoMB.recurso}" width="600px" height="500px" scrolling="yes" /> 
                                        </h:panelGrid>
                                    </h:form> 
                                </h:panelGrid> 
                            </p:tab>
                        </p:tabView>
                    </p:panel>
                </p:layoutUnit>
                <p:growl id="msgsAddProc3" showDetail="true" showSummary="true"/>
            </p:layout> 
            <p:tab> 
                <p:dialog id="popPlanO" widgetVar="popPlanO" showEffect="fade" hideEffect="explode" resizable="false" modal="true" height="250px" style="width: auto;" closeOnEscape="true">
                    <h:form id="frmDatosPlanOp">
                        <p:panel header="#{msgs.etiquetaPlanOper}" style="text-align: center !important;width: 500px;">
                            <h:panelGrid id="pnlDatosPlan" style="margin: 0 auto" >
                                <h:panelGrid styleClass="centrado" columns="3" >
                                    <p:outputLabel value="#{msgs.etiquetaUniOrg}" />
                                    <p:outputLabel value="*"  class="requerido"/>
                                    <p:selectOneMenu value="#{planOperativoMB.planOperativo.unidadOrganicaBean.idUniOrg}" required="true" label="#{msgs.etiquetaUniOrg}">
                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                        <f:selectItems value="#{planOperativoMB.listaUniOrg}" var="unidadOrg" 
                                                       itemLabel="#{unidadOrg.nombreUniOrg}" itemValue="#{unidadOrg.idUniOrg}"/>
                                    </p:selectOneMenu>
                                    <p:outputLabel value="#{msgs.etiquetaAnio}" class="negrita"/>
                                    <p:outputLabel value="*" class="requerido"/> 
                                    <p:spinner value="#{planOperativoMB.planOperativo.anio}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaAnio}" size="5" required="true">
                                    </p:spinner> 
                                    <p:outputLabel value="#{msgs.etiquetaAprobadoPor}" class="negrita"/>
                                    <p:outputLabel value="*" class="requerido"/>
                                    <p:inputText value="#{planOperativoMB.planOperativo.aprobadoPor}" required="true" label="#{msgs.etiquetaAprobadoPor}" />  
                                </h:panelGrid>
                                <h:panelGrid styleClass="centrado" >
                                    <p:inputTextarea value="#{planOperativoMB.planOperativo.nombre}" rows="5" cols="40" required="true" label="#{msgs.etiquetaPlanOperativo}"/> 
                                </h:panelGrid>
                            </h:panelGrid> 
                            <h:panelGrid class="centrado" columns="2" style="margin: 0 auto">
                                <p:commandButton  
                                    actionListener="#{planOperativoMB.guardarPlanOperativo()}"
                                    oncomplete="if(args.operacionCorrecta){PF('popDone').show();PF('popPlanO').hide();}"
                                    update=":frmBuscar:pnlPlanBuscar,:frmDatosPlanOp:msgPlanOpe"
                                    value="#{msgs.botonGrabar}">
                                </p:commandButton>
                                <p:commandButton
                                    actionListener="#{planOperativoMB.limpiarPlanOperativo()}"
                                    update=":frmDatosPlanOp:pnlDatosPlan"                                                                 
                                    value="#{msgs.botonLimpiar}" process="@this">
                                </p:commandButton>
                            </h:panelGrid> 
                        </p:panel>
                        <p:messages id="msgPlanOpe" showDetail="true" autoUpdate="true" closable="true" />
                    </h:form>
                    <h:form id="frmTablaPO">
                        <h:panelGrid styleClass="centrado" id="pnlTblPO" style="text-align: center !important ; font-weight: bold; font-size: 20px" >
                            <p:dataTable id="tblPO" value="#{planOperativoMB.listaPlanOperativo}" widgetVar="tblPO"
                                         paginator="true" selectionMode="single" selection="#{planOperativoMB.planOperativoBean}"
                                         var="planOp" rowKey="#{planOp}"
                                         rows="#{planOperativoMB.numRegistrosTablas}" 
                                         rendered="#{not empty planOperativoMB.listaPlanOperativo}" 
                                         style="width: #{planOperativoMB.anchoTablasBig}; font-size: 12px">
                                <p:ajax event="rowSelect" listener="#{planOperativoMB.rowSelect}" update=":frmDatosPlanOp:pnlDatosPlan"/>
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaPlanOper}" />  
                                </f:facet>
                                <p:column filterBy="#{planOp.nombre}">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaPlanOperativo}" />
                                    </f:facet>
                                    <h:outputText value="#{planOp.nombre}" />
                                </p:column>
                                <p:column filterBy="#{planOp.aprobadoPor}" >
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaAprobadoPor}" />
                                    </f:facet>
                                    <h:outputText value="#{planOp.aprobadoPor}" />
                                </p:column>
                                <p:column filterBy="#{planOp.anio}">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaAnio}" />
                                    </f:facet>
                                    <h:outputText value="#{planOp.anio}" />
                                </p:column>   
                                <p:column style="text-align:center;width: 80px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <center>
                                        <p:commandLink id="cmdEliminar"  actionListener="#{planOperativoMB.obtenerPorId(planOp)}"
                                                       oncomplete="PF('popEliminar').show();" process="@this">
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                    </center>
                                    <p:tooltip id="toolTipDel" for="cmdEliminar" value="#{msgs.mensajeDelCatCon}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>
            </p:tab>
            <h:form id="frmElimina">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade"  hideEffect="explode" widgetVar="popEliminar" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage 
                            value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.etiquetaPlanOper}:"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"  
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar').hide();PF('popDone').show();PF('popPlanO').hide()}"
                                         update=":frmBuscar:pnlPlanBuscar,:frmTablaPO:pnlTblPO"
                                         actionListener="#{planOperativoMB.eliminarPlanOperativo()}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar').hide();"/>
                    </h:panelGrid>
                </p:dialog>
            </h:form>

            <h:form id="frmElimina2">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade"  hideEffect="explode" widgetVar="popEliminar2" resizable="false" modal="true">
                    <h:panelGrid id="pnlElimina2" columns="2"> 
                        <h:graphicImage 
                            value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.etiquetaObjOperativo} : #{planOperativoMB.objOperativoBean.nombre}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" class="centrado"> 
                        <p:commandButton value="#{msgs.etiquetaSi}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"  
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar2').hide();PF('popDone').show();}"
                                         update=":pnlPlanGeneral:frmTblObjOperativo:pnlTblObjOperativo"
                                         actionListener="#{planOperativoMB.eliminarObjOperativo()}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar2').hide();"/>
                    </h:panelGrid>
                </p:dialog>
            </h:form>

            <h:form id="frmElimina3">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade"  hideEffect="explode" widgetVar="popEliminar3" resizable="false" modal="true">
                    <h:panelGrid id="pnlElimina3" columns="2"> 
                        <h:graphicImage 
                            value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina3">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.etiquetaActividad} : #{planOperativoMB.actividadBean.nombre}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"  
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar3').hide();PF('popDone').show();}"
                                         update=":frmTblActividad:pnlTblActividad"
                                         actionListener="#{planOperativoMB.eliminarActividad()}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar3').hide();"/>
                    </h:panelGrid>
                </p:dialog>
            </h:form>

            <h:form>
                <p:dialog header="#{msgs.appSiglas}" widgetVar="popDone" width="370" height="120" showEffect="fade" hideEffect="explode"
                          modal="true">
                    <h:graphicImage value="/resources/images/icons/iconoInfo.png" />
                    <h:outputText value="#{msgs.notificacionExito}"/>
                    <br/><br/>
                    <div align="center">
                        <p:commandButton oncomplete="PF('popDone').hide();" 
                                         value="#{msgs.botonCerrar}" >
                        </p:commandButton>
                    </div>
                </p:dialog>
            </h:form>
            <h:form id="frmPopEstDet">
                <p:dialog widgetVar="popEstrategico" showEffect="fade" hideEffect="explode" resizable="false" modal="true" width="1500px" height="800px" > 
                    <h:panelGrid style="margin: 0 auto" columns="2" >
                        <p:panel header="#{msgs.etiquetaFiltro}" style="width: 1050px;">
                            <h:panelGrid style="margin: 0 auto;" columns="2">
                                <h:panelGrid columns="3" style="margin: 0 auto;padding: 10px;" >
                                    <h:outputText value="#{msgs.etiquetaResponsable}:" />
                                    <p:inputText value="#{planOperativoMB.objetivoEstrategicoDetFiltroBean.responsable}" />
                                    <!--<p:message for="txtObEDObjO" showDetail="true" />-->
                                </h:panelGrid>
                                <h:panelGrid columns="2" style="margin: 0 auto;padding: 10px;" >
                                    <p:commandButton value="#{msgs.botonBuscar}" actionListener="#{planOperativoMB.obtenerObjEstDet()}" 
                                                     update=":frmPopEstDet:pnlPopEstDet"/>
                                    <p:commandButton value="#{msgs.botonLimpiar}" />
                                </h:panelGrid>
                            </h:panelGrid>
                        </p:panel>
                    </h:panelGrid>
                    <h:panelGrid id="pnlPopEstDet" style="margin: 0 auto;">
                        <p:dataTable  value="#{planOperativoMB.listaObjetivoEstrategicoDetBean}" widgetVar="tblObjDetEst"
                                      paginator="true" var="objDetEst" rowKey="#{objDetEst}" selection="#{planOperativoMB.objetivoEstrategicoDetBean}"
                                      rows="6" rowIndexVar="#{objDetEst.responsable}" expandedRow="false"
                                      rendered="#{not empty planOperativoMB.listaObjetivoEstrategicoDetBean}"
                                      style="width:1100px; font-size: 12px" paginatorPosition="botton" >
                            <p:ajax event="rowToggle" listener="#{planOperativoMB.onRowToggle}" update="frmSubItem"/>
                            <f:facet name="header" >
                                <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                            </f:facet>
                            <p:column style="width:16px">
                                <p:rowToggler />
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaResponsable}" />
                                </f:facet>
                                <h:outputText value="#{objDetEst.responsable}" />
                            </p:column>
                            <p:column style="width: 150px;">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                </f:facet>
                                <center>
                                    <p:commandLink id="cmdEliminar2" onclick="#{planOperativoMB.ponerObjEstrategicos(objDetEst)}" process="@this"
                                                   update=":pnlPlanGeneral:frmPlanOperativo:pnlObjEstOO" oncomplete="PF('popEstrategico').hide()">
                                        <h:graphicImage value="/resources/images/icons/select.png" style="border:0;cursor:pointer;" />
                                    </p:commandLink>
                                </center>
                                <p:tooltip id="toolTipDel" for="cmdEliminar2" value="#{msgs.mensajeSelect}" />
                            </p:column>
                            <p:rowExpansion>
                                <h:form id="frmSubItem">
                                    <p:dataGrid var="objSubDetEst" value="#{planOperativoMB.listaSubObjetivoEstrategicoDetBean}" columns="1" layout="grid"
                                                style="width: 1100px;margin: 0 auto;">
                                        <p:panel header="#{objSubDetEst.responsable}" style="text-align:center;width: 700px;">
                                            <h:panelGrid columns="2" style="width: 600px;">
                                                <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}" />
                                                <h:outputText value="#{objSubDetEst.responsable}" />
                                                <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}" />
                                                <h:outputText value="#{objSubDetEst.lineaEstrategicaBean.nombre}"/>
                                                <p:outputLabel value="#{msgs.etiquetaObjetivoEstrategica}" />
                                                <h:outputText value="#{objSubDetEst.objetivoEstrategicaBean.nombre}"/>
                                                <h:inputHidden value="#{objSubDetEst.objetivoEstrategicaBean.idObjEstrategico}"/>
                                            </h:panelGrid>
                                        </p:panel>
                                    </p:dataGrid>
                                </h:form>
                            </p:rowExpansion>
                        </p:dataTable>
                    </h:panelGrid> 
                </p:dialog>
            </h:form>  
            <h:form id="frmPopActividad"> 
                <p:dialog widgetVar="popActividad" showEffect="fade" hideEffect="explode" resizable="false" modal="true" styleClass="autoWidthDialog" closeOnEscape="true" > 
                    <h:panelGrid id="pnlPopActividad" style="margin: 0 auto" columns="1" >  
                        <p:panel header="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaPlanEstrategico}" style="margin-bottom:1px;width: 1100px" collapsed="#{planOperativoMB.panelPlan}" toggleable="true" toggleSpeed="500" closeSpeed="500" >
                            <h:panelGrid style="margin: 0 auto;" >
                                <p:dataTable value="#{planOperativoMB.listaPlanEstrategicoBean}" var="planList" paginatorPosition="bottom"
                                             rendered="#{not empty planOperativoMB.listaPlanEstrategicoBean}" paginator="true" rows="3"
                                             style="width: 1000px;" rowKey="#{planList}" selection="#{planOperativoMB.planEstrategicoBean}"  >
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}" />
                                        <p:commandLink id="cmdPl1" oncomplete="PF('popActividad').hide()" style="float: left;"
                                                       update=":frmPopActividad:pnlPopActividad" process="@this">
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                        <p:tooltip for="cmdPl1" value="#{msgs.etiquetaCerrar}" />
                                    </f:facet>
                                    <p:column>
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}" />
                                        </f:facet>
                                        <h:outputText value="#{planList.nombre}" style="text-align: justify" />
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaDesc}" />
                                        </f:facet>
                                        <h:outputText value="#{planList.descripcion}" style="text-align: justify" />
                                    </p:column>
                                    <p:column style="width: 50px;">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                        </f:facet>
                                        <center>
                                            <p:commandLink id="cmdPl" actionListener="#{planOperativoMB.obtenerLineaPorPlan(planList)}" 
                                                           update=":frmPopActividad:pnlPopTblLinea,:frmPopActividad:msg,:frmPopActividad:pnlPopActividad"
                                                           process="@this" >
                                                <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                            </p:commandLink>
                                        </center>
                                        <p:tooltip for="cmdPl" value="#{msgs.etiquetaSeleccionar}" />
                                    </p:column>
                                </p:dataTable>
                            </h:panelGrid> 
                        </p:panel>   
                    </h:panelGrid> 
                    <br/> 
                    <p:messages autoUpdate="false" id="msg" />
                    <br/> 
                    <h:panelGrid id="pnlPopTblLinea" style="margin: 0 auto;"  >  
                        <p:panel header="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaLineaEstrategica}" style="margin-bottom:1px;width: 1100px" collapsed="#{planOperativoMB.panelLin}" toggleable="true" toggleSpeed="500" closeSpeed="500" rendered="#{not empty planOperativoMB.listaLineaEstrategicaBean}" >
                            <h:panelGrid style="margin: 0 auto;">
                                <p:dataTable id="tblLinea" var="linea" value="#{planOperativoMB.listaLineaEstrategicaBean}" style="width: 1000px;"
                                             paginator="true" rendered="#{not empty planOperativoMB.listaLineaEstrategicaBean}" paginatorPosition="bottom"
                                             rows="6" rowKey="#{linea}" selection="#{planOperativoMB.lineaEstrategicaBean.idLinea}" >
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}" />
                                        <p:commandLink id="cmdPl2" actionListener="#{planOperativoMB.cerrarLinEst()}" style="float: left;"
                                                       update=":frmPopActividad:pnlPopTblLinea,:frmPopActividad:pnlPopTblObj,:frmPopActividad:pnlPopActividad" 
                                                       process="@this">
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                        <p:tooltip for="cmdPl2" value="#{msgs.etiquetaCerrar}" />
                                    </f:facet>
                                    <p:column filterBy="#{linea.nombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto nombre3Filtro">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}"  />
                                        </f:facet>
                                        <h:outputText value="#{linea.nombre}"/>
                                    </p:column>
                                    <p:column filterBy="#{linea.descripcion}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto nombre3Filtro">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaDesc}"/>
                                        </f:facet>
                                        <h:outputText value="#{linea.descripcion.subSequence(0,50)}.." style="text-align: justify"/>
                                    </p:column>
                                    <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaEstado}"/>
                                        </f:facet>
                                        <center>
                                            <h:outputText value="#{linea.status}" style="text-align: justify"/>
                                        </center>
                                    </p:column>
                                    <p:column filterMatchMode="contains" width="0.5%" styleClass="siseFontTable3 centrado-texto">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                        </f:facet>
                                        <center>
                                            <p:commandLink id="cmdEliminar3" actionListener="#{planOperativoMB.obtenerObjPorLinea(linea)}" process="@this"
                                                           update=":frmPopActividad:pnlPopTblObj,:frmPopActividad:msg2,:frmPopActividad:pnlPopTblLinea" >
                                                <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                            </p:commandLink>
                                        </center>
                                        <p:tooltip id="toolTipSelectLin" for="cmdEliminar3" value="#{msgs.mensajeSelect}" />
                                    </p:column>
                                </p:dataTable>
                            </h:panelGrid> 
                        </p:panel>    
                    </h:panelGrid>
                    <br/> 
                    <p:messages autoUpdate="false" id="msg2" />
                    <br/> 
                    <h:panelGrid id="pnlPopTblObj" style="margin: 0 auto;" > 
                        <p:panel header="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaObjetivoEstrategica}" style="margin-bottom:1px;width: 1100px" collapsed="#{planOperativoMB.panelObj}" toggleable="true" toggleSpeed="500" closeSpeed="500" rendered="#{not empty planOperativoMB.listaObjetivoEstrategicaBean}" >
                            <h:panelGrid style="margin:0 auto;" >
                                <p:dataTable id="tblObj" var="obj" value="#{planOperativoMB.listaObjetivoEstrategicaBean}" style="width: 1000px;text-align: center;"
                                             paginator="true" rendered="#{not empty planOperativoMB.listaObjetivoEstrategicaBean}" paginatorPosition="bottom" 
                                             rows="6" rowKey="#{obj}" selection="#{planOperativoMB.objetivoEstrategicaBean}" >
                                    <!--p:ajax event="rowToggle" listener="#{planOperativoMB.onRowToggle2}" update="frmRes,:frmPopActividad:pnlPopTblObjDet"/-->
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaObjetivoEstrategica}" />
                                        <p:commandLink id="cmdPl3" actionListener="#{planOperativoMB.cerrarObjEst()}" style="float: left;"
                                                       update=":frmPopActividad:pnlPopTblObj,:frmPopActividad:pnlPopTblLinea" 
                                                       process="@this">
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                        <p:tooltip for="cmdPl3" value="#{msgs.etiquetaCerrar}" />
                                    </f:facet>
                                    <p:column filterBy="#{obj.nombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto nombre2Filtro">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.EtiquetaNombre}" />
                                        </f:facet>
                                        <h:outputText value="#{obj.nombre}" style="text-align: center" />
                                    </p:column>
                                    <p:column filterBy="#{obj.descripcion}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto nombre2Filtro">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaDesc}" />
                                        </f:facet>
                                        <h:outputText value="#{obj.descripcion.subSequence(0,30)}" style="text-align: justify" />
                                    </p:column>
                                    <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaEstado}" />
                                        </f:facet>
                                        <h:outputText value="#{obj.status}" style="text-align: justify" />
                                    </p:column>
                                    <p:column filterMatchMode="contains" width="0.5%" styleClass="siseFontTable3 centrado-texto">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                        </f:facet>
                                        <center>
                                            <p:commandLink id="cmdObjEst" actionListener="#{planOperativoMB.obtenerPorObjEstrategico(obj)}" process="@this"
                                                           update=":frmPopActividad:pnlPopTblObjDet,:frmPopActividad:pnlPopTblObj">
                                                <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                            </p:commandLink>
                                        </center>
                                        <p:tooltip for="cmdObjEst" value="#{msgs.mensajeSelect}" />
                                    </p:column>
                                </p:dataTable>
                            </h:panelGrid> 
                        </p:panel> 
                    </h:panelGrid>
                    <br/>
                    <p:messages autoUpdate="false" id="msg3" />
                    <br/>
                    <h:panelGrid id="pnlPopTblObjDet" style="margin: 0 auto;" >
                        <p:panel header="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaResponsable}" style="margin-bottom:1px;width: 1100px" collapsed="#{planOperativoMB.panelRes}" toggleable="true" toggleSpeed="500" closeSpeed="500" rendered="#{not empty planOperativoMB.listaObjetivoEstrategicoDetBean}" >
                            <h:panelGrid style="margin: 0 auto;" columns="1" >
                                <p:dataTable value="#{planOperativoMB.listaObjetivoEstrategicoDetBean}" var="responsable" 
                                             rendered="#{not empty planOperativoMB.listaObjetivoEstrategicoDetBean}" 
                                             paginator="true" paginatorPosition="bottom" rows="6" style="width: 1000px;">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaResponsable}" />
                                        <p:commandLink id="cmdPl4" actionListener="#{planOperativoMB.cerrarResponsable()}" style="float: left;"
                                                       update=":frmPopActividad:pnlPopTblObj,:frmPopActividad:pnlPopTblObjDet" 
                                                       process="@this">
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                        <p:tooltip for="cmdPl4" value="#{msgs.etiquetaCerrar}" />
                                    </f:facet>
                                    <p:column filterBy="#{responsable.planEstrategicoBean.nombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto nombre2Filtro">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}" />
                                        </f:facet>
                                        <h:outputText value="#{responsable.planEstrategicoBean.nombre}" style="width: 450px;" />
                                    </p:column>
                                    <p:column filterBy="#{responsable.lineaEstrategicaBean.nombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto nombre2Filtro">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}" />
                                        </f:facet>
                                        <h:outputText value="#{responsable.lineaEstrategicaBean.nombre}" style="width: 450px;" />
                                    </p:column>
                                    <p:column filterBy="#{responsable.objetivoEstrategicaBean.nombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto nombre2Filtro">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaObjetivoEstrategica}" />
                                        </f:facet>
                                        <h:outputText value="#{responsable.objetivoEstrategicaBean.nombre}" style="width: 450px;" />
                                    </p:column>
                                    <p:column filterBy="#{responsable.responsable}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto nombre2Filtro">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaResponsable}" />
                                        </f:facet>
                                        <h:outputText value="#{responsable.responsable}" style="width: 450px;" />
                                    </p:column>
                                    <p:column filterMatchMode="contains" width="0.5%" styleClass="siseFontTable3 centrado-texto">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaAcci}"/>
                                        </f:facet>
                                        <p:commandLink id="cmdEliminar4" actionListener="#{planOperativoMB.ponerObjEstrategicos(responsable)}" 
                                                       process="@this,:pnlPlanGeneral:frmPlanOperativo:txtNomRes,
                                                       :pnlPlanGeneral:frmPlanOperativo:txtNomLinea,
                                                       :pnlPlanGeneral:frmPlanOperativo:txtNomPlan, 
                                                       :pnlPlanGeneral:frmPlanOperativo:txtIdNomRes,
                                                       :pnlPlanGeneral:frmPlanOperativo:txtIdNomLinea,
                                                       :pnlPlanGeneral:frmPlanOperativo:txtIdNomPlan" update=":pnlPlanGeneral:frmPlanOperativo:pnlObjEstOO" oncomplete="PF('popActividad').hide()">
                                            <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                    </p:column>
                                </p:dataTable>
                            </h:panelGrid>
                        </p:panel>
                    </h:panelGrid>
                </p:dialog>
            </h:form>  
            <h:panelGrid id="pnlActCR" >
                <p:dialog id="popSubCr2" header="Actividad: #{planOperativoMB.nomActividad}- CR: #{planOperativoMB.nomCr}" widgetVar="popSubCr2" style="width: 800px;height: 500px;" modal="true"  showEffect="explode"   >
                    <h:form id="frmSubCr2" > 
                        <h:panelGrid style="margin: 0 auto;" >
                            <p:panel header="Registrar Sub-Actividad" style="width: 500px;" >
                                <h:panelGrid id="pnlSubCr2" style="margin: 0 auto;" columns="3"> 
                                    <p:outputLabel value="Sub-Actividad:" />
                                    <p:outputLabel value="" />
                                    <p:inputText value="#{planOperativoMB.detActividadBean.descripcion}" style='width: 300px' />
                                    <p:outputLabel value="#{msgs.etiquetaNroCuenta}:" />
                                    <p:outputLabel value="" /> 
                                    <p:selectOneMenu id="advanced" value="#{planOperativoMB.detActividadBean.planContableBean.cuenta}" filter="true"
                                                     effect="fade" label="#{msgs.etiquetaNroCuenta}" style='width: 300px' panelStyle="width:300px">
                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                        <f:selectItems value="#{planOperativoMB.listPlanContableBean}" var="plan" itemLabel="#{plan.cuenta}-#{plan.nombre}" itemValue="#{plan.cuenta}" />
                                       <!-- <p:ajax event="change" listener="#{planOperativoMB.filtrarCuenta}" update="advanced" process="@this" />-->
                                    </p:selectOneMenu>
                                    <p:outputLabel value="#{msgs.etiquetaImpor}" />
                                    <p:outputLabel value="" />
                                    <p:inputText value="#{planOperativoMB.detActividadBean.importe}" style='width: 300px' />
                                    <p:outputLabel value="#{msgs.etiquetaMes}" />
                                    <p:outputLabel value="" />
                                    <p:selectOneMenu value="#{planOperativoMB.detActividadBean.mes}" effect="fade" label="#{msgs.etiquetaNroCuenta}" style='width: 300px'>
                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                        <f:selectItems value="#{planOperativoMB.listaMesesExpMap}" var="mes" itemValue="#{mes}" /> 
                                    </p:selectOneMenu>
                                </h:panelGrid>
                                <h:panelGrid columns="2" style="margin: 0 auto;" >
                                    <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{planOperativoMB.insertarDetaActividad()}" update=":frmSubCr2:pnlSubCr2,:tblTblDetaActividad:pnlTblDetaActividad,:frmDeAct2:pnlAct2,:pnlPlanGeneral:frmPresDet:pnlPresDet,:pnlPlanGeneral:frmCrAct:pnlCrAct" 
                                                     oncomplete="if(args.operacionCorrecta){PF('popDone').show()}else{if(args.error){PF('popFail').show()}};" />
                                    <p:commandButton value="#{msgs.botonNuevo}" actionListener="#{planOperativoMB.limpiarDetActividad()}" update=":frmSubCr2:pnlSubCr2" 
                                                     process="@this"/>
                                </h:panelGrid>  
                            </p:panel>     
                        </h:panelGrid> 
                    </h:form>
                    <h:form id="tblTblDetaActividad" >    
                        <h:panelGrid id="pnlTblDetaActividad" columns="1" style="margin: 0 auto;">
                            <p:growl id="msgs" showDetail="true"/>
                            <p:dataTable id="tblDA" widgetVar="tblDA" value="#{planOperativoMB.listaDetActividadBean}" var="listDeta" rows="6"
                                         rowKey="#{listDeta}" rendered="#{not empty planOperativoMB.listaDetActividadBean}"
                                         selection="#{planOperativoMB.detActividadBean}" style="width: 800px;text-align: center;"
                                         paginator="true" paginatorPosition="bottom" editable="true">
                                <p:ajax event="rowEdit" listener="#{planOperativoMB.onRowEdit}" update=":tblTblDetaActividad:msgs,:frmDeAct2:pnlAct2" />
                                <p:ajax event="rowEditCancel" listener="#{planOperativoMB.onRowCancel}" update=":tblTblDetaActividad:msgs" />
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                </f:facet> 
                                <p:column headerText="#{msgs.etiquetaDesc}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <p:cellEditor>
                                        <f:facet name="output" >
                                            <h:outputText value="#{listDeta.descripcion}" />
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputTextarea value="#{listDeta.descripcion}" cols="20" rows="2"/>
                                        </f:facet>
                                    </p:cellEditor> 
                                </p:column>
                                <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto" >
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaNumCta}" />
                                    </f:facet>
                                    <h:outputText value="#{listDeta.planContableBean.cuenta}"  />
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaImporte}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto" >
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{listDeta.importe}" >
                                                <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                            </h:outputText>
                                        </f:facet>
                                        <f:facet name="input">
                                            <center>
                                                <p:inputText value="#{listDeta.importe}" style="width: 100%" />
                                            </center>
                                        </f:facet>
                                    </p:cellEditor> 
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaMes}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto" >
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{listDeta.meses}" />
                                        </f:facet>
                                        <f:facet name="input">   
                                            <h:selectOneMenu value="#{listDeta.mes}" style="width:100%"> 
                                                <f:selectItems value="#{planOperativoMB.listaMesesExpMap}" var="mes" itemLabel="#{mes}" itemValue="#{mes}"/>
                                            </h:selectOneMenu>
                                        </f:facet>
                                    </p:cellEditor> 
                                </p:column> 
                                <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto">
                                    <p:rowEditor />  
                                </p:column>
                                <p:column style="width:50px" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto" >
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                    </f:facet>
                                    <center> 
                                        <p:commandLink id="cmdEliminarAct"  actionListener="#{planOperativoMB.obtenerDetaActividad(listDeta)}"
                                                       oncomplete="PF('popEliminar4').show();" process="@this" update=":frmElimina4:pnlElimina4">  
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                    </center>
                                    <p:tooltip for="cmdEliminarAct" value="#{msgs.etiquetaEliminar}" />
                                </p:column>
                                <p:columnGroup type="footer">
                                    <p:row>
                                        <p:column colspan="2" style="text-align:right" footerText="Total:" />
                                        <p:column footerText="#{planOperativoMB.importeSubActividad} soles" />
                                        <p:column colspan="3" />
                                    </p:row>
                                </p:columnGroup>
                            </p:dataTable>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>
            </h:panelGrid>



            <!--PopUpSubCr-->
            <p:dialog id="popSubCr" widgetVar="popSubCr" style="width: 500px;height: 500px;" modal="true"  > 
                <h:panelGrid id="pnlGeneral" style="margin: 0 auto;"> 
                    <h:panelGrid rendered="#{planOperativoMB.mostrarSub}" columns="1" style="margin: 0 auto;" >  
                        <h:form id="frmPlanContable"> 
                            <p:panel header="Plan Contable" style="width: 600px;margin: 0 auto;" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel">
                                <h:panelGrid id="pnlPlanContable" columns="2" style="margin: 0 auto;">
                                    <p:outputLabel value="#{msgs.etiquetaCuenta}" style="padding: 5px;" />
                                    <p:inputText value="#{planOperativoMB.planFiltroContableBean.cuenta}" style="padding: 5px;" />  
                                    <p:outputLabel value="#{msgs.etiquetaTipoCuenta}:" style="padding: 5px;" /> 
                                    <p:selectOneMenu id="tipCuenta" value="#{planOperativoMB.planFiltroContableBean.idTipoCuenta.idCodigo}">
                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                        <f:selectItems value="#{planOperativoMB.listaTipoCuenta}" var="tipoCuenta" itemLabel="#{tipoCuenta.codigo}" itemValue="#{tipoCuenta.idCodigo}"/>
                                    </p:selectOneMenu>   
                                </h:panelGrid> 
                                <h:panelGrid columns="2" style="margin: 0 auto;padding: 5px;">
                                    <p:commandButton value="#{msgs.botonBuscar}" actionListener="#{planOperativoMB.obtenerFiltrolanContable()}" update=":frmTblPlanContable:tblPlanContable" />
                                    <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{planOperativoMB.limpiarCuentaFiltro()}" update=":frmPlanContable:pnlPlanContable" process="@this" />
                                </h:panelGrid>
                            </p:panel>
                        </h:form>
                        <!--Separador-->
                        <h:form id="frmTblPlanContable"> 
                            <h:panelGrid id="tblPlanContable" columns="1" style="margin: 0 auto;" >
                                <p:dataTable value="#{planOperativoMB.listaPlanContableBean}" var="pC" rows="6"
                                             paginator="true" paginatorPosition="bottom" rowKey="#{pC}"
                                             rendered="#{not empty planOperativoMB.listaPlanContableBean}"
                                             style="width: 600px;text-align: center;" selectionMode="single"
                                             selection="#{planOperativoMB.planFiltroContableBean}">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                        <p:commandLink actionListener="#{planOperativoMB.cerrarPresupuesto3()}" style="float: left;"
                                                       update=":frmTblPlanContable:tblPlanContable">
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                    </f:facet>
                                    <p:column>
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaCuenta}" /> 
                                        </f:facet>
                                        <center>
                                            <h:outputText value="#{pC.cuenta}" />
                                        </center>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaNombre}" />
                                        </f:facet>
                                        <center>
                                            <h:outputText value="#{pC.nombre}" style="font-size: 10px;" />
                                        </center>
                                    </p:column> 
                                    <p:column>
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaTipoCuenta}" />
                                        </f:facet>
                                        <center>
                                            <h:outputText value="#{pC.idTipoCuenta.codigo}" />
                                        </center>
                                    </p:column>
                                    <p:column style="width: 50px;">
                                        <f:facet name="header">
                                            <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                        </f:facet>
                                        <center>
                                            <p:commandLink actionListener="#{planOperativoMB.obtenerCuenta(pC)}" oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                           update=":frmPlanContable:pnlPlanContable,:tblTblDetaActividad:pnlTblDetaActividad">
                                                <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                            </p:commandLink>
                                        </center> 
                                    </p:column>
                                </p:dataTable> 
                            </h:panelGrid>
                        </h:form> 
                    </h:panelGrid> 
                </h:panelGrid>  
            </p:dialog> 
            <p:dialog widgetVar="popDetActividad" showEffect="fade" resizable="false" modal="true" width="850px" closeOnEscape="true" >
                <h:form id="frmDetalleActividad"> 
                    <h:panelGrid id="pnlDetalleActividad" style="margin: 0 auto;">   
                        <h:panelGrid id="pnlPlanOperativo" columns="6" style="margin: 0 auto;"> 
                            <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.nombre}" />  
                            <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.anio}" />
                            <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.unidadOrganicaBean.idUniOrg}"/>
                            <h:inputHidden value="#{planOperativoMB.actividadFiltroBean.idActividad}"/>
                            <h:inputHidden value="#{planOperativoMB.actividadFiltroBean.objOperativoBean.idObjOperativo}"/>
                        </h:panelGrid> 
                    </h:panelGrid>
                </h:form> 
                <h:panelGrid columns="1" style="margin: 0 auto;">
                    <h:form id="frmAct"> 
                        <p:panel header="Actividad" style="width: 600px;margin: 0 auto;" >
                            <h:panelGrid id="pnlAct" columns="4" style="margin: 0 auto;"> 
                                <p:outputLabel value="#{msgs.etiquetaActividad}" style="padding: 5px;" />
                                <p:inputText value="#{planOperativoMB.actividadFiltroBean.nombre}" readonly="true" />
                                <p:outputLabel value="#{msgs.etiquetaIngreso}" style="padding: 5px;" />
                                <p:inputText value="#{planOperativoMB.actividadFiltroBean.ingreso}" readonly="true" >
                                    <f:convertNumber pattern="#0.00" />
                                </p:inputText>
                                <p:outputLabel value="#{msgs.etiquetaEgreso}" style="padding: 5px;" />
                                <p:inputText value="#{planOperativoMB.actividadFiltroBean.egreso}" readonly="true" >
                                    <f:convertNumber pattern="#0.00" />
                                </p:inputText>
                                <p:outputLabel value="Rendimiento" style="padding: 5px;" />
                                <h:outputText value="#{planOperativoMB.resultado}" />
                                <!--p:outputLabel value="#{msgs.etiquetaMeta}" style="padding: 5px;" />
                                <p:inputText value="#{planOperativoMB.actividadFiltroBean.meta}" readonly="true" /-->
                            </h:panelGrid>
                        </p:panel>
                    </h:form> 
                    <h:form id="frmDetActCr" >  
                        <h:panelGrid id="pnlDetActCr2" style="margin: 0 auto;"> 
                            <h:inputHidden value="#{planOperativoMB.actividadFiltroBean.idUniOrg}" />
                            <h:inputHidden value="#{planOperativoMB.actividadFiltroBean.anio}" />
                            <h:inputHidden value="#{planOperativoMB.actividadFiltroBean.objOperativoBean.idObjOperativo}" />
                            <h:inputHidden value="#{planOperativoMB.actividadFiltroBean.idActividad}" />  
                            <h:inputHidden value="#{planOperativoMB.actividadFiltroBean.meta}" />
                        </h:panelGrid>
                        <h:panelGrid id="pnlDetActCr" style="margin: 0 auto;width: 500px;" >
                            <p:fieldset legend="#{msgs.etiquetaAsignar}" > 
                                <h:panelGrid columns="1" style="margin: 0 auto;"> 
                                    <p:pickList id="pickCentroResponsabilidad" value="#{planOperativoMB.dualDetActCr}" var="cr" itemLabel="#{cr.cr}-#{cr.nombre}" itemValue="#{cr.cr}"
                                                showSourceFilter="true" showTargetFilter="true" filterMatchMode="contains" converter="#{cr}" >
                                        <f:facet name="sourceCaption">#{msgs.etiquetaDisponibles}</f:facet>
                                        <f:facet name="targetCaption">#{msgs.etiquetaSeleccionados}</f:facet>
                                        <p:ajax event="select" listener="#{planOperativoMB.onSelect}" oncomplete="if(args.abrirCr){PF('popSubCr2').show();};" update=":frmDetActCr:msgs,:pnlGeneral,:tblTblDetaActividad:pnlTblDetaActividad,pnlActCR,:popSubCr2" />
                                    </p:pickList>
                                </h:panelGrid> 
                                <h:panelGrid>
                                    <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{planOperativoMB.insertarActCr()}" oncomplete="if(args.operacionCorrecta){PF('popDone').show();}" 
                                                     update=":frmDetActCr:pnlDetActCr,:frmDetActCr:msgs" /> <!--oncomplete="if(args.operacionCorrecta){PF('popDone').show();}" update=":frmDetActCr:pnlDetActCr,:frmDetActCr:msgs" -->
                                </h:panelGrid>
                            </p:fieldset>
                        </h:panelGrid>
                        <p:growl id="msgs" showDetail="true" />
                    </h:form>
                    <h:form id="frmDeAct2" > 
                        <h:panelGrid id="pnlAct2" style="margin: 0 auto;"> 
                            <p:dataTable value="#{planOperativoMB.listaDetActMes}" var="actMes" rows="3"
                                         style="width: 450px;" paginator="true" paginatorPosition="bottom"
                                         rendered="#{not empty planOperativoMB.listaDetActMes}">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                </f:facet>   
                                <p:column>
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaMes}" /> 
                                    </f:facet>
                                    <center>
                                        <h:outputText value="#{actMes.meses}" /> 
                                    </center> 
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaImpor}" />
                                    </f:facet>
                                    <center>
                                        <h:outputText value="#{actMes.importe}" >
                                            <f:convertNumber pattern="#0.00" />
                                        </h:outputText> 
                                    </center>
                                </p:column> 
                                <p:column>
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaSubAct}" />
                                    </f:facet>
                                    <center>
                                        <h:outputText value="#{actMes.idDetActividad}" /> 
                                    </center>
                                </p:column> 
                            </p:dataTable>
                        </h:panelGrid>
                    </h:form>
                </h:panelGrid>  
                <!--Cambio antes :tblTblDetaActividad:pnlTblDetaActividad-->
            </p:dialog>  

            <h:form id="frmElimina4"> 
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade"  hideEffect="explode" widgetVar="popEliminar4" resizable="false" modal="true">
                    <h:panelGrid id="pnlElimina4" columns="2"> 
                        <h:graphicImage 
                            value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina4">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="Detalle de  #{planOperativoMB.detActividadBean.actividadBean.nombre}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"  
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar4').hide();PF('popDone').show();}"
                                         update=":tblTblDetaActividad:pnlTblDetaActividad,:frmDeAct2:pnlAct2,:frmSubCr2:pnlSubCr2" 
                                         actionListener="#{planOperativoMB.eliminarDetActiviadad()}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar4').hide();"/>
                    </h:panelGrid>
                </p:dialog>
            </h:form>

            <!--Presupuesto Genera l-->
            <p:dialog id="popPresupuesto" widgetVar="popPresupuesto" showEffect="fade" hideEffect="explode" resizable="false" modal="true" width="1500px" height="800px"  >
                <h:form id="frmPlanPresupuesto" > 
                    <p:panel header="#{msgs.etiquetaFiltro}" style="width: 1000px;margin: 0 auto;" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel">
                        <h:panelGrid id="pnlPlanPresupuesto" columns="6" style="margin: 0 auto;">
                            <p:outputLabel value="#{msgs.etiquetaNroCuenta}" style="padding: 5px;" />
                            <p:inputText value="#{planOperativoMB.planPresupuestoBean.cuenta}" style="padding: 5px;" /> 
                            <p:outputLabel value="#{msgs.etiquetaGrupoCuenta}:" style="padding: 5px;"/>
                            <p:selectOneMenu value="#{planOperativoMB.planPresupuestoBean.idTipoGrupoCta.idCodigo}">
                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                <f:selectItems value="#{planOperativoMB.listaTipoGrupoCuenta}" var="tipoGrupoCuenta" itemLabel="#{tipoGrupoCuenta.codigo}" itemValue="#{tipoGrupoCuenta.idCodigo}"/>
                            </p:selectOneMenu> 
                            <p:outputLabel value="#{msgs.etiquetaTipoCuenta}:" style="padding: 5px;" /> 
                            <p:selectOneMenu id="tipCuenta" value="#{planOperativoMB.planPresupuestoBean.idTipoCuenta.idCodigo}">
                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                <f:selectItems value="#{planOperativoMB.listaTipoCuenta}" var="tipoCuenta" itemLabel="#{tipoCuenta.codigo}" itemValue="#{tipoCuenta.idCodigo}"/>
                            </p:selectOneMenu>   
                        </h:panelGrid>
                        <br/>
                        <br/>
                        <h:panelGrid columns="2" style="margin: 0 auto;">
                            <p:commandButton value="#{msgs.botonBuscar}" actionListener="#{planOperativoMB.obtenerFiltroPresupuestoContable()}" 
                                             update=":frmPlanPresupuesto:pnlPlanPresupuesto,:frmTblPlanPresupuesto:pnlTblPlanPresupuesto,:frmPlanPresupuesto:msgPreFil" />
                            <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{planOperativoMB.limpiarPlanPresupuesto()}" process="@this"
                                             update=":frmPlanPresupuesto:pnlPlanPresupuesto" />
                        </h:panelGrid>
                    </p:panel>
                    <p:messages id="msgPreFil" autoUpdate="false" showDetail="true" />
                </h:form>
                <h:form id="frmTblPlanPresupuesto" > 
                    <h:inputHidden value="#{planOperativoMB.presupuestoBean.anio}" />
                    <h:panelGrid id="pnlTblPlanPresupuesto" columns="1" style="margin: 0 auto" > 
                        <p:dataTable value="#{planOperativoMB.listaPlanPresupuestoBean}" rows="6" var="plPresupuesto"
                                     rendered="#{not empty planOperativoMB.listaPlanPresupuestoBean}" selection="#{planOperativoMB.planPresupuestoBean}"
                                     rowKey="#{plPresupuesto}" style="width:1100px; font-size: 12px" paginatorPosition="bottom" paginator="true" 
                                     selectionMode="single" > 
                            <f:facet name="header" >
                                <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                <p:commandLink style="float: left;" actionListener="#{planOperativoMB.cerrarPresupuesto()}" 
                                               update=":frmTblPlanPresupuesto:pnlTblPlanPresupuesto">
                                    <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                </p:commandLink> 
                            </f:facet>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaCuenta}" />
                                </f:facet>
                                <h:outputText value="#{plPresupuesto.cuenta}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaNombre}" />
                                </f:facet>
                                <center>
                                    <h:outputText value="#{plPresupuesto.nombre}" style="font-size: 10px;" />
                                </center>
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaGrupoCuenta}" />
                                </f:facet>
                                <center>
                                    <h:outputText value="#{plPresupuesto.idTipoGrupoCta.codigo}" />
                                </center>
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaTipoCuenta}" />
                                </f:facet>
                                <center>
                                    <h:outputText value="#{plPresupuesto.idTipoCuenta.codigo}" />
                                </center>
                            </p:column>
                            <p:column style="width: 80px;">
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                </f:facet>
                                <center>
                                    <p:commandLink id="cmdGrafo2" action="#{planOperativoMB.obtenerCuentaPlanAct(plPresupuesto)}" update=":frmDA3:pnlDA3,:frmDA4:pnlDA4,:frmTblPresupuesto:msgPRes,:frmDA3:msgmsgPResCr" oncomplete="PF('popPresAct').show()">
                                        <h:graphicImage value="/resources/images/icons/search2.jpg" style="border:0;cursor:pointer;" />
                                    </p:commandLink> 
                                    &nbsp;&nbsp;&nbsp;
                                    <p:commandLink id="cmdSelPla" actionListener="#{planOperativoMB.obtenerCuentaPlan(plPresupuesto)}" oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                   update=":frmTblPresupuesto:pnlTblPresupuesto,:frmTblPresupuesto:msgPRes"> 
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                    </p:commandLink> 
                                </center> 
                                <p:tooltip  for="cmdGrafo2" value="#{msgs.etiquetaVerDeta}" />
                                <p:tooltip  for="cmdSelPla" value="#{msgs.etiquetaSeleccionar}" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </h:form>
                <h:form id="frmTblPresupuesto">  
                    <p:growl id="msgPRes" showDetail="true" />
                    <h:panelGrid id="pnlTblPresupuesto" style="margin: 0 auto" >
                        <p:dataTable value="#{planOperativoMB.listPresupuestoBean}" var="presupuesto" 
                                     rendered="#{not empty planOperativoMB.listPresupuestoBean}" rows="6"
                                     rowKey="#{presupuesto}" selection="#{planOperativoMB.presupuestoBean}"
                                     style="width:1100px; font-size: 12px" paginatorPosition="botton" paginator="true" 
                                     editable="true">
                            <p:ajax event="rowEdit" listener="#{planOperativoMB.onRowEditPres}" update=":frmTblPresupuesto:msgPRes" />
                            <p:ajax event="rowEditCancel" listener="#{planOperativoMB.onRowCancelPres}" update=":frmTblPresupuesto:msgPRes" /> 
                            <f:facet name="header">
                                <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                            </f:facet>  
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="Cuenta" />
                                </f:facet>  
                                <h:outputText value="#{presupuesto.planContableBean.cuenta}"  />
                            </p:column>
                            <p:column>
                                <f:facet name="header"> 
                                    <p:outputLabel value="#{msgs.etiquetaNomCuenta}" />
                                </f:facet>
                                <h:outputText value="#{presupuesto.planContableBean.nombre}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaPresupuesto} Ejecutado" />
                                </f:facet>
                                <h:outputText value="#{presupuesto.presupuestoEjec}" >
                                    <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Presupuesto Programado">
                                <p:cellEditor>
                                    <f:facet name="output">
                                        <h:outputText value="#{presupuesto.presupuestoProg}" >
                                            <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                        </h:outputText>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputText value="#{presupuesto.presupuestoProg}" style="font-size: 8px;" />
                                    </f:facet>
                                </p:cellEditor> 
                            </p:column> 
                            <p:column headerText="Presupuesto Tope"> 
                                <p:cellEditor>
                                    <f:facet name="output" >
                                        <h:outputText value="#{presupuesto.presupuestoTope}" >
                                            <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                        </h:outputText>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputText value="#{presupuesto.presupuestoTope}" style="font-size: 8px;" />
                                    </f:facet>
                                </p:cellEditor> 
                            </p:column>
                            <p:column style="width:50px">
                                <p:rowEditor/>
                            </p:column>
                            <p:column style="width:100px" >
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                </f:facet>
                                <center> 
                                    <p:commandLink id="cmdDelPres"  actionListener="#{planOperativoMB.obtenerPresPorId(presupuesto)}" 
                                                   oncomplete="PF('popEliminar5').show();" process="@this" update=":frmElimina5:pnlElimina5">  
                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                    </p:commandLink> 
                                    <p:tooltip for="cmdDelPres" value="#{msgs.etiquetaEliminar}" />
                                </center>
                            </p:column> 
                        </p:dataTable>
                    </h:panelGrid>  
                </h:form> 
                <h:form id="frmGrafo">
                    <h:panelGrid style="margin: 0 auto;" rendered="false" >
                        <p:panel header="Grafico" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel" style="margin-bottom:20px;width: 1200px;">
                            <h:panelGrid style="margin: 0 auto;" id="gilmar" >
                                <h:panelGrid rendered="#{planOperativoMB.presupuestoBean.idPresupuesto!=null}">
                                    <h:outputText value="aaaa" />
                                    <h:outputText value="#{planOperativoMB.presupuestoBean.idPresupuesto}"/>
                                    <iframe id="myIrame" src="http://localhost:8080/SigmaVersion/faces/mantenimientos/mantPresupuestoGrafo.xhtml" width="600px" height="300px" scrolling="no" > 
                                    </iframe>
                                </h:panelGrid>
                            </h:panelGrid>
                        </p:panel>
                    </h:panelGrid> 
                </h:form> 
            </p:dialog>   

            <!--Det Actividad--> 
            <p:dialog id="popPresAct" widgetVar="popPresAct" showEffect="fade" hideEffect="explode" resizable="false" modal="true" width="1200px" height="500px">
                <h:form id="frmDA4"> 
                    <h:panelGrid id="pnlDA4" columns="1" style="margin: 0 auto;" >
                        <p:dataGrid var="cr" value="#{planOperativoMB.listActividadCrCuentaBean}" columns="4" layout="grid"
                                    rows="12" paginator="true" id="cars" paginatorPosition="bottom"
                                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="6,12,16"> 
                            <f:facet name="header">
                                <p:outputLabel value="#{msgs.etiquetaDetActividades}" />
                            </f:facet> 
                            <p:panel header="#{cr.actividadBean.nombre}" style="text-align:center">
                                <h:panelGrid columns="2" style="width:100%">  
                                    <p:outputLabel value="#{msgs.etiquetaAnio}" />
                                    <h:outputText value="#{cr.anio}" /> 
                                    <p:outputLabel value="#{msgs.etiquetaUniOrg}" />
                                    <h:outputText value="#{cr.unidadOrganicaBean.nombreUniOrg}" /> 
                                    <p:outputLabel value="#{msgs.etiquetaObjOperativo}" />
                                    <h:outputText value="#{cr.objOperativoBean.nombre}" /> 
                                    <p:outputLabel value="#{msgs.etiquetaCenCos}" />
                                    <h:outputText value="#{cr.centroResponsabilidadBean.nombre}" />  
                                </h:panelGrid>
                            </p:panel> 
                        </p:dataGrid>
                    </h:panelGrid> 
                </h:form>

                <h:form id="frmDA3">  
                    <p:messages id="msgmsgPResCr" showDetail="true" closable="true" autoUpdate="false" />
                    <h:panelGrid id="pnlDA3" style="margin: 0 auto;" >
                        <p:dataTable value="#{planOperativoMB.listFiltroDetActividadBean}" selection="#{planOperativoMB.filtroDetActividadBean}"
                                     var="listDetAct" selectionMode="single" paginator="true" paginatorPosition="bottom" rows="6" rowKey="#{listDetAct}"
                                     rendered="#{not empty planOperativoMB.listFiltroDetActividadBean}" style="width:1100px; font-size: 12px">
                            <f:facet name="header" >
                                <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                            </f:facet>
                            <p:column>
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaNumCta}" />
                                </f:facet> 
                                <h:outputText value="#{listDetAct.planContableBean.cuenta}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaNomCuenta}" />
                                </f:facet>
                                <h:outputText value="#{listDetAct.planContableBean.nombre}" />
                            </p:column>  
                            <p:column>
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaActividad}" />
                                </f:facet>
                                <h:outputText value="#{listDetAct.actividadBean.nombre}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaImpor}" />
                                </f:facet>
                                <center>
                                    <h:outputText value="#{listDetAct.importe}" >
                                        <f:convertNumber pattern="#0.00" />
                                    </h:outputText>
                                </center>
                            </p:column>
                            <p:columnGroup type="footer">
                                <p:row>
                                    <p:column colspan="3" style="text-align:right" footerText="Total:" />
                                    <p:column footerText="#{planOperativoMB.presupuesto} soles" /> 
                                </p:row>
                            </p:columnGroup> 
                        </p:dataTable>
                    </h:panelGrid>
                </h:form>
            </p:dialog>

            <h:form id="frmElimina5"> 
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade"  hideEffect="explode" widgetVar="popEliminar5" resizable="false" modal="true">
                    <h:panelGrid id="pnlElimina5" columns="2"> 
                        <h:graphicImage 
                            value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina5">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="Desea eliminar el monto de #{planOperativoMB.presupuestoBean.presupuestoProg}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"  
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar5').hide();PF('popDone').show();}"
                                         update=":frmTblPresupuesto:pnlTblPresupuesto"
                                         actionListener="#{planOperativoMB.eliminarPresupuesto()}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar5').hide();"/>
                    </h:panelGrid>
                </p:dialog>
            </h:form> 


            <p:dialog id="popActObj" header="#{msgs.etiquetaRegistrar} #{msgs.etiquetaActividad}" widgetVar="popActObj" showEffect="fade" hideEffect="explode" resizable="false" modal="true" width="1500px" closeOnEscape="true" >
                <h:form id="frmActividad" >    
                    <h:panelGrid id="pnlActividad" style="margin: 0 auto;" > 
                        <h:panelGrid id="pnlPlanOperativo" columns="6" style="margin: 0 auto;"> 
                            <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.nombre}" />  
                            <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.anio}" />
                            <h:inputHidden value="#{planOperativoMB.objOperativoBean.planOperativoBean.unidadOrganicaBean.idUniOrg}"/> 
                            <h:inputHidden value="#{planOperativoMB.actividadBean.objOperativoBean.idObjOperativo}"/>   
                        </h:panelGrid>  
                        <!--Cambio de Actividad cambios Operativos20-->
                        <h:panelGrid columns="2" style="margin: 0 auto;" > 
                            <p:panel header="#{msgs.etiquetaDetActividades}" style="width: 500px;margin: 0 auto;">
                                <h:panelGrid id="pnlDetActividad" columns="1" style="margin: 0 auto;">
                                    <h:panelGrid style="margin: 0 auto;" columns="3">
                                        <p:outputLabel value="#{msgs.EtiquetaNombre} de #{msgs.etiquetaAct}" />
                                        <p:inputText id="txtNomAct" required="true" label="#{msgs.EtiquetaNombre}" value="#{planOperativoMB.actividadBean.nombre}" />
                                        <p:outputLabel value=""/>
                                        <p:outputLabel value="#{msgs.etiquetaIngreso} de #{msgs.etiquetaAct}" />
                                        <p:inputText id="txtIngAct" label="#{msgs.etiquetaIngreso}" value="#{planOperativoMB.actividadBean.ingreso}" >
                                            <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                        </p:inputText>
                                        <p:outputLabel value=""/> 
                                        <p:outputLabel value="#{msgs.etiquetaEgreso} de #{msgs.etiquetaAct}" />
                                        <p:inputText id="txtEgreso" label="#{msgs.etiquetaEgreso}" value="#{planOperativoMB.actividadBean.egreso}" required="true" >
                                            <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                        </p:inputText>
                                        <p:outputLabel value=""/> 
                                        <p:outputLabel value="Resp. de #{msgs.etiquetaAct}" />
                                        <p:inputText id="txtResAct" value="#{planOperativoMB.actividadBean.responsable}" required="true" label="#{msgs.etiquetaAct}" />
                                        <p:outputLabel value=""/> 
                                        <p:outputLabel value="#{msgs.etiquetaUniOrg}" />
                                        <p:selectOneMenu id="cboUniOrgAct" value="#{planOperativoMB.actividadBean.unidadOrganicaBean.idUniOrg}" effect="fold" style="width: 200px;" >
                                            <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{planOperativoMB.listaUnidadOrganica}" var="uo" itemValue="#{uo.idUniOrg}" itemLabel="#{uo.nombreUniOrg}" />
                                        </p:selectOneMenu>
                                        <p:outputLabel value=""/> 
                                        <p:outputLabel value="#{msgs.etiquetaIndicador} de Actividad" />
                                        <p:inputText id="txtIndicador" value="#{planOperativoMB.actividadBean.indicadorBean.nombre}" required="true" readonly="true" /> 
                                        <p:commandLink id="cmdAddInd" oncomplete="PF('popBuscar2').show()">
                                            <h:graphicImage value="/resources/images/icons/addverde3.png" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                        <h:inputHidden id="txtIndicador2" value="#{planOperativoMB.actividadBean.indicadorBean.idIndicador}" />
                                        <h:inputHidden id="txtIndicador3" value="#{planOperativoMB.actividadBean.indicadorBean.meta}" />
                                        <!--p:outputLabel value="Tipo Tarea" />
                                        <p:selectOneMenu id="cmboLinea" required="true" label="Tipo Tarea" value="#{planOperativoMB.actividadBean.tipoTareaBean.idCodigo}" style="width: 200px;"  >
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{planOperativoMB.listaTipoTarea}" var="tarea" itemLabel="#{tarea.codigo}" itemValue="#{tarea.idCodigo}"/>
                                        </p:selectOneMenu--> 
                                    </h:panelGrid> 
                                    <h:panelGrid style="margin: 0 auto;" columns="2"> 
                                    </h:panelGrid>
                                    <h:panelGrid style="margin: 0 auto;" columns="2"> 
                                    </h:panelGrid>
                                    <p:tooltip for="cmdAddInd" value="#{msgs.etiquetaAddInd}" /> 
                                </h:panelGrid>
                                <h:panelGrid columns="2" style="margin: 0 auto;padding: 5px;" > 
                                    <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{planOperativoMB.guardarActividad()}" 
                                                     update=":frmTblActividad:pnlTblActividad,:frmActividad:pnlActividad,:frmActividad:msgDetACt"  oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"/>
                                    <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{planOperativoMB.nuevaActividad()}" update=":frmTblActividad:pnlTblActividad,:frmActividad:pnlActividad" 
                                                     process="@this,:frmActividad:txtNomAct,:frmActividad:txtEgreso,:frmActividad:txtResAct,:frmActividad:txtIndicador,:frmActividad:cboUniOrgAct"/>
                                </h:panelGrid>
                            </p:panel>
                            <h:panelGrid id="pnlPlanEstrategico" style="margin: 0 auto;">
                                <h:panelGrid columns="2">
                                    <!--InputHidden-->
                                    <h:inputHidden value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.planEstrategicoBean.idPlanEstrategico}" />
                                    <h:inputHidden value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.lineaEstrategicaBean.idLinea}" />
                                    <h:inputHidden value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.indicadorBean.idIndicador}" />
                                    <h:inputHidden value="#{planOperativoMB.actividadBean.objOperativoBean.idObjOperativo}" />
                                    <h:inputHidden value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.objetivoEstrategicaBean.idObjEstrategico}" />
                                    <h:inputHidden value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.codigoBean.idCodigo}" />
                                    <h:inputHidden value="#{planOperativoMB.actividadBean.objOperativoBean.idObjOperativo}" />
                                </h:panelGrid>
                                <p:panelGrid columns="2" style="width: 500px;">  
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaDatosEstr}" style="font-size: 15px;text-align: justify;" />
                                    </f:facet>
                                    <h:outputText value="#{msgs.etiquetaPlanEstrategico}" style="text-align: justify;" />
                                    <h:outputText value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.planEstrategicoBean.nombre}" style="text-align: justify;"/> 
                                    <h:outputText value="#{msgs.etiquetaLineaEstrategica}" style="text-align: justify;" />
                                    <h:outputText value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.lineaEstrategicaBean.nombre}" style="text-align: justify;"/>
                                    <h:outputText value="#{msgs.etiquetaIndicador}"  style="text-align: justify;" /> 
                                    <h:outputText value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.indicadorBean.nombre}" style="text-align: justify;"/>
                                    <h:outputText value="#{msgs.etiquetaObjOperativo}" style="text-align: justify;" /> 
                                    <h:outputText value="#{planOperativoMB.actividadBean.objOperativoBean.nombre}" style="text-align: justify;"/>
                                    <h:outputText value="#{msgs.etiquetaObjetivoEstrategica}" style="text-align: justify;"/>
                                    <h:outputText value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.objetivoEstrategicaBean.nombre}" style="text-align: justify;"/>
                                    <h:outputText value="#{msgs.etiquetaResponsable}" style="text-align: justify;" />
                                    <h:outputText value="#{planOperativoMB.actividadBean.objOperativoBean.objetivoEstrategicoDetBean.responsable}" style="text-align: justify;"/> 
                                </p:panelGrid>
                            </h:panelGrid>
                        </h:panelGrid> 
                    </h:panelGrid>
                    <p:messages id="msgDetACt" showDetail="true" closable="true" />
                </h:form>
                <h:form id="frmTblActividad">  
                    <h:panelGrid id="pnlTblActividad" style="margin: 0 auto;">
                        <p:dataTable value="#{planOperativoMB.listActividadBean}" var="actividad" widgetVar="actividad" 
                                     rendered="#{not empty planOperativoMB.listActividadBean}" rows="6" rowKey="#{actividad}"
                                     style="width:1100px; font-size: 12px" paginatorPosition="bottom" paginator="true" 
                                     selectionMode="single" selection="#{planOperativoMB.actividadBean}">
                            <p:ajax event="rowSelect" listener="#{planOperativoMB.rowSelectActividad}" process="@this"
                                    update=":frmActividad:pnlPlanEstrategico,:frmActividad:pnlDetActividad" />
                            <f:facet name="header" >
                                <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                            </f:facet>
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaActividad}" />
                                </f:facet>
                                <h:outputText value="#{actividad.nombre}" />
                            </p:column> 
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaIngreso}" />
                                </f:facet>
                                <h:outputText value="#{actividad.ingreso}" >
                                    <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                </h:outputText>
                            </p:column>
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaEgreso}" />
                                </f:facet>
                                <h:outputText value="#{actividad.egreso}" >
                                    <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                </h:outputText>
                            </p:column> 
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaIndicador}" />
                                </f:facet>
                                <h:outputText value="#{actividad.indicadorBean.nombre}" />
                            </p:column>
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaMeta}" />
                                </f:facet>
                                <h:outputText value="#{actividad.indicadorBean.meta}" />
                            </p:column> 
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header">
                                    <p:outputLabel value="#{msgs.etiquetaTipoValor}" />
                                </f:facet>
                                <h:outputText value="#{actividad.indicadorBean.codigoTipoValor.codigo}" />
                            </p:column>
                            <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                </f:facet>
                                <center>   
                                    <p:commandLink id="cmdEliminarAct"  actionListener="#{planOperativoMB.obtenerActividadId(actividad)}"
                                                   oncomplete="PF('popEliminar3').show();" process="@this" update=":frmElimina3:pnlElimina3">
                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                    </p:commandLink>
                                </center>
                                <p:tooltip id="toolTipDel" for="cmdEliminarAct" value="Eliminar Actividad" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </h:form>
            </p:dialog>

            <!--Pop Pres-UniOrg-->
            <p:dialog id="popPresUo" widgetVar="popPresUo" showEffect="fade" hideEffect="explode" resizable="false" modal="true" width="1200px" height="500px" > 
                <h:form id="frmGrafo2"> 
                    <h:panelGrid style="margin: 0 auto;" >
                        <p:panel header="Grafico" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel" style="margin-bottom:20px;width: 1000px;">
                            <h:panelGrid style="margin: 0 auto;" id="gilmar2" >
                                <h:panelGrid rendered="#{planOperativoMB.presupuestoFiltroUOBean!=null}">  
                                    <iframe id="myIrame2" src="http://localhost:8080/SigmaVersion/faces/mantenimientos/mantPresupuestoGrafoUniOrg.xhtml" width="600px" height="300px" scrolling="no" > 
                                    </iframe>
                                </h:panelGrid>
                            </h:panelGrid>
                        </p:panel>
                    </h:panelGrid> 
                </h:form>
            </p:dialog> 

            <!--Editar Plan Operativvo-->
            <p:tab>  
                <p:dialog id="popPlanO2" widgetVar="popPlanO2" showEffect="fade" hideEffect="explode" resizable="false" modal="true" height="250px" closeOnEscape="true" >
                    <h:form id="frmDatosPlanOp2">
                        <p:panel header="#{msgs.etiquetaPlanOper}" style="text-align: center !important;width: 800px;">
                            <h:panelGrid id="pnlDatosPlan2" columns="6" cellpadding="8" style="margin: 0 auto;" >
                                <p:outputLabel value="#{msgs.etiquetaUniOrg}" />
                                <p:outputLabel value=""  class="requerido"/>
                                <p:selectOneMenu value="#{planOperativoMB.planOperativo.unidadOrganicaBean.idUniOrg}" required="true">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{planOperativoMB.listaUniOrg}" var="unidadOrg" 
                                                   itemLabel="#{unidadOrg.nombreUniOrg}" itemValue="#{unidadOrg.idUniOrg}"/>
                                </p:selectOneMenu>
                                <p:outputLabel value="#{msgs.etiquetaAnio}" class="negrita"/>
                                <p:outputLabel value="" class="requerido"/>
                                <p:inputText value="#{planOperativoMB.planOperativo.anio}" required="true"/>                            
                                <p:outputLabel value="#{msgs.etiquetaPlanOperativo}" class="negrita"/>
                                <p:outputLabel value="" class="requerido"/>
                                <p:inputText value="#{planOperativoMB.planOperativo.nombre}"/> 
                                <p:outputLabel value="#{msgs.etiquetaAprobadoPor}" class="negrita"/>
                                <p:outputLabel value="" class="requerido"/>
                                <p:inputText value="#{planOperativoMB.planOperativo.aprobadoPor}"/>                     
                            </h:panelGrid>
                            <h:panelGrid class="centrado" columns="2" style="margin: 0 auto">
                                <p:commandButton actionListener="#{planOperativoMB.guardarPlanOperativo()}"
                                                 oncomplete="if(args.operacionCorrecta){PF('popDone').show();PF('popPlanO2').hide();}"
                                                 update=":frmBuscar:pnlPlanBuscar,msgsAddProc"
                                                 value="#{msgs.botonGrabar}">
                                </p:commandButton>
                                <p:commandButton  value="#{msgs.botonCerrar}" process="@this" oncomplete="PF('popPlanO2').hide()">
                                </p:commandButton><!--update=":frmDatosPlanOp:pnlDatosPlan"-->
                            </h:panelGrid>
                            <p:messages id="msgsAddProc" showDetail="true" showSummary="true"/>
                        </p:panel>
                    </h:form> 
                </p:dialog>
            </p:tab>

            <h:form id="frmEliminaPlanOpe">  
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade"  hideEffect="explode" widgetVar="planOpe" resizable="false" modal="true">
                    <h:panelGrid id="pnlEliminaPlanOpe" columns="2"> 
                        <h:graphicImage 
                            value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosEliminaPlanOpe">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{planOperativoMB.planOperativo.nombre}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"  
                                         oncomplete="if(args.operacionCorrecta){PF('planOpe').hide();PF('popDone').show();}"
                                         update=":frmBuscar:pnlPlanBuscar"
                                         actionListener="#{planOperativoMB.eliminarPlanOperativo()}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('planOpe').hide();"/>
                    </h:panelGrid>
                </p:dialog>
            </h:form>

            <!--popIndicador-->
            <h:form id="frmBuscar2" >
                <p:dialog id="frmBuscar2" widgetVar="popBuscar2" showEffect="explode" modal="true" closeOnEscape="true" >
                    <p:growl id="msgIndicador" showDetail="true" autoUpdate="false" />
                    <p:panel header="#{msgs.etiquetaBuscarIndicador}" > 
                        <f:facet name="header">
                            <p:outputLabel value="#{msgs.etiquetaBuscarIndicador}" style="padding-left: 5px;" />
                            <p:commandLink id="cmdIn" style="float: left;" oncomplete="PF('popBuscarIndicador').show(),PF('popBuscar2').hide()" >
                                <h:graphicImage value="/resources/images/icons/addverde.png" style="border:0;cursor:pointer;width:16px;height:16px;" />
                            </p:commandLink>
                            <p:tooltip for="cmdIn" value="#{msgs.botonAgregar}" />
                        </f:facet>
                        <h:panelGrid id="pnlBuscar" style="margin: 0 auto;" >
                            <p:dataTable value="#{planOperativoMB.listaIndicadorBean}" paginator="true" paginatorPosition="bottom"
                                         var="indicadorFiltro" id="tblBuscarIndicador"  widgetVar="ind"
                                         rows="#{planOperativoMB.numRegistrosTablas}" rowKey="#{indicadorFiltro}"
                                         rendered="#{not empty planOperativoMB.listaIndicadorBean}" editable="true"
                                         style=" font-size: 12px;width: 1200px;" selection="#{planOperativoMB.indicadorFiltroBean}">  
                                <p:ajax event="rowEdit" listener="#{planOperativoMB.onRowEditIndicador}" update=":frmBuscar2:msgIndicador" process="@this,:frmBuscar2:tblBuscarIndicador"/>
                                <p:ajax event="rowEditCancel" listener="#{planOperativoMB.onRowCancelIndicador}" update=":frmBuscar2:msgIndicador" process="@this,:frmBuscar2:tblBuscarIndicador"/>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaDatosIndicador}" /> 
                                </f:facet> 
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaCodigo}" />
                                    </f:facet>
                                    <center>
                                        <h:outputText value="#{indicadorFiltro.codigo}"/>
                                    </center>
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaIndicador}">
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.nombre}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{indicadorFiltro.nombre}" style="width:100%"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaMeta}">
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.meta}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{indicadorFiltro.meta}" style="width:100%"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaTipoUso}" filterBy="#{indicadorFiltro.codigoTiPoUso.codigo}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu value="#{planOperativoMB.indicadorBean.codigoTiPoUso.idCodigo}"> 
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{planOperativoMB.listaTipoUsoIndicador}" var="uso" itemLabel="#{uso.codigo}" itemValue="#{uso.idCodigo}" />
                                            <p:ajax event="change" listener="#{planOperativoMB.filtrarIndicador()}" update=":frmBuscar2:pnlBuscar" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.codigoTiPoUso.codigo}" />
                                        </f:facet>
                                        <f:facet name="input">
                                            <h:selectOneMenu value="#{planOperativoMB.indicadorBean.codigoTiPoUso.idCodigo}" label="#{msgs.etiquetaTipoUso}">
                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                <f:selectItems value="#{planOperativoMB.listaTipoUsoIndicador}" var="tipoUso" itemLabel="#{tipoUso.codigo}" itemValue="#{tipoUso.idCodigo}"/>
                                            </h:selectOneMenu>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaTipoValor}"> 
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.codigoTipoValor.codigo}" />
                                        </f:facet>
                                        <f:facet name="input">
                                            <h:selectOneMenu id="cboTipVal" value="#{indicadorFiltro.codigoTipoValor.idCodigo}" label="#{msgs.etiquetaTipoValor}" > 
                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                <f:selectItems value="#{planOperativoMB.listaTipoValor}" var="val" itemLabel="#{val.codigo}" itemValue="#{val.idCodigo}"/>
                                            </h:selectOneMenu>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaFormula}">
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.formula}" />
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{indicadorFiltro.formula}" style="width:100%" label="#{msgs.etiquetaFormula}"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column> 
                                <p:column style="width: 30px;text-align: center;"> 
                                    <p:rowEditor style="text-align: center;"/> 
                                </p:column>
                                <p:column style="text-align:center;width:80px" colspan="2"> 
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdDelInd" actionListener="#{planOperativoMB.obtenerIndicador(indicadorFiltro)}" update=":frmDelInd:pnlDelInd" 
                                                   oncomplete="PF('popDelIndicador').show()">
                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipEdit" for="cmdDelInd" value="#{msgs.mensajeEliminar}" />
                                    &nbsp;&nbsp;&nbsp;
                                    <p:commandLink id="cmdSelInd" actionListener="#{planOperativoMB.ponerIndicador(indicadorFiltro)}"
                                                   update=":frmActividad:pnlActividad" process="@this,:frmActividad:txtIndicador,:frmActividad:txtIndicador2,:frmActividad:txtIndicador2,:frmActividad:txtNomAct,:frmActividad:txtIngAct,:frmActividad:txtResAct"
                                                   oncomplete="PF('popBuscar2').hide();">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd" for="cmdSelInd" value="#{msgs.toolTipSeleccionar}" />
                                </p:column><!--update=":pnlPlanEstrategico:frmObjDet:pnlIndicador" update=":pnlPlanEstrategico:frmObjDet:pnlIndicador"-->
                            </p:dataTable>
                        </h:panelGrid>
                    </p:panel>
                </p:dialog>
            </h:form>

            <h:form id="frmDatosIndicador"> 
                <p:dialog id="popBuscarIndicador" header="#{msgs.EtiquetaCodigo} #{msgs.etiquetaIndicador}: #{planOperativoMB.indicadorBean.codigo}" widgetVar="popBuscarIndicador" showEffect="explode" modal="true" closeOnEscape="true" >
                    <p:panel id="pnlGeneral" style="margin: 0 auto;width: 500px;">
                        <f:facet name="header">
                            <p:outputLabel value="#{msgs.etiquetaMantIndicador}" />
                        </f:facet>
                        <h:panelGrid id="pnlDatosIndicadores" columns="1" style="margin: 0 auto"> 
                            <h:panelGrid columns="4" style="margin: 0 auto;"> 
                                <p:outputLabel value="#{msgs.etiquetaIndicador}" />
                                <p:outputLabel value="" />
                                <p:inputText value="#{planOperativoMB.indicadorBean.nombre}" required="true" /> 
                                <br/>
                                <p:outputLabel value="#{msgs.etiquetaMeta}" />
                                <p:outputLabel value="" />
                                <p:inputText value="#{planOperativoMB.indicadorBean.meta}" required="true" label="#{msgs.etiquetaMeta}"/> 
                                <br/>
                                <p:outputLabel value="#{msgs.etiquetaTipoUso}" />
                                <p:outputLabel value="" />
                                <p:selectOneMenu effect="fold" value="#{planOperativoMB.indicadorBean.codigoTiPoUso.idCodigo}" required="true" style="width: 190px;">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{planOperativoMB.listaTipoUsoIndicador}" var="tipoUso" itemLabel="#{tipoUso.codigo}" itemValue="#{tipoUso.idCodigo}"/>
                                </p:selectOneMenu>
                                <br/>  
                                <p:outputLabel value="#{msgs.etiquetaTipoValor}" />
                                <p:outputLabel value="" />
                                <p:selectOneMenu effect="fold" value="#{planOperativoMB.indicadorBean.codigoTipoValor.idCodigo}" required="true" style="width: 190px;">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{planEstrategicoMB.listaTipoValor}" var="tipoValor" itemLabel="#{tipoValor.codigo}" itemValue="#{tipoValor.idCodigo}"/>
                                </p:selectOneMenu>
                                <br/>
                            </h:panelGrid>
                            <h:panelGrid style="margin: 0 auto;" columns="1" >
                                <h:panelGrid columns="3" style="margin: 0 auto;">
                                    <p:outputLabel value="" />
                                    <p:outputLabel value="" />
                                    <p:inputTextarea value="#{planOperativoMB.indicadorBean.formula}" required="true" rows="6" cols="50" placeholder="Ingresar Formula" />
                                </h:panelGrid>
                                <h:panelGrid columns="2" style="margin: 0 auto;padding: 5px;">
                                    <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{planOperativoMB.guardarIndicador()}"
                                                     oncomplete="if(args.operacionCorrecta){PF('popBuscarIndicador').hide();PF('popBuscar2').show();PF('popDone').show()}"
                                                     update=":frmBuscar2:pnlBuscar,:frmDatosIndicador" />
                                    <p:commandButton value="#{msgs.botonNuevo}" actionListener="#{planOperativoMB.limpiarIndicadorBean()}"
                                                     update=":frmDatosIndicador:pnlDatosIndicadores" process="@this" />
                                </h:panelGrid>
                            </h:panelGrid> 
                        </h:panelGrid> 
                    </p:panel>  
                </p:dialog>
            </h:form>

            <h:form id="frmDelInd">
                <p:dialog id="popDelInd" header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popDelIndicador" resizable="false" modal="true">
                    <h:panelGrid id="pnlDelInd" columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina6">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.etiquetaIndicador}: #{planOperativoMB.indicadorFiltroBean.nombre}"/>
                        </h:panelGrid>
                    </h:panelGrid>   
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planOperativoMB.eliminarIndicador()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmBuscar2:pnlBuscar,:frmDatosIndicador"
                                         oncomplete="if(args.operacionCorrecta){PF('popDelIndicador').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminarPlan').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDelObj" showDetail="true" showSummary="false"/>
                </p:dialog> 
            </h:form> 

        </h:body>
    </ui:define>
</ui:composition>
