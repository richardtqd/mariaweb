<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui" 
                template="/plantilla/plantillaPrincipal.xhtml" >
    <ui:define name="content">
        <script type="text/javascript" src="../resources/js/rendicionJs.js"/>
        <h:body>
            <div>
                <p:layout id="layRendicion" fullPage="false"  style="width:1300px;height:750px" styleClass="centrado">
                    <p:layoutUnit position="center" styleClass="centrado" id="lyUnitData">
                        <div>
                            <p:panel header="#{msgs.tituloBuscarMovimiento}"  toggleable="true" toggleSpeed="500" closeSpeed="500" style="width: 1250px" >
                                <h:form id="frmDatosMov">                  
                                    <h:panelGrid columns="1" cellpadding="3" styleClass="centrado" >
                                        <h:panelGrid styleClass="centrado">
                                            <p:inputSwitch value="#{rendicionMB.flgTipoRendicion}" onLabel="#{msgs.etiquetaCajaCh}" offLabel="#{msgs.etiquetaCajaGen}">
                                                <p:ajax event="change" update=":frmDatosMov,:frmTableMov,:frmDatosDocEgreso1,:frmDatosDocEgre"/>
                                            </p:inputSwitch>
                                        </h:panelGrid>
                                        <br></br>
                                        <p:panel  header="#{msgs.etiquetaFiltros}" rendered="#{rendicionMB.flgTipoRendicion==true}">
                                            <h:panelGrid columns="1"  id="pnlDatosMov">
                                                <p:fieldset legend="#{msgs.etiquetaCajaCh}" toggleable="true">
                                                    <h:panelGrid columns="4">
                                                        <h:outputLabel value="#{msgs.etiquetaInicioFecApe}"/>
                                                        <p:calendar value="#{rendicionMB.cajaChicaMovFiltroBean.cajaChicaBean.inicioFecApertura}" label="#{msgs.etiquetaInicioFecApe}" mode="popup" 
                                                                    pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                                            <p:ajax event="dateSelect" update="fecFinApe"/>
                                                        </p:calendar>
                                                        <h:outputLabel value="#{msgs.etiquetaFinFecApe}"/>
                                                        <p:calendar id="fecFinApe" value="#{rendicionMB.cajaChicaMovFiltroBean.cajaChicaBean.finFecApertura}" label="#{msgs.etiquetaFinFecApe}" mode="popup" 
                                                                    pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30"
                                                                    mindate="#{rendicionMB.cajaChicaMovFiltroBean.cajaChicaBean.inicioFecApertura}"/>
                                                       <!-- <h:outputLabel value="#{msgs.etiquetaInicioFecCierre}"/>
                                                        <p:calendar value="#{rendicionMB.cajaChicaMovFiltroBean.cajaChicaBean.inicioFecCierre}" label="#{msgs.etiquetaInicioFecCierre}" mode="popup" 
                                                                    pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                                            <p:ajax event="dateSelect" update="fecFinCierre"/>
                                                        </p:calendar>
                                                        <h:outputLabel value="#{msgs.etiquetaFinFecCierre}"/>
                                                        <p:calendar id="fecFinCierre" value="#{rendicionMB.cajaChicaMovFiltroBean.cajaChicaBean.finFecCierre}" label="#{msgs.etiquetaFinFecCierre}" mode="popup" 
                                                                    pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30"
                                                                    mindate="#{rendicionMB.cajaChicaMovFiltroBean.cajaChicaBean.inicioFecCierre}"/>-->
                                                    </h:panelGrid>
                                                </p:fieldset>
                                                <h:panelGrid columns="2">
                                                    <h:outputLabel value="#{msgs.etiquetaMotivo}"/>
                                                    <p:inputText value="#{rendicionMB.cajaChicaMovFiltroBean.motivo}" size="30"/>
                                                </h:panelGrid>
                                            </h:panelGrid>
                                            <p:separator/>
                                            <h:panelGrid columns="2" styleClass="centrado" rendered="#{rendicionMB.flgTipoRendicion==true}" id="pnlBtnMov">
                                                <p:commandButton actionListener="#{rendicionMB.obtenerCajaMovimiento()}" update=":frmTableMov"
                                                                 value="#{msgs.botonBuscar}">
                                                </p:commandButton>
                                                <p:commandButton actionListener="#{rendicionMB.limpiarFiltroCajaMov()}" update=":frmDatosMov"
                                                                 value="#{msgs.botonLimpiar}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <p:messages id="msgsAdd"  autoUpdate="false"/>
                                        </p:panel> 
                                    </h:panelGrid>  
                                </h:form>
                                <h:form id="frmDatosDocEgreso1">
                                    <h:panelGrid styleClass="centrado" rendered="#{rendicionMB.flgTipoRendicion==false}">
                                        <p:panel header="#{msgs.etiquetaFiltros}"> 
                                            <h:panelGrid columns="4" id="pnlFiltro">   
                                                <h:outputLabel value="#{msgs.etiquetaFechaInicio}:" styleClass="negrita siseFontGrid5"/>  
                                                <p:calendar  value="#{rendicionMB.docEgresoFiltroBean.fechaInicio}"  label="#{msgs.etiquetaFechaInicio}" mode="popup" size="10"
                                                             pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                                </p:calendar>
                                                <h:outputLabel value="#{msgs.etiquetaFechaFin}:" styleClass="negrita siseFontGrid5"/>  
                                                <p:calendar  value="#{rendicionMB.docEgresoFiltroBean.fechaFin}"  label="#{msgs.etiquetaFechaFin}" mode="popup" size="10"
                                                             pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                                </p:calendar> 
                                                <h:outputLabel value="#{msgs.etiquetaCodDocEgreso} "/>
                                                <p:inputText value="#{rendicionMB.docEgresoFiltroBean.idDocEgreso}" size="20" maxlength="30"/>
                                                <h:outputLabel value="#{msgs.etiquetaRucProveedor}" /> 
                                                <p:inputText value="#{rendicionMB.docEgresoFiltroBean.entidadBean.ruc}" size="20" maxlength="30"/> 
                                                <h:outputLabel value="#{msgs.etiquetaGlosa}"/>
                                                <p:inputText value="#{rendicionMB.docEgresoFiltroBean.glosa}" size="20" maxlength="30"/>
                                                <h:outputLabel value="#{msgs.etiquetaTipPago}"/> 
                                                <p:selectOneMenu  panelStyle="width:200px" value="#{rendicionMB.docEgresoFiltroBean.tipoPagoBean.idCodigo}" styleClass="resetSelect" label="#{msgs.etiquetaTipPago}"
                                                                  effect="fade" style="width:200px" filter="true" filterMatchMode="contains">
                                                    <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" itemValue="#{null}" noSelectionOption="true"/>
                                                    <f:selectItems value="#{rendicionMB.listaTipoPagoBean}" var="tipPago" itemLabel="#{tipPago.codigo}" itemValue="#{tipPago.idCodigo}"/>
                                                </p:selectOneMenu> 
                                                <h:outputLabel value="#{msgs.etiquetaNumCta}" styleClass="negrita siseFontGrid5"/> 
                                                <p:selectOneMenu  value="#{rendicionMB.docEgresoFiltroBean.cuentaBancoBean.numCuenta}" label="#{msgs.etiquetaNumCta}" filter="true" style="width: 275px" panelStyle="width:275px">
                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                    <f:selectItems value="#{rendicionMB.listaCuentaBancoFiltroBean}" var="ctaBFil" itemLabel="#{ctaBFil.numCuenta} - #{ctaBFil.tipoMonedaBean.codigo} - #{ctaBFil.entidadBancoBean.nombre}" itemValue="#{ctaBFil.numCuenta}"/> 
                                                </p:selectOneMenu>
                                                <h:outputLabel value="#{msgs.etiquetaNumeroCheque}"/>
                                                <p:inputText value="#{rendicionMB.docEgresoFiltroBean.numCheque}" size="20" maxlength="30"/>              
                                            </h:panelGrid>
                                            <p:separator/>
                                            <h:panelGrid  columns="2" styleClass="centrado">
                                                <p:commandButton value="#{msgs.botonBuscar}" action="#{rendicionMB.obtenerFiltroDocEgreso()}"
                                                                 update=":frmDatosDocEgre,msg" > 
                                                </p:commandButton>
                                                <p:commandButton  actionListener="#{rendicionMB.limpiarDocEgresoFiltro()}" 
                                                                  update=":frmDatosDocEgreso1"  
                                                                  value="#{msgs.botonLimpiar}" process="@this">
                                                </p:commandButton> 
                                            </h:panelGrid>
                                            <p:messages autoUpdate="false" id="msg" />
                                        </p:panel>
                                    </h:panelGrid>
                                </h:form>
                            </p:panel>
                            <h:form id="frmTableMov">
                                <h:panelGrid columns="1" styleClass="centrado" rendered="#{rendicionMB.flgTipoRendicion==true}" id="pnlTablaChicaMov">
                                    <p:dataTable id="tblCajaChicaMov" value="#{rendicionMB.listaCajaChicaMovBean}" widgetVar="tblCajaChicaMov"
                                                 scrollable="true" scrollHeight="150" selectionMode="single" rowIndexVar="n" 
                                                 var="cajaChicaMov" rowKey="#{cajaChicaMov}" 
                                                 rendered="#{not empty rendicionMB.listaCajaChicaMovBean}" 
                                                 style="width: #{rendicionMB.anchoTablasGrande};font-size:14px !important;margin-bottom:0;">
                                        <f:facet name="header">
                                            <h:outputText value="#{msgs.etiquetaMovsCajaChica}"/>
                                        </f:facet>
                                        <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" style="width: 20px !important" styleClass="centrado-texto">
                                            <center>
                                                <h:outputText value="#{n+1}" />
                                            </center>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaTipMov}" sortBy="#{cajaChicaMov.flgMov}" width="60" styleClass="siseFontTable3">
                                            <h:outputText value="#{cajaChicaMov.flgMovVista}"/>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaMotivo}" sortBy="#{cajaChicaMov.motivo}" width="150" styleClass="siseFontTable3">
                                            <h:outputText value="#{cajaChicaMov.motivo}"/>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaTipoSolicitud}" sortBy="#{cajaChicaMov.solicitudCajaCHBean.tipoSolicitudBean.nombre}" width="60"
                                                  styleClass="siseFontTable3">
                                            <h:outputText value="#{cajaChicaMov.solicitudCajaCHBean.tipoSolicitudBean.nombre}"/>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaFechaPago}" styleClass="siseFontTable3 centrado-texto" sortBy="#{cajaChicaMov.fecPago}" width="80">
                                            <h:outputText value="#{cajaChicaMov.fecPago}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaFecApertura}" styleClass="siseFontTable3 centrado-texto" sortBy="#{cajaChicaMov.cajaChicaBean.fecApertura}" width="80">
                                            <h:outputText value="#{cajaChicaMov.cajaChicaBean.fecApertura}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaFecCierre}" styleClass="siseFontTable3 centrado-texto" sortBy="#{cajaChicaMov.cajaChicaBean.fecCierre}" width="80">
                                            <h:outputText value="#{cajaChicaMov.cajaChicaBean.fecCierre}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaTipoMoneda}" styleClass="siseFontTable3 centrado-texto" sortBy="#{cajaChicaMov.tipoMonedaBean.codigo}" width="80">
                                            <h:outputText value="#{cajaChicaMov.tipoMonedaBean.codigo}"/>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaMonto}" sortBy="#{cajaChicaMov.monto}" width="80" style="text-align: right" styleClass="siseFontTable3">
                                            <h:outputText value="#{cajaChicaMov.monto}">
                                                <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaResuelto}" sortBy="#{cajaChicaMov.flgRendicionVista}" width="70" styleClass="siseFontTable3 centrado-texto">
                                            <h:outputText value="#{cajaChicaMov.flgRendicionVista}"/>
                                        </p:column> 
                                        <p:column style="text-align:center;width: 55px" styleClass="siseFontTable3">
                                            <f:facet name="header">
                                                <h:outputText value="#{msgs.etiquetaAccion}" />
                                            </f:facet>
                                            <p:commandLink id="cmdRendir" actionListener="#{rendicionMB.cargarMovimiento(cajaChicaMov)}" 
                                                           oncomplete="PF('popMantRendicion').show()" update=":frmMantRendicion,:frmTblRendicion">
                                                <h:graphicImage value="/resources/images/icons/rendir.png" style="border:0; cursor:pointer;" width="16"/>
                                            </p:commandLink>
                                            <p:tooltip id="toolTipRendir" for="cmdRendir" value="#{msgs.toolTipRenCue}" />
                                            <p:spacer width="20">
                                            </p:spacer>
                                            <h:commandLink rendered="#{cajaChicaMov.flgRendicionDis}"  actionListener="#{rendicionMB.imprimirLiquidacion(cajaChicaMov.solicitudCajaCHBean.idSolicitudCajaCh)}"   target="_blank" id="imprimir4">
                                                <h:graphicImage value="/resources/images/icons/pdf.png" width="16"/>                                                
                                            </h:commandLink>
                                            <p:tooltip id="toolTip4" for="imprimir4" value="#{msgs.tooltipImprLiquidacion}" />
                                        </p:column>
                                    </p:dataTable>
                                </h:panelGrid>
                            </h:form>
                            <h:form id="frmDatosDocEgre">
                                <h:panelGrid  id="pnlDocEgre" styleClass="centrado" rendered="#{rendicionMB.flgTipoRendicion==false}"> 
                                    <p:dataTable id="docEgre" value="#{rendicionMB.listaDocEgresoBean}" widgetVar="docEgre"
                                                 selectionMode="single" 
                                                 scrollable="true" scrollHeight="150" rowIndexVar="n" 
                                                 var="docEgre" rowKey="#{docEgre}" 
                                                 rendered="#{not empty rendicionMB.listaDocEgresoBean}" 
                                                 style="width: #{rendicionMB.anchoTablasGrande};font-size:14px !important;margin-bottom:0"> 
                                        <f:facet name="header" >
                                            <h:outputText value="#{msgs.tituloDocEgreso}" />  
                                        </f:facet> 
                                        <p:column  styleClass="siseFontTable3 centrado-texto" width="20" headerText="#{msgs.numero}">
                                            <h:outputText value="#{n+1}" /> 
                                        </p:column>
                                        <p:column styleClass="siseFontTable3 centrado-texto" headerText="#{msgs.etiquetaCodDocEgreso}" width="50">
                                            <h:outputText value="#{docEgre.idDocEgreso}"/>
                                        </p:column>  
                                        <p:column styleClass="siseFontTable3" headerText="#{msgs.etiquetaResponsable}" width="190">
                                            <h:outputText value="#{docEgre.nombreVista}"/>
                                        </p:column> 
                                        <!--
                                        <p:column styleClass="siseFontTable3 centrado-texto" headerText="#{msgs.etiquetaRuc}" width="100">
                                            <h:outputText value="#{docEgre.rucVista}"/>
                                        </p:column> -->
                                        <p:column styleClass="siseFontTable3" headerText="#{msgs.etiquetaGlosa}" width="200">
                                            <h:outputText value="#{docEgre.glosa}"/>
                                        </p:column> 
                                        <p:column styleClass="siseFontTable3 centrado-texto" headerText="#{msgs.etiquetaTipPago}" width="60">
                                            <h:outputText value="#{docEgre.tipoPagoBean.codigo}"/>
                                        </p:column>  
                                        <p:column styleClass="siseFontTable3 centrado-texto" sortBy="#{docEgre.numChequeVista}" headerText="#{msgs.etiquetaNumeroCheque}" width="100">
                                            <h:outputText value="#{docEgre.numChequeVista}"/>
                                        </p:column>  
                                        <p:column styleClass="siseFontTable3" headerText="#{msgs.etiquetaTipMon}" width="70">
                                            <h:outputText value="#{docEgre.tipoMonedaBean.codigo}"/>
                                        </p:column> 
                                        <p:column styleClass="siseFontTable3" sortBy="#{docEgre.montoPagado}" headerText="#{msgs.etiquetaMontoPagado}" width="80" style="text-align: right">
                                            <h:outputText value="#{docEgre.montoPagado}">
                                                <f:convertNumber pattern="#0.00" />
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaResuelto}" sortBy="#{docEgre.flgRendicionVista}" styleClass="siseFontTable3 centrado-texto" width="70">
                                            <h:outputText value="#{docEgre.flgRendicionVista}"/>
                                        </p:column>
                                        <p:column style="text-align:center;" headerText="#{msgs.etiquetaAccion}" styleClass="siseFontTable3 centradotexto" width="65">
                                            <p:commandLink id="cmdRendir" actionListener="#{rendicionMB.cargarDocEgreso(docEgre)}" 
                                                           oncomplete="PF('popMantRendicion').show()" update=":frmMantRendicion,:frmTblRendicion">
                                                <h:graphicImage value="/resources/images/icons/rendir.png" style="border:0; cursor:pointer;" width="16"/>
                                            </p:commandLink>
                                            <p:tooltip id="toolTipRendir" for="cmdRendir" value="#{msgs.toolTipRenCue}" />
                                            <p:spacer width="20">
                                            </p:spacer>
                                            <h:commandLink  actionListener="#{rendicionMB.imprimirLiquidacion(docEgre.solicitudCajaCHBean.idSolicitudCajaCh)}" rendered="#{docEgre.flgRendicion}"   target="_blank" id="imprimir3">
                                                <h:graphicImage value="/resources/images/icons/pdf.png" width="16"/>                                                
                                            </h:commandLink>
                                            <p:tooltip id="toolTip3" for="imprimir3" value="#{msgs.tooltipImprLiquidacion}" />
                                        </p:column>
                                    </p:dataTable> 
                                </h:panelGrid> 
                            </h:form>
                        </div>
                    </p:layoutUnit>
                </p:layout> 
            </div> 
            <p:dialog header="#{msgs.tituloMantRend}" showEffect="fade" hideEffect="explode" widgetVar="popMantRendicion" resizable="false" modal="true" position="top">
                <h:form id="frmMantRendicion">
                    <h:panelGrid columns="2" id="pnlMantRendicion">
                        <h:panelGrid columns="3">
                            <h:outputLabel value="#{msgs.etiquetaMontoEnt}:" styleClass="negrita" />
                            <h:outputText value="" styleClass="requerido"/>    
                            <h:panelGrid columns="3" rendered="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.idDocEgreso==null}">
                                <h:outputText value="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.monto}" style="background-color: gold;font-weight: bolder">
                                    <f:convertNumber pattern="#0.00" />
                                </h:outputText>
                            </h:panelGrid>
                            <h:panelGrid styleClass="centrado" columns="5" width="350" style="padding-left: 30px;" rendered="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.idCajaChicaMov==null}">
                                <h:outputText value="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.montoPagado}" style="background-color: gold;font-weight: bolder">
                                    <f:convertNumber pattern="#0.00" />
                                </h:outputText>
                            </h:panelGrid>
                            <h:outputLabel value="#{msgs.etiquetaMotivo}" styleClass="negrita"/>
                            <h:outputText value="" styleClass="requerido"/>
                            <h:panelGrid columns="3" rendered="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.idDocEgreso==null}">
                                <h:outputText value="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.motivo}"  />
                                <h:inputHidden value="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.cajaChicaBean.personalBean.idPersonal}"  />
                            </h:panelGrid> 
                            <h:panelGrid columns="3" rendered="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.idCajaChicaMov==null}">
                                <h:outputText value="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.glosa}"   />
                                <h:inputHidden value="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.solicitudCajaCHBean.personalBean.idPersonal}"  />
                            </h:panelGrid>
                            <h:outputLabel value="#{msgs.etiquetaDesc}" styleClass="negrita"/>
                            <h:outputText value="" styleClass="requerido"/> 
                            <p:inputTextarea  value="#{rendicionMB.cajaChicaLiquidacionBean.descripcion}" required="true"  label="#{msgs.etiquetaDesc}" maxlength="500" 
                                                          style="width: 300px;height: 50px"/> 
                            
                            <h:outputLabel value="#{msgs.etiquetaRuc}: " styleClass="negrita" />
                            <h:outputText value="*" styleClass="requerido"/>
                            <h:panelGrid columns="9" id="pnlProveedor1"> 
                                <p:inputText value="#{rendicionMB.cajaChicaLiquidacionBean.ruc}" size="30" label="#{msgs.etiquetaRuc}" required="true" readonly="true"/>
                                <p:commandLink id="btnProveedor" action="#{rendicionMB.actualizarEntidad()}" process="@this"
                                               update=":frmProveedor" oncomplete="PF('popProveedor').show();" >
                                    <h:graphicImage value="/resources/images/icons/search2.png" style="border:0; cursor:pointer;"/>
                                </p:commandLink>
                                <p:tooltip id="toolTipPlan" for="btnProveedor" value="#{msgs.toolTipSelectProveedor}" />
                                <p:link id="entSeg" outcome="/configuracion/mantEntidad.xhtml" target="_blank">
                                    <h:graphicImage value="/resources/images/icons/addverde3.png" style="border:0; cursor:pointer;"/>
                                </p:link> 
                            </h:panelGrid>
                            <h:outputLabel value="#{msgs.etiquetaRazonSocial}: " styleClass="negrita" />
                            <h:outputText value=""/>
                            <p:inputText value="#{rendicionMB.cajaChicaLiquidacionBean.proveedor}" size="30" label="#{msgs.etiquetaRazonSocial}" 
                                         required="true" readonly="true" id="pnlProveedor2"/>
                            <h:outputLabel value="#{msgs.etiquetaTipoDoc}" styleClass="negrita"/>
                            <h:outputText value="*" styleClass="requerido"/>
                            <h:panelGrid columns="3">
                                <p:selectOneMenu id="cmbTipoDoc" value="#{rendicionMB.cajaChicaLiquidacionBean.tipoDoc.idCodigo}" 
                                                 required="true"  label="#{msgs.etiquetaTipoDoc}" >
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{rendicionMB.listaTipoDocBean}" var="tipoDoc" itemLabel="#{tipoDoc.codigo}" itemValue="#{tipoDoc.idCodigo}"/> 
                                    <p:ajax event="change" listener="#{rendicionMB.change()}" update=":frmMantRendicion:pnlImpuesto,pnlDistribucion,txtMontoTotal"/>
                                </p:selectOneMenu> 
                                <p:selectBooleanCheckbox id="ckDscto" value="#{rendicionMB.flgDscto}"  class="titulo" >
                                    <p:ajax event="change" listener="#{rendicionMB.change()}" update=":frmMantRendicion:pnlImpuesto,pnlDistribucion,txtMontoTotal,ckDscto"/>
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>
                            <h:outputLabel value="#{msgs.etiquetaNroDoc}" styleClass="negrita"/>
                            <h:outputText value="*" styleClass="requerido"/>
                            <p:inputText value="#{rendicionMB.cajaChicaLiquidacionBean.nroDoc}" size="30" label="#{msgs.etiquetaNroDoc}" required="true"/>
                            <h:outputLabel value="#{msgs.etiquetaFecha}" styleClass="negrita"/>
                            <h:outputText  styleClass="requerido" value="*"/>
                            <p:calendar  value="#{rendicionMB.cajaChicaLiquidacionBean.fechaDoc}"  label="#{msgs.etiquetaFecha}" mode="popup" size="10" required="true"
                                         pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                            </p:calendar>
                            <h:outputLabel value="#{msgs.etiquetaMonto}" styleClass="negrita"/>
                            <h:outputText value="*" styleClass="requerido"/>
                            <p:inputText id="txtMonto" value="#{rendicionMB.cajaChicaLiquidacionBean.monto}" label="#{msgs.etiquetaMonto}"
                                         required="true">
                                <f:convertNumber pattern="#,##0.00" locale="en_US" />
                                <p:ajax event="blur" listener="#{rendicionMB.calcular()}" update=":frmMantRendicion:pnlImpuesto,txtMonto,txtDescuento,:frmMantRendicion:pnlMontoTotal,pnlDistribucion"/>
                            </p:inputText>
                            <h:outputLabel value="#{msgs.etiquetaDescuento}" styleClass="negrita"/>
                            <h:outputText value="" styleClass="requerido"/>
                            <p:inputText id="txtDescuento" value="#{rendicionMB.cajaChicaLiquidacionBean.descuento}" label="#{msgs.etiquetaDescuento}">
                                <f:convertNumber pattern="#,##0.00" locale="en_US" />
                            </p:inputText>
                            <h:outputLabel value="#{msgs.etiquetaImpuesto}" styleClass="negrita" />
                            <h:outputText value="*" styleClass="requerido"/>
                            <h:panelGrid columns="4" id="pnlImpuesto">
                                <p:inputText id="txtImpuesto" value="#{rendicionMB.cajaChicaLiquidacionBean.impuesto}" label="#{msgs.etiquetaImpuesto}" 
                                             onblur="foco2();" required="true" readonly="true" size="10">
                                    <f:convertNumber pattern="#,##0.00" locale="en_US" />
                                </p:inputText>
                                <h:outputText value=""/>
                                <h:outputText value="#{rendicionMB.porcentaje}" id="txtPorcentaje"  />
                                <h:outputText value="%"/>
                            </h:panelGrid>
                            <h:outputLabel value="#{msgs.etiquetaMontoTotal}" styleClass="negrita"/>
                            <h:outputText value="*" styleClass="requerido"/>
                            <h:panelGrid columns="4" id="pnlMontoTotal">
                                <p:inputText id="txtMontoTotal" value="#{rendicionMB.cajaChicaLiquidacionBean.montoTotal}" label="#{msgs.etiquetaMontoTotal}" required="true">
                                    <f:convertNumber pattern="#,##0.00" locale="en_US" /> 
                                    <p:ajax event="blur" listener="#{rendicionMB.calcularTotal()}" update="txtMonto,txtDescuento,txtImpuesto,txtMontoTotal,pnlDistribucion"/>
                                </p:inputText>
                                <p:commandButton value="#{msgs.botonCalcular}" actionListener="#{rendicionMB.calcularTotal()}" ajax="true" update="txtMonto,txtDescuento,txtImpuesto,txtMontoTotal"
                                                 process="@this,txtPorcentaje,txtMonto,txtDescuento,txtImpuesto,txtMontoTotal" />
                            </h:panelGrid>
                            <h:outputLabel value="#{msgs.etiquetaTipoConcepto}" styleClass="negrita"/>
                            <h:outputText value="" styleClass="requerido"/>
                            <p:selectOneMenu id="cmboTipo"  value="#{rendicionMB.cajaChicaLiquidacionBean.conceptoBean.tipoConceptoBean.idTipoConcepto}"  label="#{msgs.etiquetaTipoConcepto}" filter="true" style="width: 375px" panelStyle="width:400px" filterMatchMode="contains">
                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                <f:selectItems value="#{rendicionMB.listaTipoConceptoBean}" var="tipo" itemLabel="#{tipo.nombre}" itemValue="#{tipo.idTipoConcepto}"/>
                                <p:ajax event="change" listener="#{rendicionMB.obtenerConceptoPorTipo()}" update="cmbConcepto"/>
                            </p:selectOneMenu>
                            <h:outputLabel value="#{msgs.etiquetaConcepto}" styleClass="negrita"/>
                            <h:outputText  styleClass="requerido" value="*"/>
                            <p:selectOneMenu id="cmbConcepto" value="#{rendicionMB.cajaChicaLiquidacionBean.conceptoBean.idConcepto}"  label="#{msgs.etiquetaConcepto}" filterMatchMode="contains" required="true"
                                             filter="true" style="width: 375px" panelStyle="width:400px">
                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                <f:selectItems value="#{rendicionMB.listaConceptoUniNegBean}" var="concepto" itemLabel="#{concepto.conceptoBean.planContableCuentaDBean.cuenta} - #{concepto.conceptoBean.nombre}" itemValue="#{concepto.conceptoBean.idConcepto}"/> 
                                <p:ajax event="change" listener="#{rendicionMB.obtenerTipoPorConcepto(rendicionMB.cajaChicaLiquidacionBean.conceptoBean.idConcepto)}" update="cmboTipo,chkSD"/>
                            </p:selectOneMenu> 
                        </h:panelGrid> 
                        <h:panelGrid>
                            <p:selectBooleanCheckbox disabled="#{rendicionMB.flgRenderCr}" id="chkSD" value="#{rendicionMB.flgCr}"   itemLabel="Desactivar Centro de Responsabilidad" >
                                <p:ajax event="change" update="mey" listener="#{rendicionMB.crBarina()}"  />
                            </p:selectBooleanCheckbox>   
                            <h:panelGrid id="mey" columns="1" styleClass="centrado">
                                <h:panelGrid columns="1" styleClass="centrado" rendered="#{rendicionMB.flgCr==false}" >
                                    <p:fieldset legend="#{msgs.etiquetaCentRes}">
                                        <h:panelGrid columns="3" styleClass="siseFontGrid4" id="pnlDist">
                                            <h:outputLabel value="#{msgs.etiquetaDistribucion}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneMenu id="cmbTipoDist" value="#{rendicionMB.cajaChicaLiquidacionBean.tipoDistribucion.idCodigo}"
                                                             style="width: 200px" required="false" label="#{msgs.etiquetaDistribucion}">
                                                <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{rendicionMB.listaTipoDistribucionCRBean}" var="dist" itemLabel="#{dist.codigo}" itemValue="#{dist.idCodigo}"/>
                                            </p:selectOneMenu>
                                        </h:panelGrid>
                                        <hr/>
                                        <p:pickList id="pickCentroResponsabilidad" value="#{rendicionMB.dualCentroResponsabilidadBean}" var="cr" itemLabel="#{cr.cr}-#{cr.nombre}" itemValue="#{cr}" 
                                                    showSourceFilter="true" showTargetFilter="true" filterMatchMode="contains" converter="crConverter"
                                                    >
                                        </p:pickList> 
                                        <!--<h:outputText value="#{msgs.msjCRDiv}"/> -->
                                        <h:inputHidden value="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.idCajaChicaMov}"/>
                                        <h:inputHidden value="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.idDocEgreso}"/>
                                        <h:inputHidden value="#{rendicionMB.cajaChicaMov.idCajaChicaMov}"/>
                                    </p:fieldset>
                                    <p:commandButton id="btnDist" actionListener="#{rendicionMB.distribuir()}" update="pnlDistribucion,msgs" process="btnDist,pickCentroResponsabilidad,cmbTipoDist,txtMonto"
                                                     value="#{msgs.botonDist}">
                                    </p:commandButton>
                                    <h:panelGrid id="pnlDistribucion">
                                        <p:dataTable id="tblDetCR" value="#{rendicionMB.cajaChicaLiquidacionBean.listaCajaChicaLiquidacionCRBean}" widgetVar="tblDetCR" 
                                                     rowIndexVar="n" rendered="#{not empty rendicionMB.cajaChicaLiquidacionBean.listaCajaChicaLiquidacionCRBean}" var="detCR" scrollable="true" scrollHeight="125" 
                                                     style="font-size:14px !important;margin-bottom:0;width: #{rendicionMB.anchoTablasShort}"> 
                                            <p:column  headerText="#{msgs.numero}" width="8%" styleClass="siseFontTable3 centrado-texto">
                                                <center>
                                                    <h:outputText value="#{n+1}" />
                                                </center>
                                            </p:column>
                                            <p:column headerText="#{msgs.etiquetaCentRes}" styleClass="siseFontTable3" >
                                                <h:outputText value="#{detCR.centroResponsabilidadBean.cr} - #{detCR.centroResponsabilidadBean.nombre}"/>
                                            </p:column>  
                                            <p:column headerText="#{msgs.etiquetaValor}" styleClass="siseFontTable3 centrado-texto" width="25%">
                                                <h:inputText value="#{detCR.monto}" size="8">
                                                    <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                                </h:inputText>
                                            </p:column> 
                                        </p:dataTable>
                                    </h:panelGrid>
                                </h:panelGrid> 
                            </h:panelGrid> 
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado" id="btn1">
                        <p:commandButton actionListener="#{rendicionMB.guardarRendicion()}" update=":frmTblRendicion:pnlDatosRend,:frmMantRendicion:pnlMantRendicion,msgs" 
                                         oncomplete="if(args.operacionCorrecta){PF('popDone').show();}" 
                                         disabled="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.flgRendicion or 
                                                     rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.solicitudCajaCHBean.tipoEstRend.idCodigo!=null or
                                                     rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.flgRendicion}"
                                         value="#{msgs.botonGrabar}">
                        </p:commandButton> 
                    </h:panelGrid>
                    <p:messages id="msgs"  autoUpdate="false"/>
                </h:form>
                <h:form id="frmTblRendicion">
                    <h:panelGrid columns="1" id="pnlDatosRend">
                        <p:dataTable id="tblRendicion" value="#{rendicionMB.listaCajaChicaLiquidacionBean}" widgetVar="tblRendicion"
                                     scrollable="true" scrollHeight="100" selectionMode="single" rowIndexVar="n" 
                                     var="rendicion" rowKey="#{rendicion}"  selection="#{rendicionMB.cajaChicaLiquidacionBean}"
                                     rendered="#{not empty rendicionMB.listaCajaChicaLiquidacionBean}" 
                                     style="width: 1200px;font-size:14px !important;margin-bottom:0;">
                            <p:ajax event="rowSelect" listener="#{rendicionMB.rowSelect}" update=":frmMantRendicion:pnlMantRendicion" />
                            <f:facet name="header">
                                <h:outputText value="#{msgs.etiquetaRendGastos}"/>
                            </f:facet>
                            <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="25" styleClass="centrado-texto">
                                <center>
                                    <h:outputText value="#{n+1}" />
                                </center>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaProveedor}" sortBy="#{rendicion.proveedor}" width="300">
                                <h:outputText value="#{rendicion.proveedor}"/>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaRuc}" sortBy="#{rendicion.ruc}" width="110">
                                <h:outputText value="#{rendicion.ruc}"/>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaTipoDoc}" sortBy="#{rendicion.tipoDoc.codigo}" width="75">
                                <h:outputText value="#{rendicion.tipoDoc.codigo}"/>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaNDoc}" sortBy="#{rendicion.nroDoc}" width="100">
                                <h:outputText value="#{rendicion.nroDoc}"/>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaMonto}" sortBy="#{rendicion.monto}" width="75" style="text-align: right">
                                <h:outputText value="#{rendicion.monto}">
                                    <f:convertNumber pattern="#0.00" />
                                </h:outputText>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaDescuento}" sortBy="#{rendicion.descuento}" width="75" style="text-align: right">
                                <h:outputText value="#{rendicion.descuento}" >
                                    <f:convertNumber pattern="#0.00" />
                                </h:outputText>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaImpuesto}" sortBy="#{rendicion.impuesto}" width="75" style="text-align: right">
                                <h:outputText value="#{rendicion.impuesto}">
                                    <f:convertNumber pattern="#0.00" />
                                </h:outputText>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaMontoTotal}" sortBy="#{rendicion.montoTotal}" width="75" style="text-align: right">
                                <h:outputText value="#{rendicion.montoTotal}">
                                    <f:convertNumber pattern="#0.00" />
                                </h:outputText>
                            </p:column>
                            <p:column style="text-align:center;" width="50">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaAccion}" />
                                </f:facet>
                                <p:commandLink id="cmdEliminar" actionListener="#{rendicionMB.obtenerRendicionPorId(rendicion)}" 
                                               disabled="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.flgRendicion}"
                                               oncomplete="PF('popEliminar').show()" update=":frmElimina" process="cmdEliminar,:frmElimina">
                                    <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0; cursor:pointer;" width="16"/>
                                </p:commandLink>
                                <p:tooltip id="toolTipEli" for="cmdEliminar" value="#{msgs.tooltipEliminar}" />
                            </p:column>
                        </p:dataTable>
                        <h:panelGrid columns="2" styleClass="centrado" rendered="#{not empty rendicionMB.listaCajaChicaLiquidacionBean}">
                            <h:outputLabel value="#{msgs.etiquetaMontoRen}"/>
                            <h:outputText value="#{rendicionMB.montoTotalRend}">
                                <f:convertNumber pattern="#0.00" />
                            </h:outputText>
                        </h:panelGrid>
                        <br/>
                        <h:panelGrid styleClass="centrado" rendered="#{not empty rendicionMB.listaCajaChicaLiquidacionBean}" id="btn2" columns="2">
                            <p:commandButton id="btnConRen" actionListener="#{rendicionMB.confirmaRendirCuentas()}" update=":frmConfirmaRen" 
                                             oncomplete="if(args.operacionCorrecta){PF('popConfirmaRen').show();}" process="btnConRen,:frmConfirmaRen"
                                             value="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.flgRendicion==true ? msgs.botonVerRendir:msgs.botonRendir}">
                            </p:commandButton>
                            <p:commandButton id="btnCerrar" oncomplete="{PF('popMantRendicion').hide();}" value="#{msgs.botonCerrar}"
                                             >
                            </p:commandButton>
                        </h:panelGrid>
                    </h:panelGrid>
                </h:form>
            </p:dialog>
            <h:form id="frmConfirmaRen">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popConfirmaRen" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:panelGrid columns="1" id="pnlDatosConfirma">
                            <h:outputText value="#{msgs.msjConfirmaRend1}" rendered="#{rendicionMB.operacion1}"/>
                            <h:outputText value="#{msgs.msjConfirmaRend2}" rendered="#{rendicionMB.operacion2}"/>
                            <h:outputText value="#{msgs.msjConfirmaRend3}" rendered="#{rendicionMB.operacion3}"/>
                            <h:outputText value="#{msgs.msjConfirmaRend6}" rendered="#{rendicionMB.operacion4}"/>
                            <br/>
                            <h:panelGrid columns="3">
                                <h:outputText value="1.- #{msgs.etiquetaMontoEnt}"/>
                                <h:outputText value=":"/>
                                <h:outputText value="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.idCajaChicaMov!=null?
                                                       rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.monto:rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.montoPagado}">
                                    <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                </h:outputText>
                                <h:outputText value="2.- #{msgs.etiquetaMontoRen}"/>
                                <h:outputText value=":"/>
                                <h:outputText value="#{rendicionMB.montoTotalRend}">
                                    <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                </h:outputText>
                                <h:outputText value="3.- #{msgs.etiquetaDiferencia}"/>
                                <h:outputText value=":"/>
                                <h:outputText value="#{rendicionMB.montoDiferenciaRend}">
                                    <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                </h:outputText>
                                <h:outputText value="Estado Rendicion" rendered="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.solicitudCajaCHBean.tipoEstRend.idCodigo!=null}"/>
                                <h:outputText value=":" rendered="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.solicitudCajaCHBean.tipoEstRend.idCodigo!=null}"/>
                                <h:outputText value="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.solicitudCajaCHBean.tipoEstRend.codigo}"
                                              rendered="#{rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.solicitudCajaCHBean.tipoEstRend.idCodigo!=null}"/>
                            </h:panelGrid>
                            <br/>
                            <h:outputText value="#{msgs.msjConfirmaRend4}"/>
                            <h:outputText value="#{msgs.msjConfirmaRend5}"/>
                            <h:outputText value="#{msgs.msjConfirmaRend8}" rendered="#{rendicionMB.operacion4}"/>
                            <br/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="4" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{rendicionMB.rendirCuentas()}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         disabled="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.flgRendicion
                                                     or rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.flgRendicion or rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.solicitudCajaCHBean.tipoEstRend.idCodigo!=null}"
                                         update=":frmMantRendicion,:frmTblRendicion:pnlDatosRend,msgsDel,:frmReciboDev,:frmTableMov:pnlTablaChicaMov,:frmConfirmaRen,:frmDatosDocEgre:pnlDocEgre" 
                                         oncomplete="if(args.operacionCorrecta){PF('popConfirmaRen').hide();PF('popMantRendicion').hide();PF('popDone').show();}
                                         if(args.operacionCorrecta1){link1();}if(args.operacionCorrecta11){link2();}
                                         if(args.operacionCorrecta2){PF('popReciboDev').show();}if(args.operacionCorrecta3){link3();}"/>
                        <p:commandLink />
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         disabled="#{rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.flgRendicion 
                                                     or rendicionMB.cajaChicaLiquidacionBean.docEgresoBean.flgRendicion}"
                                         icon="ui-icon-close" oncomplete="PF('popConfirmaRen').hide();"/>
                        <p:commandButton value="#{msgs.etiquetaVerRec}" actionListener="#{rendicionMB.cargarRecibo()}" update=":frmReciboDev"
                                         disabled="#{!rendicionMB.cajaChicaLiquidacionBean.cajaChicaMovBean.flgRendicion}" rendered="#{rendicionMB.operacion2}"
                                         oncomplete="PF('popReciboDev').show();"/>
                        <p:link id="link1" outcome="/mantenimientos/mantCajaChicaMov.xhtml" target="_blank"/>
                        <p:link id="link2" outcome="/mantenimientos/mantDocEgreso.xhtml" target="_blank"/>
                        <p:link id="link3" outcome="/mantenimientos/mantRendCobranza.xhtml" target="_blank"/>
                        <h:inputHidden value="#{rendicionMB.cajaChicaMov.idCajaChicaMov}"/>
                    </h:panelGrid>
                    <p:messages id="msgsDel" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>
            <h:form id="frmElimina">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminar" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.etiquetaRegistro}: #{rendicionMB.cajaChicaLiquidacionBean.nroDoc}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{rendicionMB.eliminarRendicion()}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmTblRendicion:pnlDatosRend,msgsDel"
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar').hide();"/>
                    </h:panelGrid>
                    <p:messages id="msgsDel" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>
            <h:form id="frmReciboDev">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popReciboDev" resizable="false" modal="true">
                    <h:panelGrid columns="1" id="pnlRecibo">
                        <h:panelGrid styleClass="centrado-texto centrado">
                            <h:outputText value="#{msgs.etiquetaRecibo}" style="font-size: 45px"/>
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputText value="#{msgs.etiquetaRecibo1}"/>
                            <h:outputText value="#{rendicionMB.reciboDevolucionRepBean.nombre}"/>
                        </h:panelGrid>
                        <h:panelGrid columns="4">
                            <h:outputText value="#{msgs.etiquetaRecibo6}"/>
                            <h:outputText value="#{rendicionMB.reciboDevolucionRepBean.importe}"/>
                            <h:outputText value=" #{rendicionMB.reciboDevolucionRepBean.tipoMoneda}"/>
                        </h:panelGrid>
                        <h:outputText value="#{msgs.etiquetaRecibo2}"/>
                        <h:panelGrid columns="3">

                        </h:panelGrid>
                        <h:outputText value="_____________, ____#{msgs.etiquetaRecibo4} ________ #{msgs.etiquetaRecibo5} _____"/>
                        <br/>
                        <br/>
                        <br/>
                        <h:panelGrid styleClass="centrado-texto centrado" columns="1">
                            <h:outputText value="______________________________________"/>
                            <h:outputText value="#{msgs.etiquetaRecibo3}"/>
                            <br/>
                        </h:panelGrid>
                        <h:inputHidden value="#{rendicionMB.cajaChicaMov.idCajaChicaMov}"/>
                        <h:inputHidden value="#{rendicionMB.cajaChicaMov.idDevolucion}"/>
                    </h:panelGrid>
                    <div align="center">
                        <h:inputHidden value="#{rendicionMB.cajaChicaMov.idCajaChicaMov}"/>
                        <p:commandLink target="_blank" action="#{rendicionMB.imprimirReciboDevPdf()}" ajax="false">
                            <h:graphicImage value="/resources/images/impresora.png" />
                        </p:commandLink>
                    </div>
                </p:dialog>
            </h:form>
            <h:form>
                <p:dialog header="#{msgs.appSiglas}" widgetVar="popError"  styleClass="autoWidthDialog" showEffect="fade" hideEffect="explode"
                          modal="true">
                    <h:graphicImage value="/resources/images/icons/iconoInfo.png" />
                    <h:outputText value="#{msgs.msgsMontoSuperaAcaja}"/>
                    <br/><br/>
                    <div align="center">
                        <p:commandButton oncomplete="PF('popError').hide();" value="#{msgs.botonCerrar}">

                        </p:commandButton>
                    </div>
                </p:dialog>
            </h:form>
            <h:form id="frmProveedor" styleClass="center_content">
                <h:panelGrid  columns="1" styleClass="centrado">
                    <p:dialog header="#{msgs.appSiglas}" widgetVar="popProveedor" showEffect="fade" hideEffect="explode" width="900"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false" dynamic="true">

                        <h:panelGrid id="pnlProveedor" columns="1" styleClass="centrado">
                            <p:dataTable id="tblSedeProveedor" value="#{rendicionMB.listaEntidadBean}" paginator="true" paginatorPosition="bottom"
                                         var="entidad"  widgetVar="tblSedeProveedor" rowIndexVar="n"
                                         rowKey="#{entidad.ruc}" rows="6"
                                         rendered="#{not empty rendicionMB.listaEntidadBean}" 
                                         style="width:850px; font-size: 12px" >

                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.tituloProveedores}" />  
                                </f:facet>
                                <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" style="width: 15px !important" styleClass="centrado-texto">
                                    <center>
                                        <h:outputText value="#{n+1}" />
                                    </center>
                                </p:column>
                                <p:column filterBy="#{entidad.ruc}" styleClass="nombre1Filtro" headerText="#{msgs.etiquetaRuc}" filterMatchMode="contains" width="12%" >
                                    <center><h:outputText value="#{entidad.ruc}"/></center>
                                </p:column> 
                                <p:column filterBy="#{entidad.nombre}" styleClass="nombre2Filtro"  headerText="#{msgs.etiquetaRazonSocial}" filterMatchMode="contains" width="30%" >
                                    <h:outputText value="#{entidad.nombre}"/>
                                </p:column> 
                                <p:column style="text-align:center;width:60px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelec" actionListener="#{rendicionMB.obtenerEntidadPorId(entidad)}"  
                                                   update=":frmMantRendicion:pnlProveedor1,:frmMantRendicion:pnlProveedor2"
                                                   oncomplete="PF('popProveedor').hide();" process="@this">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipEdit" for="cmdSelec" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <br/>
                        <p:separator/>
                        <div align="center">
                            <p:commandButton oncomplete="PF('popProveedor').hide();" 
                                             value="#{msgs.botonCerrar}" >
                            </p:commandButton>
                        </div>
                    </p:dialog>
                </h:panelGrid>
            </h:form>
        </h:body>
    </ui:define>
</ui:composition>
