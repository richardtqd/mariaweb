<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui" 
                template="/plantilla/plantillaPrincipal.xhtml" >
    <ui:define name="content">
        <h:body onload="#{mensajeMB.obtenerMensajePorOwnerRecibidos()}">
            <center>
                <h:outputText value="#{msgs.tituloAutoSolicitud}" class="tituloPantalla" style="margin: auto !important;font-size: 16px"/>
            </center>
              <!-- rowStyleClass="#{mensaje.tipoStatusMensajeBean.codigo eq 'Pendiente' ? 'pintarFila' : null}"-->
            <br></br>
            <p:tabView orientation="rigth" id="tabViewMensaje" style="width: 1400px" styleClass="centrado">
                <p:tab title="#{msgs.etiquetaRecibidos}">
                    <h:panelGrid columns="2" cellpadding="10" styleClass="centrado">
                        <h:form id="frmRecibidos">
                            <h:panelGrid  id="pnlTablaMensaje">
                                <center>
                                    <h:outputText value="#{msgs.msjeNoTieneSolPendientes}"  rendered="#{ empty mensajeMB.listaMensajeRecibidosBean}" /> 
                                </center> 
                                <p:dataTable id="tblMensaje" value="#{mensajeMB.listaMensajeRecibidosBean}" widgetVar="tblMensaje"
                                             paginator="true" selectionMode="single" paginatorPosition="bottom"
                                             selection="#{mensajeMB.mensajeBean}" 
                                             var="mensaje" rowKey="#{mensaje.idMensaje}" rowIndexVar="n"
                                             rows="#{mensajeMB.numRegistrosTablasPorFiltroMin}" 
                                             rendered="#{not empty mensajeMB.listaMensajeRecibidosBean}" 
                                             style="width: #{mensajeMB.anchoTablasExtraGrande}; font-size: 10px;font-size:14px !important;">
                                    <f:facet name="header" >
                                        <h:outputText value="#{msgs.tituloMsjs}" />  
                                    </f:facet>
                                    <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="4%" styleClass="siseFontTable3 centrado-texto">
                                        <center>
                                            <h:outputText value="#{n+1}" />
                                        </center>
                                    </p:column>   
                                    <p:column filterBy="#{mensaje.idObjetoStr}" sortBy="#{mensaje.idObjetoStr}"  headerText="#{msgs.EtiquetaCodigo}" filterMatchMode="contains" width="8%" styleClass="nombre5Filtro siseFontTable3 centrado-texto">
                                        <center>
                                            <h:outputText value="#{mensaje.idObjetoStr}" />
                                        </center>
                                    </p:column>   
                                    <p:column filterBy="#{mensaje.nombreSolicitante}" sortBy="#{mensaje.nombreSolicitante}" headerText="#{msgs.etiquetaSolicitante}" styleClass="nombre1Filtro siseFont1  centrado-texto" width="15%">
                                        <h:outputText value="#{mensaje.nombreSolicitante}" />
                                    </p:column> 
                                    <p:column filterBy="#{mensaje.nombreRespCheque}" sortBy="#{mensaje.nombreRespCheque}" headerText="#{msgs.etiquetaResCheque}" styleClass="siseFont1  centrado-texto" width="15%">
                                        <h:outputText value="#{mensaje.nombreRespCheque}" />
                                    </p:column> 
                                    <p:column filterBy="#{mensaje.asunto}" sortBy="#{mensaje.asunto}" headerText="#{msgs.etiquetaAsunto}" styleClass="siseFont3 nombre2Filtro" width="35%">
                                        <h:outputText value="#{mensaje.asunto}" />
                                    </p:column>
                                    <p:column sortBy="#{mensaje.fecMsje}" headerText="#{msgs.etiquetaFecMsje}"   styleClass="siseFont1" width="8%">
                                        <h:outputText value="#{mensaje.fecMsje}" >
                                            <f:convertDateTime pattern="dd/MM/YYYY"/>
                                        </h:outputText>
                                    </p:column> 
                                    <p:column filterBy="#{mensaje.montoVista}" sortBy="#{mensaje.montoVista}" headerText="#{msgs.etiquetaMonto}" width="65" styleClass="nombre5Filtro siseFont1" style="font-size: 0.9em ;text-align: right !important;font-weight: bold">
                                        <h:outputText value="#{mensaje.montoVista}"   >
                                            <f:convertNumber pattern="#,##0.00" locale="en_US" />
                                        </h:outputText>
                                    </p:column> 
                                    <p:column filterBy="#{mensaje.objetoVista}"  headerText="#{msgs.etiquetaAmbito}" width="8%" styleClass="nombre5Filtro siseFont1 centrado-texto">
                                        <h:outputText value="#{mensaje.objetoVista}" />
                                    </p:column>
                                    <p:column class="centrado" width="45" styleClass="siseFont1 centrado-texto">
                                        <f:facet name="header">
                                            <h:outputText value="#{msgs.etiquetaVerDeta}"/><br/>
                                        </f:facet>
                                        <p:commandLink  actionListener="#{mensajeMB.obtenerMensajePorId(mensaje)}"
                                                        oncomplete="if(args.operacionCorrectaCajaCh){PF('popSolCajaCh').show();}if(args.operacionCorrectaSolLog){PF('popRegCom').show()};if(args.operacionCorrectaReq){PF('popSolReq').show();}if(args.operacionCorrectaFact){PF('popFactCom').show()};" 
                                                        process="@this" update=":frmSolCajaCh:pnlDist,:frmSolCajaCh:pnlDatosSolCajaCh,:frmRegCom:pnlDatosRegCom,:frmSolReq:pnlDatosSolReq,:frmSolReq:pnlCatalogo,:frmFactCom:pnlDatosFactCom">
                                            <h:graphicImage value="/resources/images/icons/edit.png"   style="border:0; cursor:pointer;"/>
                                        </p:commandLink> 
                                    </p:column>
                                </p:dataTable>
                            </h:panelGrid> 
                            <p:growl id="msgsAddPro" showDetail="true" showSummary="true"/> 
                        </h:form> 
                    </h:panelGrid>
                </p:tab>
                <p:tab title="#{msgs.etiquetaAtendidos}">
                    <h:panelGrid columns="2" cellpadding="10"  styleClass="centrado">
                        <h:form id="frmAtendidos">
                            <h:panelGrid   style="width: 900px;padding: 0px"  styleClass="centrado">
                                <p:panel style="width: 800px" header="#{msgs.etiquetaFiltros}" styleClass="centrado"> 
                                    <h:panelGrid columns="4" styleClass="centrado" id="pnlFiltro" >
                                        <h:outputLabel value="#{msgs.etiquetaFechaInicio}:" class="negrita siseFontGrid5"/>  
                                        <p:calendar  value="#{mensajeMB.mensajeFiltroBean.fechaInicio}"  label="#{msgs.etiquetaFechaInicio}" mode="popup" size="10"
                                                     pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                        </p:calendar>
                                        <h:outputLabel value="#{msgs.etiquetaFechaFin}:" class="negrita siseFontGrid5"/>  
                                        <p:calendar  value="#{mensajeMB.mensajeFiltroBean.fechaFin}"  label="#{msgs.etiquetaFechaFin}" mode="popup" size="10"
                                                     pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                        </p:calendar>
                                        <h:outputLabel value="#{msgs.etiquetaCodigoSol} "/>
                                        <p:inputText value="#{mensajeMB.mensajeFiltroBean.idObjeto}" size="20" maxlength="30"/>
                                        <h:outputLabel value="#{msgs.etiquetaSolicitante}" /> 
                                        <p:inputText value="#{mensajeMB.mensajeFiltroBean.nombreSolicitante}" size="20" maxlength="30"/> 

                                        <h:outputLabel value="#{msgs.etiquetaCondiAten}" class="negrita siseFontGrid5"/> 
                                        <p:selectOneMenu value="#{mensajeMB.mensajeFiltroBean.flgAutoriza}" label="#{msgs.etiquetaCondiAten}">
                                            <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemValue="#{msgs.comboTrue}" itemLabel="#{msgs.etiquetaAutorizado}"/>
                                            <f:selectItem itemValue="#{msgs.comboFalse}" itemLabel="#{msgs.etiquetaNoAutorizado}"/>
                                        </p:selectOneMenu>
                                        <h:outputLabel value="#{msgs.etiquetaPrioridad}" class="negrita siseFontGrid5"/> 
                                        <p:selectOneMenu  value="#{mensajeMB.mensajeFiltroBean.tipoPrioridad.idCodigo}" label="#{msgs.etiquetaPrioridad}" filter="true" style="width: 175px" panelStyle="width:175px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{mensajeMB.listaTipoPrioridadBean}" var="tipPri" itemLabel="#{tipPri.codigo}" itemValue="#{tipPri.idCodigo}"/> 
                                        </p:selectOneMenu>
                                        <h:outputLabel value="#{msgs.etiquetaSolisEstadoPago}: " styleClass="negrita siseFontGrid5"  /> 
                                        <p:selectOneRadio value="#{mensajeMB.mensajeFiltroBean.flgPagado}"  required="false"  label="#{msgs.etiquetaSolisEstadoPago}">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.etiquetaTodas}" noSelectionOption="true"/>
                                            <f:selectItem itemValue="1" itemLabel="#{msgs.etiquetaSolisPagadas}"/>
                                            <f:selectItem itemValue="0" itemLabel="#{msgs.etiquetaSolisPorPagar}"/>
                                        </p:selectOneRadio> 
                                        <!--
                                       <h:outputLabel value="#{msgs.etiquetaMotivo}"/>
                                       <p:inputTextarea value="#{mensajeMB.mensajeFiltroBean.asunto}"   maxlength="200" rows="3" cols="30"/>                  -->                      
                                    </h:panelGrid>
                                    <p:separator></p:separator>
                                    <h:panelGrid  columns="2" class="centrado">
                                        <p:commandButton value="#{msgs.botonBuscar}" action="#{mensajeMB.obtenerFiltroMensaje('atendidos')}"
                                                         update="pnlTablaMsjAtendidos,msg" > 
                                        </p:commandButton>
                                        <p:commandButton  actionListener="#{mensajeMB.limpiarMensajeFiltro()}"
                                                          update="pnlFiltro,pnlTablaMsjAtendidos,msg"  
                                                          value="#{msgs.botonLimpiar}" process="@this">
                                        </p:commandButton> 
                                    </h:panelGrid>
                                    <p:messages autoUpdate="false" id="msg" />
                                </p:panel>
                            </h:panelGrid>
                            <br></br>
                            <h:panelGrid  id="pnlTablaMsjAtendidos" styleClass="centrado">
                                <p:dataTable id="tblMsjeAtendido" value="#{mensajeMB.listaMensajeAtendidosBean}" widgetVar="tblMsjeAtendido"
                                             paginator="true" selectionMode="single" paginatorPosition="bottom"
                                             selection="#{mensajeMB.mensajeBean}" 
                                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
                                             var="msjAtendido" rowKey="#{msjAtendido}" rowIndexVar="n"
                                             rows="#{mensajeMB.numRegistrosTablasPorFiltroMin}" 
                                             rendered="#{not empty mensajeMB.listaMensajeAtendidosBean}" 
                                             style="width: #{mensajeMB.anchoTablasExtraGrande}; font-size: 10px;font-size:14px !important;">
                                    <f:facet name="header" >
                                        <h:outputText value="#{msgs.tituloMsjs}" />  
                                    </f:facet>
                                    <f:facet name="{Exporters}">
                                        <h:commandLink> 
                                            <p:graphicImage value="/resources/images/icons/exportarexcel.png" width="24"/>
                                            <p:dataExporter type="xls" target="tblMsjeAtendido" fileName="solicitudes" />
                                        </h:commandLink>   
                                    </f:facet>  
                                    <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="4%" styleClass="siseFontTable3 centrado-texto">
                                        <h:outputText value="#{n+1}" /> 
                                    </p:column>   
                                    <p:column filterBy="#{msjAtendido.idObjetoStr}" sortBy="#{msjAtendido.idObjetoStr}"  headerText="#{msgs.EtiquetaCodigo}" filterMatchMode="contains" width="9%" styleClass="nombre5Filtro siseFontTable3 centrado-texto">
                                        <h:outputText value="#{msjAtendido.idObjetoStr}" />
                                    </p:column>  
                                    <p:column filterBy="#{msjAtendido.nombreSolicitante}" sortBy="#{msjAtendido.nombreSolicitante}" headerText="#{msgs.etiquetaSolicitante}" styleClass="siseFont1  centrado-texto" width="20%">
                                        <h:outputText value="#{msjAtendido.nombreSolicitante}" />
                                    </p:column> 
                                    <p:column filterBy="#{msjAtendido.nombreRespCheque}" sortBy="#{msjAtendido.nombreRespCheque}" headerText="#{msgs.etiquetaResCheque}" styleClass="siseFont1  centrado-texto" width="15%">
                                        <h:outputText value="#{msjAtendido.nombreRespCheque}" />
                                    </p:column> 
                                    <p:column filterBy="#{msjAtendido.asunto}" sortBy="#{msjAtendido.asunto}" headerText="#{msgs.etiquetaAsunto}" styleClass="siseFont1 nombre2Filtro" width="35%">
                                        <h:outputText value="#{msjAtendido.asunto}" />
                                    </p:column> 
                                    <p:column sortBy="#{msjAtendido.fecAccion}" headerText="#{msgs.etiquetaFecAcc}" width="10%" styleClass="siseFont1 centrado-texto" > 
                                        <h:outputText value="#{msjAtendido.fecAccion}">
                                            <f:convertDateTime pattern="dd/MM/YYYY"/>
                                        </h:outputText>
                                    </p:column>  
                                    <p:column filterBy="#{msjAtendido.montoAprobadoVista}" sortBy="#{msjAtendido.montoAprobadoVista}" headerText="#{msgs.etiquetaMontoApro}" width="80" styleClass="nombre5Filtro siseFont1" style="font-size: 0.9em ;text-align: right !important;font-weight: bold">
                                        <h:outputText value="#{msjAtendido.montoAprobadoVista}" >
                                            <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                        </h:outputText>
                                    </p:column> 
                                    <p:column filterBy="#{msjAtendido.flgAutorizaVista}" sortBy="#{msjAtendido.flgAutorizaVista}" headerText="#{msgs.etiquetaCondiAten}" width="12%" styleClass="nombre5Filtro siseFont1 centrado-texto">
                                        <h:outputText value="#{msjAtendido.flgAutorizaVista}" />
                                    </p:column> 
                                    <p:column filterBy="#{msjAtendido.objetoVista}" sortBy="#{msjAtendido.objetoVista}" headerText="#{msgs.etiquetaAmbito}" width="12%" styleClass="nombre5Filtro siseFont1 centrado-texto">
                                        <h:outputText value="#{msjAtendido.objetoVista}" />
                                    </p:column>
                                    <p:column  exportable="false"  class="centrado" width="8%" styleClass="siseFont1 centrado-texto">
                                        <f:facet name="header">
                                            <h:outputText value="#{msgs.etiquetaVerDeta}"/><br/>
                                        </f:facet> 
                                        <p:commandLink  actionListener="#{mensajeMB.obtenerMensajePorId(msjAtendido)}"
                                                        oncomplete="if(args.operacionCorrectaCajaCh){PF('popSolCajaCh').show();}if(args.operacionCorrectaSolLog){PF('popRegCom').show()};if(args.operacionCorrectaReq){PF('popSolReq').show();}if(args.operacionCorrectaFact){PF('popFactCom').show()};" 
                                                        process="@this" update=":frmSolCajaCh:pnlDatosSolCajaCh,:frmRegCom:pnlDatosRegCom,:frmSolReq:pnlDatosSolReq,:frmSolReq:pnlCatalogo,:frmFactCom:pnlDatosFactCom">
                                            <h:graphicImage value="/resources/images/icons/edit.png"   style="border:0; cursor:pointer;"/>
                                        </p:commandLink> 
                                    </p:column> 
                                </p:dataTable>
                            </h:panelGrid> 
                            <p:growl id="msgsAddPro" showDetail="true" showSummary="true"/>
                        </h:form> 

                    </h:panelGrid>
                </p:tab>
                <p:tab title="#{msgs.etiquetaMisSolicitudes}">
                    <h:panelGrid columns="2" cellpadding="10">
                        <h:form id="frmMisSolicitudes">
                            <h:panelGrid  id="pnlTablaMensajeSolicitudes">
                                <center>
                                    <h:outputText value="#{msgs.msjeNoTieneSolPendientes}"  rendered="#{ empty mensajeMB.listaMisMensajesBean}" /> 
                                </center>
                                <p:dataTable id="tblMensajeSol" value="#{mensajeMB.listaMisMensajesBean}" widgetVar="tblMensajeSol"
                                             paginator="true"  paginatorPosition="bottom"
                                             var="mensaje2" rowKey="#{mensaje.idMensaje}" rowIndexVar="n"
                                             rows="#{mensajeMB.numRegistrosTablasPorFiltroMin}" 
                                             rendered="#{not empty mensajeMB.listaMisMensajesBean}" 
                                             style="width: #{mensajeMB.anchoTablasExtraGrande}; font-size: 10px;font-size:14px !important;">
                                    <f:facet name="header" >
                                    </f:facet>
                                    <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="4%" styleClass="siseFontTable3 centrado-texto">
                                        <h:outputText value="#{n+1}" />                                      
                                    </p:column>   
                                    <p:column filterBy="#{mensaje2.idObjeto}" sortBy="#{mensaje2.idObjeto}"  headerText="#{msgs.EtiquetaCodigo}" filterMatchMode="contains" width="4%" styleClass="nombre5Filtro siseFontTable3 centrado-texto">
                                        <h:outputText value="#{mensaje2.idObjeto}" />
                                    </p:column> 
                                    <p:column filterBy="#{mensaje2.asunto}" sortBy="#{mensaje2.asunto}" headerText="#{msgs.etiquetaAsunto}" styleClass="siseFont1" width="35%">
                                        <h:outputText value="#{mensaje2.asunto}" />
                                    </p:column> 
                                    <p:column filterBy="#{mensaje2.fecMsje}" sortBy="#{mensaje2.fecMsje}" headerText="#{msgs.etiquetaFecha}"   styleClass="siseFont1" width="8%">
                                        <h:outputText value="#{mensaje2.fecMsje}" >
                                            <f:convertDateTime pattern="dd/MM/YYYY"/>
                                        </h:outputText>
                                    </p:column> 
                                    <p:column class="centrado-texto" filterBy="#{mensaje2.fecMsje}" headerText="#{msgs.etiquetaFecIni}" filterMatchMode="contains" width="70" styleClass="nombreFiltro3 centrado-texto  siseFont1" >
                                        <f:facet name="filter">
                                            <p:calendar mode="popup" pattern="dd/MM/yyyy" locale="es" navigator="true" >
                                                <p:ajax event="dateSelect" oncomplete="PF('tblMensajeSol').filter()"/>
                                            </p:calendar> 
                                        </f:facet>
                                        <h:outputText value="#{mensaje2.fecMsje}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msgs.etiquetaEstado}" width="60" styleClass="siseFont1">
                                    </p:column>
                                    <p:column filterBy="#{mensaje2.fecMsje}" class="centrado-texto"   headerText="#{msgs.etiquetaFecSol}" filterMatchMode="contains" style="width: 35px" 
                                              styleClass="nombre10Filtro" >
                                        <f:facet name="filter">
                                            <p:calendar mode="popup" pattern="#{msgs.etiquetaFormatoFecha}" locale="es" navigator="true" effect="fadeIn">
                                                <p:ajax event="dateSelect" oncomplete="PF('tblMensajeSol').filter()"/>
                                            </p:calendar> 
                                        </f:facet>
                                        <h:outputText value="#{mensaje2.fecMsje}">
                                            <f:convertDateTime pattern="#{msgs.etiquetaFormatoFecha}"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column filterBy="#{mensaje2.tipoStatusMensajeBean.codigo}" sortBy="#{mensaje2.tipoStatusMensajeBean.codigo}" headerText="#{msgs.etiquetaEstado}" width="60" styleClass="siseFont1">
                                        <h:outputText value="#{mensaje2.tipoStatusMensajeBean.codigo}" />
                                    </p:column>
                                    <p:column filterBy="#{mensaje2.nivelAutorizaVista}" sortBy="#{mensaje2.nivelAutorizaVista}" headerText="#{msgs.etiquetaNivAutoriza}" width="12%" styleClass="siseFont1 centrado-texto">
                                        <h:outputText value="#{mensaje2.nivelAutorizaVista}" />
                                    </p:column>
                                    <p:column filterBy="#{mensaje2.objetoVista}" sortBy="#{mensaje2.objetoVista}"  headerText="#{msgs.etiquetaAmbito}" width="12%" styleClass="siseFont1 centrado-texto">
                                        <h:outputText value="#{mensaje2.objetoVista}" />
                                    </p:column>
                                    <p:column filterBy="#{mensaje2.montoAprobadoVista}" sortBy="#{mensaje2.montoAprobadoVista}"  headerText="#{msgs.etiquetaMontoApro}" width="60" styleClass="siseFont1">
                                        <h:outputText value="#{mensaje2.montoAprobadoVista}" >
                                            <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                        </h:outputText>
                                    </p:column> 
                                </p:dataTable>
                            </h:panelGrid> 
                            <p:growl id="msgsAddPro" showDetail="true" showSummary="true"/> 
                        </h:form> 
                    </h:panelGrid>
                </p:tab> 
                <p:tab title="#{msgs.etiquetaGeneral}">
                    <h:panelGrid columns="2" cellpadding="10">
                        <h:form id="frmGeneral">
                            <h:panelGrid  id="pnlTablaGeneral">
                                <center>
                                    <h:outputText value="#{msgs.msjeNoTieneSolPendientes}"  rendered="#{ empty mensajeMB.listaMisMensajesBean}" /> 
                                </center>
                                <p:dataTable id="tblGeneral" value="#{mensajeMB.listaMensajesGeneralBean}" widgetVar="tblGeneral"
                                             paginator="true"  paginatorPosition="bottom"
                                             var="general" rowKey="#{general.idMensaje}" rowIndexVar="n"
                                             rows="#{mensajeMB.numRegistrosTablasPorFiltroMin}" 
                                             rendered="#{not empty mensajeMB.listaMensajesGeneralBean}" 
                                             style="width: #{mensajeMB.anchoTablasExtraGrande}; font-size: 10px;font-size:14px !important;">
                                    <f:facet name="header" >
                                    </f:facet> 
                                    <p:column filterBy="#{general.idObjeto}" sortBy="#{general.idObjeto}"  headerText="#{msgs.EtiquetaCodigo}" filterMatchMode="contains" width="4%" styleClass="nombre5Filtro siseFontTable3 centrado-texto">
                                        <h:outputText value="#{general.idObjeto}" />
                                    </p:column> 
                                    <p:column filterBy="#{general.nombreSolicitante}" sortBy="#{general.nombreSolicitante}" headerText="#{msgs.etiquetaNombreSol}" styleClass="siseFont1" width="35%">
                                        <h:outputText value="#{general.nombreSolicitante}" />
                                    </p:column> 
                                    <p:column filterBy="#{general.nombreRespCheque}" sortBy="#{general.nombreRespCheque}" headerText="#{msgs.etiquetaResCheque}" styleClass="siseFont1" width="35%">
                                        <h:outputText value="#{general.nombreRespCheque}" />
                                    </p:column> 
                                    <p:column class="centrado-texto" filterBy="#{general.fecMsje}" headerText="#{msgs.etiquetaFecIni}" filterMatchMode="contains" width="70" styleClass="nombreFiltro3 centrado-texto  siseFont1" >
                                        <f:facet name="filter">
                                            <p:calendar mode="popup" pattern="dd/MM/yyyy" locale="es" navigator="true" >
                                                <p:ajax event="dateSelect" oncomplete="PF('tblMensajeSol').filter()"/>
                                            </p:calendar> 
                                        </f:facet>
                                        <h:outputText value="#{general.fecMsje}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>  
                                   <p:column filterBy="#{general.montoAprobadoVista}" sortBy="#{general.montoAprobadoVista}"  headerText="#{msgs.etiquetaMontoApro}" width="60" styleClass="siseFont1">
                                        <h:outputText value="#{general.montoAprobadoVista}" >
                                            <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                        </h:outputText>
                                    </p:column> 
                                    <p:column filterBy="#{general.objeto}" sortBy="#{general.objeto}" headerText="#{msgs.etiquetaFecha}"   styleClass="siseFont1" width="8%">
                                        <h:outputText value="#{general.objeto}"/>
                                    </p:column> 
                                    <p:column filterBy="#{general.tipoStatusMensajeBean.codigo}" sortBy="#{general.tipoStatusMensajeBean.codigo}" headerText="#{msgs.etiquetaFecha}"   styleClass="siseFont1" width="8%">
                                        <h:outputText value="#{general.tipoStatusMensajeBean.codigo}"/>
                                    </p:column>  
                                </p:dataTable>
                            </h:panelGrid> 
                            <p:growl id="msgsAddGeneral" showDetail="true" showSummary="true"/> 
                        </h:form> 
                    </h:panelGrid>
                </p:tab> 
            </p:tabView>  
            <h:form id="frmSolCajaCh">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popSolCajaCh" resizable="false" modal="true" styleClass="autoWidthDialog" position="top">
                    <center> <h:outputText value="#{msgs.etiquetaSolGeneral}" class="siseFontGrid5 black" /> </center> 
                    <br></br>
                    <h:panelGrid columns="2" id="pnlDatosSolCajaCh">  
                        <h:panelGrid columns="1" class="siseFontGrid5"> 
                            <h:panelGrid columns="2" > 
                                <h:outputText value="#{msgs.etiquetaFechaSol} " /> 
                                <h:outputText  value="#{solicitudCajaCHMB.solicitudCajaCHBean.fechaSolView}"  >                                   
                                </h:outputText>
                                <h:outputLabel value="#{msgs.etiquetaCodigoSol}:" /> 
                                <h:outputLabel value="#{solicitudCajaCHMB.solicitudCajaCHBean.idSolicitudCajaCh}"/>    
                                <h:outputLabel value="#{msgs.etiquetaEstadoSolicitud}:" /> 
                                <h:outputLabel value="#{solicitudCajaCHMB.solicitudCajaCHBean.tipoStatusSolCajaChBean.codigo}"/>    
                                <h:outputLabel value="#{msgs.etiquetaSolicitante}:" /> 
                                <h:outputLabel value="#{solicitudCajaCHMB.solicitudCajaCHBean.nombreSolicitante}"/>    
                                <h:outputLabel value="#{msgs.etiquetaUnidOrg}:"/>
                                <h:outputLabel value="#{solicitudCajaCHMB.solicitudCajaCHBean.personalBean.unidadOrganicaBean.nombreUniOrg==null ?'-' :solicitudCajaCHMB.solicitudCajaCHBean.personalBean.unidadOrganicaBean.nombreUniOrg}" /> 
                                <h:outputLabel value="#{msgs.etiquetaTipoSolicitud}:" />
                                <h:outputText value="#{solicitudCajaCHMB.solicitudCajaCHBean.tipoSolicitudBean.nombre}" /> 
                                <h:outputLabel value="#{msgs.etiquetaPrioridad}:"/>
                                <h:outputText value="#{solicitudCajaCHMB.solicitudCajaCHBean.tipoPrioridadBean.codigo}" />
                                <h:outputLabel value="#{msgs.etiquetaTipoConcepto}" styleClass="negrita"/>
                                <p:selectOneMenu id="cmboTipo" value="#{solicitudCajaCHMB.solicitudCajaCHBean.conceptoUniNegBean.conceptoBean.tipoConceptoBean.idTipoConcepto}" required="true"  label="#{msgs.etiquetaTipoConcepto}" filter="true" filterMatchMode="contains" style="width: 375px" panelStyle="width:400px" >
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{solicitudCajaCHMB.listaTipoConceptoBean}" var="tipo" itemLabel="#{tipo.nombre}" itemValue="#{tipo.idTipoConcepto}"/>
                                    <p:ajax event="change" listener="#{solicitudCajaCHMB.obtenerConceptoPorTipoMsj()}" update="cmbConcepto"/>
                                </p:selectOneMenu>
                                <h:outputLabel value="#{msgs.etiquetaConcepto}" styleClass="negrita"/>

                                <p:selectOneMenu id="cmbConcepto" value="#{solicitudCajaCHMB.solicitudCajaCHBean.conceptoUniNegBean.conceptoBean.idConcepto}" required="true" filterMatchMode="contains" label="#{msgs.etiquetaConcepto}" filter="true" style="width: 375px" panelStyle="width:400px">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{solicitudCajaCHMB.listaConceptoUniNegBean}" var="concepto" itemLabel="#{concepto.conceptoBean.planContableCuentaDBean.cuenta} - #{concepto.conceptoBean.nombre}" itemValue="#{concepto.conceptoBean.idConcepto}"/> 
                                    <p:ajax event="change" listener="#{solicitudCajaCHMB.obtenerCTA(solicitudCajaCHMB.solicitudCajaCHBean.conceptoUniNegBean.conceptoBean.idConcepto)}"/>
                                    <p:ajax event="change" listener="#{solicitudCajaCHMB.obtenerTipoPorConcepto(solicitudCajaCHMB.solicitudCajaCHBean.conceptoUniNegBean.conceptoBean.idConcepto)}" update="cmboTipo,pnlPresupuesto2"/>
                                </p:selectOneMenu> 

                                <h:outputText value="#{msgs.etiquetaMontoSoli}:"/>
                                <h:panelGrid columns="5" class="siseFontGrid4">
                                    <h:outputText value="#{solicitudCajaCHMB.solicitudCajaCHBean.monto}"  id="txtMonto" style="font-size: 1.05em ;text-align: right !important;font-weight: bold">
                                        <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                    </h:outputText>
                                    <p:spacer width="10"/>
                                    <h:outputText value="#{solicitudCajaCHMB.solicitudCajaCHBean.tipoMonedaBean.codigo}" />
                                </h:panelGrid>
                                <h:outputLabel value="#{msgs.etiquetaModali}" class="negrita"/>
                                <p:selectOneRadio value="#{solicitudCajaCHMB.solicitudCajaCHBean.idTipoModoPago}" required="true"  label="#{msgs.etiquetaModali}" > 
                                    <f:selectItems value="#{solicitudCajaCHMB.listaTipoPagoBean}" var="tipP" itemLabel="#{tipP.codigo}" itemValue="#{tipP.idCodigo}"/>  
                                    <p:ajax event="change" update="cmboCtaBco" listener="#{solicitudCajaCHMB.obtenerCuentaBancoPorTipMoneda()}"/>
                                    <p:ajax event="change" listener="#{solicitudCajaCHMB.verModoP(solicitudCajaCHMB.solicitudCajaCHBean.idTipoModoPago)}"  />
                                </p:selectOneRadio>
                                <h:outputLabel value="#{msgs.etiquetaNumCta} - #{msgs.etiquetaBanco}" class="negrita"/> 
                                <p:selectOneMenu id="cmboCtaBco" value="#{solicitudCajaCHMB.solicitudCajaCHBean.numCuenta}" required="false"  label="#{msgs.etiquetaBanco}" style="width: 300px" panelStyle="width:300px">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true" />
                                    <f:selectItems value="#{solicitudCajaCHMB.listaCuentaBancoBean}" var="ctaB" itemLabel="#{ctaB.numCuenta} - #{ctaB.descripcion}" itemValue="#{ctaB.numCuenta}"/>

                                </p:selectOneMenu>  
                                <h:outputText value="#{msgs.etiquetaMontoApro}:"/>
                                <h:panelGrid columns="5" class="siseFontGrid4">
                                    <p:inputText value="#{solicitudCajaCHMB.solicitudCajaCHBean.montoAprobado}" style="font-size: 1.1em ;text-align: left !important;font-weight: bold" label="#{msgs.etiquetaMontoApro}" required="true" size="8">  
                                        <f:ajax event="blur" listener="#{solicitudCajaCHMB.obtenerMonto(solicitudCajaCHMB.solicitudCajaCHBean.montoAprobado)}"  />
                                        <f:convertNumber pattern="#,##0.00" locale="en_US" />
                                        <p:ajax event="blur" listener="#{solicitudCajaCHMB.distribuirCR()}" update="pnlDistribucion"/>
                                    </p:inputText>

                                    <p:spacer width="10"/>
                                    <h:outputText value="#{solicitudCajaCHMB.solicitudCajaCHBean.tipoMonedaBean.codigo}" />

                                </h:panelGrid>
                                <h:outputLabel value="#{msgs.etiquetaResCheque}" /> 
                                <h:panelGrid columns="3" class="siseFontGrid5" id="pnlResp">
                                    <p:inputText value="#{solicitudCajaCHMB.solicitudCajaCHBean.nomRespCheque}" label="#{msgs.etiquetaResCheque}" size="35" readonly="true" required="true"/> 
                                    <p:commandLink id="btnBuscarAutoPer1" actionListener="#{solicitudCajaCHMB.settearTipoSoli('respCheque')}" 
                                                   oncomplete="PF('popResCheque').show();" process="@this" update=":frmBuscarAutoPer1:pnlFiltro,:frmBuscarAutoPer1:pnlTablaAutoPer1" >
                                        <h:graphicImage value="/resources/images/icons/search2.png"   style="border:0; cursor:pointer;"/>
                                    </p:commandLink> 
                                    <p:selectBooleanCheckbox  value="#{solicitudCajaCHMB.flgIgualSoli}" styleClass="titulo" > 
                                        <p:ajax event="change"   listener="#{solicitudCajaCHMB.respChequeIgualSoli()}" update="pnlResp"/>
                                    </p:selectBooleanCheckbox>
                                    <h:inputHidden value="#{solicitudCajaCHMB.solicitudCajaCHBean.idRespCheque}"/> 
                                </h:panelGrid>
                                <h:inputHidden     value="#{solicitudCajaCHMB.solicitudCajaCHBean.idSolicitudCajaCh}"/>  
                            </h:panelGrid>
                            <h:panelGrid columns="2" class="siseFontGrid5">
                                <h:outputText value="#{msgs.etiquetaMotivo}"/>
                                <p:inputTextarea  label="#{msgs.etiquetaMotivo}"  value="#{solicitudCajaCHMB.solicitudCajaCHBean.motivo}" cols="50" rows="2" maxlength="100"  />
                                <h:outputLabel value="#{msgs.etiquetaObs}:" />
                                <p:inputTextarea  label="#{msgs.etiquetaObs}"  value="#{solicitudCajaCHMB.solicitudCajaCHBean.obs}" cols="50" rows="8" maxlength="450"  />
                            </h:panelGrid>
                            <h:panelGrid columns="2" class="siseFontGrid5">
                                <h:outputText value="#{msgs.etiquetaAutorizador} 1: " rendered="#{solicitudCajaCHMB.solicitudCajaCHBean.idAutorizaPer1Bean.idPersonal!=null}"/>  
                                <h:outputText  value="#{solicitudCajaCHMB.solicitudCajaCHBean.flgAutorizado1Vista}" rendered="#{solicitudCajaCHMB.solicitudCajaCHBean.idAutorizaPer1Bean.idPersonal!=null}"/>
                                <h:outputText value="#{msgs.etiquetaAutorizador} 2: " rendered="#{solicitudCajaCHMB.solicitudCajaCHBean.idAutorizaPer2Bean.idPersonal!=null}"/>
                                <h:outputText  value="#{solicitudCajaCHMB.solicitudCajaCHBean.flgAutorizado2Vista}" rendered="#{solicitudCajaCHMB.solicitudCajaCHBean.idAutorizaPer2Bean.idPersonal!=null}"/>
                                <h:outputText value="#{msgs.etiquetaAutorizador} 3: " rendered="#{solicitudCajaCHMB.solicitudCajaCHBean.idAutorizaPer3Bean.idPersonal!=null}"/>
                                <h:outputText  value="#{solicitudCajaCHMB.solicitudCajaCHBean.flgAutorizado3Vista}" rendered="#{solicitudCajaCHMB.solicitudCajaCHBean.idAutorizaPer3Bean.idPersonal!=null}" />
                            </h:panelGrid> 
                            <h:panelGrid id="pnlPresupuesto2">
                                <p:dataTable id="tblPresupuesto2" 
                                             value="#{solicitudCajaCHMB.listaPresupuestoBean}" widgetVar="tblPresupuesto2"  
                                             rendered="#{not empty solicitudCajaCHMB.listaPresupuestoBean}" 
                                             var="presu2"
                                             style="font-size:14px !important;margin-bottom:0;width: #{solicitudCajaCHMB.anchoTablasShort}"> 
                                    <f:facet name="header" >
                                        <h:outputText value="#{msgs.tituloPresupuesto}" />  
                                    </f:facet>  
                                    <p:column headerText="#{msgs.etiquetaNomCuenta}" styleClass="siseFontTable3 centrado-texto" >
                                        <h:outputLabel value="#{presu2.planContableBean.nombre}"/>
                                    </p:column>  
                                    <p:column headerText="#{msgs.etiquetaCuenta}" styleClass="siseFontTable3 centrado-texto" >
                                        <h:outputLabel value="#{presu2.cuenta}"/>
                                    </p:column>  
                                    <p:column headerText="#{msgs.etiquetaPresu}" styleClass="siseFontTable3 centrado-texto" width="25%">
                                        <h:outputLabel value="#{presu2.presupuestoProg}"  >
                                            <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                        </h:outputLabel>
                                    </p:column> 
                                    <p:column headerText="#{msgs.etiquetaEjecutado}" styleClass="siseFontTable3 centrado-texto" width="25%">
                                        <h:outputLabel value="#{presu2.presupuestoEjec}"   >
                                            <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                        </h:outputLabel>
                                    </p:column> 
                                </p:dataTable>
                            </h:panelGrid>
                            <br></br>
                            <br></br>
                        </h:panelGrid>
                        <h:panelGrid columns="2" class="centrado" rendered="#{not empty solicitudCajaCHMB.solicitudCajaCHBean.listaDetSolicitudCajaChCRBean}">
                            <h:panelGrid columns="1" class="centrado">
                                <p:fieldset legend="#{msgs.etiquetaCentRes}">
                                    <h:panelGrid columns="3" styleClass="siseFontGrid4" id="pnlDist">
                                        <h:outputLabel value="#{msgs.etiquetaDistribucion}" class="negrita"/>
                                        <h:outputText value=" " class="requerido"/>
                                        <p:selectOneMenu id="cmbTipoDist" value="#{solicitudCajaCHMB.solicitudCajaCHBean.codDistribucion}"
                                                         style="width: 200px" required="true" label="#{msgs.etiquetaDistribucion}">
                                            <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{solicitudCajaCHMB.listaTipoDistribucionCRBean}" var="dist" itemLabel="#{dist.codigo}" itemValue="#{dist.idCodigo}"/>
                                            <p:ajax event="change" listener="#{solicitudCajaCHMB.obtenerTipoDistribucion()}"/>
                                        </p:selectOneMenu>
                                    </h:panelGrid>
                                    <hr/>
                                    <p:pickList id="pickCentroResponsabilidad" value="#{solicitudCajaCHMB.dualCentroResponsabilidadBean}" var="cr" itemLabel="#{cr.cr} - #{cr.nombre}" itemValue="#{cr}" 
                                                showSourceFilter="true" showTargetFilter="true" filterMatchMode="contains" converter="crConverter"
                                                >
                                    </p:pickList> 
                                </p:fieldset>
                                <p:commandButton id="btnDist" actionListener="#{solicitudCajaCHMB.distribuirAprobacion()}" update="pnlDistribucion" process="btnDist,pickCentroResponsabilidad,cmbTipoDist,txtMonto"
                                                 value="#{msgs.botonDist}">
                                </p:commandButton>
                                <h:panelGrid id="pnlDistribucion">
                                    <p:dataTable id="tblDetCR" value="#{solicitudCajaCHMB.solicitudCajaCHBean.listaDetSolicitudCajaChCRBean}" widgetVar="tblDetCR" 
                                                 rowIndexVar="n" rendered="#{not empty solicitudCajaCHMB.solicitudCajaCHBean.listaDetSolicitudCajaChCRBean}" var="detCR" scrollable="true" scrollHeight="125" 
                                                 style="font-size:14px !important;margin-bottom:0;width: #{solicitudCajaCHMB.anchoTablasShort}"> 
                                        <f:facet name="header" >
                                            <h:outputText value="#{msgs.tituloCentrosRes}" />  
                                        </f:facet>
                                        <p:column  headerText="#{msgs.numero}" width="8%" styleClass="siseFontTable3 centrado-texto">
                                            <center>
                                                <h:outputText value="#{n+1}" />
                                            </center>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaCentRes}" styleClass="siseFontTable3" >
                                            <h:outputText value="#{detCR.centroResponsabilidadBean.nombre}"/>
                                        </p:column>  
                                        <p:column headerText="#{msgs.etiquetaValor}" styleClass="siseFontTable3 centrado-texto" width="25%">
                                            <h:inputText value="#{detCR.valorD}" size="8">
                                                <p:ajax event="blur" listener="#{solicitudCajaCHMB.montoDistribucion()}" />
                                                <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                            </h:inputText>
                                        </p:column> 
                                    </p:dataTable>
                                </h:panelGrid>
                                <h:panelGrid id="pnlDistribucion2">
                                    <h:outputText rendered="#{solicitudCajaCHMB.solicitudCajaCHBean.codDistribucion==19503}" id="txtMontoD" 
                                                  value="#{msgs.etiquetaSumatoria}: #{solicitudCajaCHMB.montoTotDis}" >
                                    </h:outputText>
                                </h:panelGrid> 
                            </h:panelGrid>
                        </h:panelGrid>
                        <h:panelGrid class="centrado" columns="3"> 
                            <p:commandButton  disabled="#{mensajeMB.flgSolicitudPagada==true}" 
                                oncomplete="PF('popAutoSolCajaCh').show();" 
                                value="#{msgs.botonAutorizar}">
                            </p:commandButton>
                            <p:commandButton  disabled="#{mensajeMB.flgSolicitudPagada==true}" 
                                oncomplete="PF('popDesAutoSolCajaCh').show();" 
                                value="#{msgs.botonDesautorizar}">
                            </p:commandButton>
                            <p:commandButton 
                                oncomplete="PF('popSolCajaCh').hide();" 
                                value="#{msgs.botonCerrar}">
                            </p:commandButton>  
                        </h:panelGrid>
                        <p:messages id="msgsAuto" showSummary="true"/>
                        <br></br> 
                    </h:panelGrid>
                </p:dialog>
            </h:form>
            <h:form id="frmAutoSolCajaCh">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popAutoSolCajaCh" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlAutoSolCajaCh" styleClass="centrado">  
                        <h:panelGrid columns="2" id="pnlDatosAutoSolCajaCh" class="centrado" > 
                            <h:outputLabel value="#{msgs.panelAutorizacionFisica}"/>
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{mensajeMB.autorizarMensajeSolCajaCh('autoriza')}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmSolCajaCh:pnlDatosSolCajaCh,:tabViewMensaje:frmRecibidos:pnlTablaMensaje,:tabViewMensaje:frmAtendidos:pnlFiltro,:tabViewMensaje:frmAtendidos:pnlTablaMsjAtendidos" 
                                         oncomplete="if(args.operacionCorrecta){PF('popAutoSolCajaCh').hide();PF('popSolCajaCh').hide();PF('popDone').show();}else if(args.operacionNoModi){PF('popAutoSolCajaCh').hide();PF('popError').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popAutoSolCajaCh').hide();"/> 
                    </h:panelGrid>
                    <p:growl id="msgsAutoCajaCh" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form>  
            <h:form id="frmDesAutoSolCajaCh">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popDesAutoSolCajaCh" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlDesAutoSolCajaCh" styleClass="centrado">  
                        <h:panelGrid columns="2" id="pnlDatosDesAutoSolCajaCh" class="centrado" > 
                            <h:outputLabel value="#{msgs.panelDesAutorizacionFisica}"/>
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{mensajeMB.autorizarMensajeSolCajaCh('desAutoriza')}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmSolCajaCh:pnlDatosSolCajaCh,:tabViewMensaje:frmRecibidos:pnlTablaMensaje,:tabViewMensaje:frmAtendidos:pnlFiltro,:tabViewMensaje:frmAtendidos:pnlTablaMsjAtendidos" 
                                         oncomplete="if(args.operacionCorrecta){PF('popDesAutoSolCajaCh').hide();PF('popSolCajaCh').hide();PF('popDone').show();}else if(args.operacionNoModi){PF('popDesAutoSolCajaCh').hide();PF('popError').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popDesAutoSolCajaCh').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsAutoCajaCh" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form>  
            <h:form id="frmRegCom">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popRegCom" resizable="false" modal="true" styleClass="autoWidthDialog" >
                    <center> <h:outputText value="#{msgs.etiquetaRegistroCompra}" class="siseFontGrid5 black" /> </center> 
                    <br></br>
                    <h:panelGrid columns="1" id="pnlDatosRegCom"> 
                        <h:panelGrid columns="2" class="siseFontGrid5"> 
                            <h:outputText value="#{msgs.etiquetaFechaSol} " /> 
                            <h:outputText  value="#{registroCompraMB.registroCompraBean.fechaEmision}"  >
                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                            </h:outputText>
                            <h:outputLabel value="#{msgs.etiquetaCodigoSol}:" /> 
                            <h:outputLabel value="#{registroCompraMB.registroCompraBean.idRegistroCompra}"/>    
                            <h:outputLabel value="#{msgs.etiquetaGlosa}:" /> 
                            <h:outputLabel value="#{registroCompraMB.registroCompraBean.glosa}"/>    
                            <h:outputLabel value="#{msgs.etiquetaEstadoSolicitud}:" /> 
                            <h:outputLabel value="#{registroCompraMB.registroCompraBean.tipoStatusRegCBean.codigo}"/>    
                            <h:outputLabel value="#{msgs.etiquetaSolicitante}:" /> 
                            <h:outputLabel value="#{mensajeMB.mensajeBean.solicitanteBean.nombreCompleto}"/>    

                            <h:outputLabel value="#{msgs.etiquetaTipoSolicitud}:" />
                            <h:outputText value="#{registroCompraMB.registroCompraBean.tipoSolicitudBean.nombre}" /> 
                            <h:outputLabel value="#{msgs.etiquetaPrioridad}:"/>
                            <h:outputText value="#{registroCompraMB.registroCompraBean.tipoPrioridadBean.codigo}" /> 
                            <h:outputLabel value="#{msgs.etiquetaProveedor}:"/>
                            <h:outputText value="#{registroCompraMB.registroCompraBean.entidadBean.nombre}" /> 

                            <h:outputText value="#{msgs.etiquetaMonto}:"/>
                            <h:panelGrid columns="5" class="siseFontGrid4">
                                <h:outputText value="#{registroCompraMB.registroCompraBean.total}"  >  
                                    <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                </h:outputText>
                                <p:spacer width="7"/>
                                <h:outputText value="#{registroCompraMB.registroCompraBean.tipoMonedaBean.codigo}" />
                            </h:panelGrid>
                            <h:outputText value="#{msgs.etiquetaFechaPago} " /> 
                            <h:outputText  value="#{registroCompraMB.registroCompraBean.fechaPago}"  >
                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                            </h:outputText>
                            <h:inputHidden     value="#{registroCompraMB.registroCompraBean.idRegistroCompra}"/> 
                        </h:panelGrid> 
                        <h:panelGrid class="centrado" columns="2">
                            <p:commandButton  
                                oncomplete="PF('popAutoRegCom').show();" 
                                value="#{msgs.botonAutorizar}">
                            </p:commandButton>
                            <p:commandButton 
                                oncomplete="PF('popDesAutoRegCom').show();" 
                                value="#{msgs.botonDesautorizar}">
                            </p:commandButton>
                        </h:panelGrid>
                        <p:messages id="msgsAuto" showSummary="true"/>
                        <br></br>
                        <br></br>
                    </h:panelGrid>
                </p:dialog>
            </h:form>
            <h:form id="frmAutoRegCom">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popAutoRegCom" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlAutoRegCom" styleClass="centrado">  
                        <h:panelGrid columns="2" id="pnlDatosRegCom" class="centrado" > 
                            <h:outputLabel value="#{msgs.panelAutorizacionFisica}"/>
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{mensajeMB.autorizarMensajeRegistroCompra('autoriza')}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmRegCom:pnlDatosRegCom,:tabViewMensaje:frmRecibidos:pnlTablaMensaje,:tabViewMensaje:frmAtendidos:pnlFiltro,:tabViewMensaje:frmAtendidos:pnlTablaMsjAtendidos" 
                                         oncomplete="if(args.operacionCorrecta){PF('popAutoRegCom').hide();PF('popDone').show();}else if(args.operacionNoModi){PF('popAutoRegCom').hide();PF('popError').show();}"/> 
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popAutoRegCom').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsAutoCajaCh" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form>  
            <h:form id="frmDesAutoRegCom">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popDesAutoRegCom" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlDesAutoRegCom" styleClass="centrado">  
                        <h:panelGrid columns="2" id="pnlDatosDesAutoRegCom" class="centrado" > 
                            <h:outputLabel value="#{msgs.panelDesAutorizacionFisica}"/>
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{mensajeMB.autorizarMensajeRegistroCompra('desAutoriza')}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmRegCom:pnlDatosRegCom,:tabViewMensaje:frmRecibidos:pnlTablaMensaje,:tabViewMensaje:frmAtendidos:pnlFiltro,:tabViewMensaje:frmAtendidos:pnlTablaMsjAtendidos" 
                                         oncomplete="if(args.operacionCorrecta){PF('popDesAutoRegCom').hide();PF('popDone').show();}else if(args.operacionNoModi){PF('popDesAutoRegCom').hide();PF('popError').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popDesAutoRegCom').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsAutoCajaCh" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form>
            <h:form id="frmBuscarAutoPer1">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popResCheque" resizable="false" modal="true" styleClass="autoWidthDialog" position="top">
                    <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro" >
                        <p:panel toggleable="true" toggleSpeed="500" closeSpeed="500" header="#{msgs.etiquetaFiltros}">
                            <h:panelGrid styleClass="centrado" > 
                                <p:selectOneRadio value="#{solicitudCajaCHMB.idTipoRespCheque}" >
                                    <p:ajax event="change" listener="#{solicitudCajaCHMB.changeTipo('resp')}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,:frmBuscarAutoPer1:pnlFiltro2"/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaPersonal}" itemValue="COL"/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaPersona}" itemValue='PER'/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaProveedor}" itemValue='PRO'/>
                                </p:selectOneRadio>
                            </h:panelGrid>
                            <h:panelGrid id="pnlGeneral" styleClass="centrado" >
                                <h:panelGrid styleClass="centrado" rendered="#{solicitudCajaCHMB.flgFiltroPersonal==true and solicitudCajaCHMB.flgFiltroPersona==false and solicitudCajaCHMB.flgFiltroProve==false}">  
                                    <h:panelGrid columns="2" styleClass="centrado" id="pnlFiltroAutoPer1">
                                        <h:outputLabel value="#{msgs.etiquetaCodigo} " /> 
                                        <p:inputText value="#{legajoMB.personalFiltroBean.codPer}" size="15" maxlength="15"/>

                                        <h:outputLabel value="#{msgs.etiquetaApePat}"/> 
                                        <p:inputText value="#{legajoMB.personalFiltroBean.apepat}" size="28" maxlength="30"/>  

                                        <h:outputLabel value="#{msgs.etiquetaApeMat}"/> 
                                        <p:inputText  value="#{legajoMB.personalFiltroBean.apemat}" size="28" maxlength="30"/>

                                        <h:outputLabel value="#{msgs.etiquetaNombre}"/> 
                                        <p:inputText value="#{legajoMB.personalFiltroBean.nombre}" size="28" maxlength="30"/>  

                                        <h:outputLabel value="#{msgs.etiquetaUniOrg}"/>  
                                        <p:selectOneMenu value="#{legajoMB.personalFiltroBean.unidadOrganicaBean.idUniOrg}"   label="#{msgs.etiquetaUnidOrg}" filter="true" style="width: 275px" panelStyle="width:275px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{legajoMB.listaUniNegUniOrgBean}" var="uo" itemLabel="#{uo.unidadOrganicaBean.nombreUniOrg}" itemValue="#{uo.unidadOrganicaBean.idUniOrg}"/> 
                                        </p:selectOneMenu>
                                    </h:panelGrid> 
                                    <h:panelGrid styleClass="centrado" columns="3">
                                        <p:commandButton id="btnBuscar1" value="#{msgs.botonBuscar}" actionListener="#{legajoMB.obtenerFiltroPersonal()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP" />
                                        <p:commandButton id="btnNuevo1"  value="#{msgs.botonNuevo}"  actionListener="#{legajoMB.limpiarPersonalFiltro()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP"/>
                                        <p:commandButton id="btnCerrar1"  value="#{msgs.botonCerrar}"  oncomplete="PF('popResCheque').hide();" />
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid styleClass="centrado" rendered="#{solicitudCajaCHMB.flgFiltroPersona==true and solicitudCajaCHMB.flgFiltroPersonal==false and solicitudCajaCHMB.flgFiltroProve==false}">  
                                    <h:panelGrid columns="2" styleClass="centrado" id="pnlFiltroAutoPer2">
                                        <h:outputLabel value="#{msgs.etiquetaCodigo} " /> 
                                        <p:inputText value="#{personaMB.personaFiltroSolBean.idPersona}" size="15" maxlength="15"/>
                                        <h:outputLabel value="#{msgs.etiquetaApePat}"/> 
                                        <p:inputText value="#{personaMB.personaFiltroSolBean.apepat}" size="28" maxlength="30"/>  
                                        <h:outputLabel value="#{msgs.etiquetaApeMat}"/> 
                                        <p:inputText  value="#{personaMB.personaFiltroSolBean.apemat}" size="28" maxlength="30"/>
                                        <h:outputLabel value="#{msgs.etiquetaNombre}"/> 
                                        <p:inputText value="#{personaMB.personaFiltroSolBean.nombre}" size="28" maxlength="30"/>  
                                    </h:panelGrid>
                                    <h:panelGrid styleClass="centrado" columns="3">
                                        <p:commandButton id="btnBuscar2" value="#{msgs.botonBuscar}" actionListener="#{personaMB.obtenerPersonaFiltroSol()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP" />
                                        <p:commandButton id="btnNuevo2"  value="#{msgs.botonNuevo}"  actionListener="#{personaMB.limpiarPersonaFiltroSol()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP"/>
                                        <p:commandButton id="btnCerrar2"  value="#{msgs.botonCerrar}"  oncomplete="PF('popResCheque').hide();" />
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid styleClass="centrado" rendered="#{solicitudCajaCHMB.flgFiltroProve==true and solicitudCajaCHMB.flgFiltroPersona==false and solicitudCajaCHMB.flgFiltroPersonal==false}">  
                                    <h:panelGrid columns="3" styleClass="centrado" id="pnlFiltroAutoPer3">
                                        <h:outputLabel value="#{msgs.etiquetaRuc}"/> 
                                        <p:inputText value="#{entidadMB.entidadFiltroBean.ruc}" size="28" maxlength="30">  
                                        </p:inputText> 
                                        <p:link id="cmdEntidadBas" outcome="/configuracion/mantEntidad.xhtml" target="_blank">
                                            <h:graphicImage value="/resources/images/icons/addverde3.png" style="border:0; cursor:pointer;"  width=""/>
                                        </p:link>
                                        <h:outputLabel value="#{msgs.EtiquetaNombre}"/> 
                                        <p:inputText value="#{entidadMB.entidadFiltroBean.nombre}" size="28" maxlength="30">
                                        </p:inputText>
                                        <p:tooltip value="#{msgs.tolTipAgregarEnt}" for="cmdEntidadBas"/>
                                    </h:panelGrid>
                                    <h:panelGrid styleClass="centrado" columns="3">
                                        <p:commandButton id="btnBuscar3" value="#{msgs.botonBuscar}" actionListener="#{entidadMB.obtenerEntidadPorFiltro()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP"  />
                                        <p:commandButton id="btnNuevo3"  value="#{msgs.botonNuevo}"  actionListener="#{entidadMB.limpiarFiltroEntidad()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP"/>
                                        <p:commandButton id="btnCerrar3"  value="#{msgs.botonCerrar}"  oncomplete="PF('popResCheque').hide();" />
                                    </h:panelGrid> 
                                </h:panelGrid>
                            </h:panelGrid> 
                            <p:messages autoUpdate="false" id="msgP" />
                        </p:panel>
                    </h:panelGrid>
                    <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro2" >
                        <h:panelGrid  id="pnlTablaAutoPer1" styleClass="centrado" rendered="#{solicitudCajaCHMB.flgFiltroPersonal==true and solicitudCajaCHMB.flgFiltroPersona==false and solicitudCajaCHMB.flgFiltroProve==false}"> 
                            <p:dataTable id="tblPersonal" value="#{legajoMB.listaPersonalBean}" widgetVar="tblPersonal"
                                         selectionMode="single" 
                                         paginator="true"
                                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10"
                                         selection="#{legajoMB.personalBean}" paginatorPosition="bottom" rowIndexVar="n" 
                                         var="personal" rowKey="#{personal.idPersonal}"  rows="10" 
                                         rendered="#{not empty legajoMB.listaPersonalBean}" 
                                         style="width: 725px;font-size:14px !important;margin-bottom:0"> 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaPersonal}" />  
                                </f:facet>
                                <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="4%" styleClass="siseFontTable3 centrado-texto">
                                    <center>
                                        <h:outputText value="#{n+1}" />
                                    </center>
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{personal.idPersona}" >
                                    <h:outputText value="#{personal.codPer}"/>
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaAbApePaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.apepat}" >
                                    <h:outputText value="#{personal.apepat}" />
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaAAbApeMaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.apemat}">
                                    <h:outputText value="#{personal.apemat}" />
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.nombre}">
                                    <h:outputText value="#{personal.nombre}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px" width="6%" >
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelA1" actionListener="#{legajoMB.ponerPersonalEnSolicitudCCH(personal,solicitudCajaCHMB.flgSoli,solicitudCajaCHMB.idTipoSol,solicitudCajaCHMB.idTipoRespCheque)}"
                                                   update=":frmSolCajaCh:pnlResp"
                                                   oncomplete="PF('popResCheque').hide();">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd1" for="cmdSelA1" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <h:panelGrid id="pnlTablaAutoPer2" styleClass="centrado" rendered="#{solicitudCajaCHMB.flgFiltroPersona==true and solicitudCajaCHMB.flgFiltroPersonal==false and solicitudCajaCHMB.flgFiltroProve==false}">
                            <p:dataTable id="tblPersona2" value="#{personaMB.listaPersonaFiltroBean}" widgetVar="tblPersona2"
                                         selectionMode="single" 
                                         paginator="true"
                                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10"
                                         paginatorPosition="bottom" rowIndexVar="n" 
                                         var="persona" rowKey="#{persona.idPersona}"  rows="10" 
                                         rendered="#{not empty personaMB.listaPersonaFiltroBean}" 
                                         style="width: 725px;font-size:14px !important;margin-bottom:0">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaPersona}" />  
                                </f:facet>
                                <p:column headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{persona.idPersona}" >
                                    <h:outputText value="#{persona.idPersona}"/>
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaAbApePaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{persona.apepat}" >
                                    <h:outputText value="#{persona.apepat}" />
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaAAbApeMaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{persona.apemat}">
                                    <h:outputText value="#{persona.apemat}" />
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{persona.nombre}">
                                    <h:outputText value="#{persona.nombre}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px" width="6%" >
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelA2" actionListener="#{personaMB.ponerPersonaEnSolicitudCCH(persona,solicitudCajaCHMB.flgSoli,solicitudCajaCHMB.idTipoSol,solicitudCajaCHMB.idTipoRespCheque)}"
                                                   update=":frmSolCajaCh:pnlResp"
                                                   oncomplete="PF('popResCheque').hide();">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd2" for="cmdSelA2" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <h:panelGrid id="pnlTablaAutoPer3" styleClass="centrado" rendered="#{solicitudCajaCHMB.flgFiltroProve==true and solicitudCajaCHMB.flgFiltroPersonal==false and solicitudCajaCHMB.flgFiltroPersona==false}">
                            <p:dataTable id="tblEntidad" value="#{entidadMB.listaEntidadBean}" widgetVar="tblEntidad"
                                         paginator="true" selectionMode="single" paginatorPosition="bottom"
                                         selection="#{entidadMB.entidadBean}"
                                         var="entidad" rowKey="#{entidad.ruc}"
                                         rows="#{entidadMB.numRegistrosTablas}" 
                                         rendered="#{not empty entidadMB.listaEntidadBean}" 
                                         style="width: #{entidadMB.anchoTablasPopup};font-size:14px !important;"> 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.tituloEntidad}" />  
                                </f:facet>
                                <p:column sortBy="#{entidad.nombre}" headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="20%" styleClass="siseFontTable3 centrado-texto">
                                    <h:outputText value="#{entidad.nombre}"/>
                                </p:column>
                                <p:column sortBy="#{entidad.ruc}" headerText="#{msgs.etiquetaRuc}" filterMatchMode="contains" width="5%" styleClass="siseFontTable3 centrado-texto">
                                    <h:outputText value="#{entidad.ruc}"/>
                                </p:column> 
                                <p:column style="text-align:center;width:60px" width="6%" >
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelA3" actionListener="#{entidadMB.ponerEntidadEnSolicitudCCH(entidad,solicitudCajaCHMB.flgSoli,solicitudCajaCHMB.idTipoSol,solicitudCajaCHMB.idTipoRespCheque)}"
                                                   update=":frmSolCajaCh:pnlResp"
                                                   oncomplete="PF('popResCheque').hide();">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd3" for="cmdSelA3" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable> 
                        </h:panelGrid>
                    </h:panelGrid>
                </p:dialog>
            </h:form>  
            <h:form id="frmSolReq">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popSolReq" resizable="false" modal="true" styleClass="autoWidthDialog" position="top" >
                    <center> <h:outputText value="#{msgs.etiquetaReqLog}" class="siseFontGrid5 black" /> </center> 
                    <br></br>
                    <h:panelGrid columns="2" id="pnlDatosSolReq"> 
                        <h:panelGrid columns="1" class="siseFontGrid5"> 
                            <p:panel>
                                <br></br> 
                                <h:panelGrid columns="2" class="siseFontGrid5" style="width: 500px"> 
                                    <h:outputText value="#{msgs.etiquetaFechaSol} " /> 
                                    <h:outputText  value="#{solicitudLogisticoMB.solicitudLogisticoBean.fechaSolicitud}"  >
                                        <f:convertDateTime pattern="dd/MM/YYYY"/>
                                    </h:outputText>
                                    <h:outputLabel value="#{msgs.etiquetaCodigoSol}:" /> 
                                    <h:outputLabel value="#{solicitudLogisticoMB.solicitudLogisticoBean.nroSolicitud}"/>    
                                    <h:outputLabel value="#{msgs.etiquetaMotivo}:" /> 
                                    <h:outputLabel value="#{solicitudLogisticoMB.solicitudLogisticoBean.titulo}"  />    
                                    <h:outputLabel value="#{msgs.etiquetaEstadoSolicitud}:" /> 
                                    <h:outputLabel value="#{solicitudLogisticoMB.solicitudLogisticoBean.tipoEstadoBean.codigo}"/>    
                                    <h:outputLabel value="#{msgs.etiquetaTipoCategoria}:" /> 
                                    <h:outputLabel value="#{solicitudLogisticoMB.solicitudLogisticoBean.tipoCategoriaBean.codigo}"/>    
                                    <h:outputLabel value="#{msgs.etiquetaSolicitante}:" /> 
                                    <h:outputLabel value="#{solicitudLogisticoMB.solicitudLogisticoBean.personalBean.nombreCompleto}"/>    

                                    <h:outputLabel value="#{msgs.etiquetaTipoSolicitud}:" />
                                    <h:outputLabel value="#{solicitudLogisticoMB.solicitudLogisticoBean.tipoSolicitudBean.nombre}" />  
                                    <h:outputLabel value="#{msgs.etiquetaMoneda}:" />
                                    <h:outputText  value="#{solicitudLogisticoMB.solicitudLogisticoBean.tipoMoneda}" /> 
                                    <h:outputText value="#{msgs.etiquetaImporte}:" class="black"/>
                                    <h:panelGrid columns="5" class="siseFontGrid4">  
                                        <h:outputText id="txtImporte" value="#{solicitudLogisticoMB.sumaImporte}"  
                                                      style="background-color: #f5f5f5"  class="black"> 
                                            <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                        </h:outputText>
                                        <p:spacer width="7"/> 
                                    </h:panelGrid>
                                    <h:outputText value="#{msgs.etiquetaImportePro}:" class="black"/>
                                    <h:panelGrid columns="5" class="siseFontGrid4">  
                                        <p:inplace id="tc" editor="true" class="black"  effectSpeed="fast" event="dblclick" >
                                            <p:inputText  size="8" value="#{solicitudLogisticoMB.solicitudLogisticoBean.importePropuesto}"   > 

                                                <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                            </p:inputText>  
                                        </p:inplace> 
                                        <p:spacer width="7"/> 
                                    </h:panelGrid>
                                    <h:inputHidden value="#{solicitudLogisticoMB.solicitudLogisticoBean.personalBean.idPersonal}"/> 
                                </h:panelGrid>                                   
                                <br></br> 
                            </p:panel>  
                            <h:panelGrid id="pnlCatalogo" >
                                <p:dataTable value="#{solicitudLogisticoMB.listaSolicitudLogDetalleBean}" paginator="false"
                                             var="detalle" id="tblCatalogoSelec"   editable="true" scrollable="true" scrollHeight="150"  
                                             rendered="#{not empty solicitudLogisticoMB.listaSolicitudLogDetalleBean}" 
                                             style="width:530px; font-size: 10px;margin-bottom:20px" editMode="cell"> 
                                    <f:facet name="header" >
                                        <h:outputText value="#{msgs.etiquetaActivoMaterialSelect}" />  
                                    </f:facet>
                                    <p:column filterBy="#{detalle.catalogoBean.idCatalogo}" class="nombre5Filtro"  headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="7%">
                                        <center><h:outputText value="#{detalle.catalogoBean.idCatalogo}"  style=" font-size: 12px"/></center>
                                    </p:column>
                                    <p:column filterBy="#{detalle.catalogoBean.item}" class="nombre1Filtro"  headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="15%">
                                        <h:outputText value="#{detalle.catalogoBean.item}"  style=" font-size: 12px"/>
                                    </p:column>
                                    <p:column sortBy="#{detalle.cantidadSolicitada}" styleClass="centrado"  headerText="#{msgs.etiquetaCant}" filterMatchMode="contains" width="7%" >
                                        <p:cellEditor>
                                            <f:facet name="output"><center><h:outputText value="#{detalle.cantidadSolicitada}" styleClass="centrado"/></center></f:facet>
                                            <f:facet name="input"><center>
                                                    <p:inputText   value="#{detalle.cantidadSolicitada}" style=" font-size: 12px;width:115px" styleClass="centrado">
                                                        <p:ajax event="blur" listener="#{solicitudLogisticoMB.calcularImportePorItem()}"  update=":frmSolReq:txtImporte"/>
                                                    </p:inputText> 
                                                </center></f:facet>
                                        </p:cellEditor>
                                    </p:column> 
                                    <p:column sortBy="#{detalle.catalogoBean.precioRef}" class="nombre5Filtro" headerText="#{msgs.etiquetaPrecio}" filterMatchMode="contains" width="7%">
                                        <h:outputText   value="#{detalle.catalogoBean.precioRef}" style=" font-size: 12px;width:115px" styleClass="centrado"/>
                                    </p:column> 
                                    <p:column style="text-align:center;width:8px">
                                        <f:facet name="header">
                                            <h:outputText value="#{msgs.etiquetaAcciones}" />
                                        </f:facet>
                                        <p:commandLink id="cmdEliminar" action="#{solicitudLogisticoMB.quitarItem(detalle)}" 
                                                       update=":frmSolReq:txtImporte,:frmSolReq:pnlCatalogo" process="@this">
                                            <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                        </p:commandLink>
                                        <p:tooltip id="toolTipDel" for="cmdEliminar" value="#{msgs.toolTipQuitarItem}" />
                                    </p:column> 
                                </p:dataTable>
                            </h:panelGrid> 
                        </h:panelGrid> 
                        <br></br>
                        <h:panelGrid class="centrado" columns="2" id="pnlDatosAutorizarReq">
                            <p:commandButton  disabled="#{solicitudLogisticoMB.solicitudLogisticoBean.flgAutorizar}"
                                oncomplete="PF('popAutoSolReq').show();" 
                                value="#{msgs.botonAutorizar}">
                            </p:commandButton>
                            <p:commandButton disabled="#{solicitudLogisticoMB.solicitudLogisticoBean.flgAutorizar}"
                                oncomplete="PF('popDesAutoSolReq').show();" 
                                value="#{msgs.botonDesautorizar}">
                            </p:commandButton>
                        </h:panelGrid>
                        <p:messages id="msgsAutoReq" showSummary="true"/>
                        <br></br>
                    </h:panelGrid>
                </p:dialog>
            </h:form>
            <h:form id="frmAutoSolReq">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popAutoSolReq" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlAutoSolReq" styleClass="centrado">  
                        <h:panelGrid columns="2" id="pnlDatosAutoSolReq" class="centrado" > 
                            <h:outputLabel value="#{msgs.panelAutorizacionFisica}"/>
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{mensajeMB.autorizarMensajeRequerimiento('autoriza')}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmSolReq:pnlDatosSolReq,:tabViewMensaje:frmRecibidos:pnlTablaMensaje,:tabViewMensaje:frmAtendidos:pnlFiltro,:tabViewMensaje:frmAtendidos:pnlTablaMsjAtendidos" 
                                         oncomplete="if(args.operacionCorrecta){PF('popAutoSolReq').hide();PF('popSolReq').hide();PF('popDone').show();}else if(args.operacionNoModi){PF('popAutoSolReq').hide();PF('popError').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popAutoSolReq').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsAutoReq" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form>  
            <h:form id="frmDesAutoSolReq">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popDesAutoSolReq" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlDesAutoSolReq" styleClass="centrado">  
                        <h:panelGrid columns="2" id="pnlDatosDesAutoSolReq" class="centrado" > 
                            <h:outputLabel value="#{msgs.panelDesAutorizacionFisica}"/>
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{mensajeMB.autorizarMensajeRequerimiento('desAutoriza')}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmSolReq:pnlDatosSolReq,:tabViewMensaje:frmRecibidos:pnlTablaMensaje,:tabViewMensaje:frmAtendidos:pnlFiltro,:tabViewMensaje:frmAtendidos:pnlTablaMsjAtendidos" 
                                         oncomplete="if(args.operacionCorrecta){PF('popDesAutoSolReq').hide();PF('popSolReq').hide();PF('popDone').show();}else if(args.operacionNoModi){PF('popDesAutoSolReq').hide();PF('popError').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popDesAutoSolReq').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsAutoReq" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form>  
            <h:form id="frmErrorAdm">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popError" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlError" styleClass="centrado"> 
                        <h:graphicImage value="/resources/images/icons/warning.png"/>
                        <h:panelGrid columns="1" id="pnlDatosErrorAdm" class="centrado" > 
                            <h:outputLabel value="#{msgs.mensajeTipSolNoModi}"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.botonAceptar}" oncomplete="PF('popError').hide();PF('popAutoSolCajaCh').hide();PF('popSolCajaCh').hide();PF('popDesAutoSolCajaCh').hide()"/>
                    </h:panelGrid> 
                    <p:growl id="msgsErrorAdm" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form> 
            <h:form id="frmFactCom">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popFactCom" resizable="false" modal="true" styleClass="autoWidthDialog" position="top">
                    <center> <h:outputText value="#{msgs.etiquetaRegistroCompra}" class="siseFontGrid5 black" /> </center> 
                    <h:panelGrid columns="2" id="pnlDatosFactCom">  
                        <h:panelGrid columns="1"  >
                            <p:panel  header="#{msgs.etiquetaInfoFact}">
                                <h:panelGrid columns="2" class="siseFontGrid5"> 
                                    <h:outputText value="#{msgs.etiquetaFechaSol} " /> 
                                    <h:outputText  value="#{registroCompraMB.facturaCompraBean.registroCompraBean.fechaEmision}"  >
                                        <f:convertDateTime pattern="dd/MM/YYYY"/>
                                    </h:outputText>
                                    <h:outputLabel value="#{msgs.etiquetaCodigoSol}:" /> 
                                    <h:outputLabel value="#{registroCompraMB.facturaCompraBean.registroCompraBean.nroRegistro}"/>  
                                    <h:outputLabel value="#{msgs.etiquetaSolicitante}:" /> 
                                    <h:outputLabel value="#{registroCompraMB.facturaCompraBean.solicitante}"/> 
                                    <h:outputLabel value="#{msgs.etiquetaEstadoSolicitud}"  /> 
                                    <h:outputLabel value="#{registroCompraMB.facturaCompraBean.tipoStatusFacturaBean.codigo}"/>
                                    <h:outputLabel value="#{msgs.etiquetaTipoDocumento}"  /> 
                                    <h:outputLabel value="#{registroCompraMB.facturaCompraBean.registroCompraBean.tipoDocBean.codigo}"/> 
                                    <h:outputLabel value="#{msgs.etiquetaNroDocAbb}:" /> 
                                    <h:outputLabel value="#{registroCompraMB.facturaCompraBean.serieNroDoc}"/>    
                                    <h:outputLabel value="#{msgs.etiquetaRuc}:"/>
                                    <h:outputText value="#{registroCompraMB.facturaCompraBean.rucCompra}" /> 
                                    <h:outputLabel value="#{msgs.etiquetaProveedor}:"/>
                                    <h:outputText value="#{registroCompraMB.facturaCompraBean.entidadCompra}" /> 

                                    <h:outputLabel value="#{msgs.etiquetaGlosa}:" /> 
                                    <h:outputLabel value="#{registroCompraMB.facturaCompraBean.glosaCompra}"/>
                                    <h:outputLabel value="#{msgs.etiquetaModali}" class="negrita"/>
                                    <p:selectOneRadio value="#{registroCompraMB.facturaCompraBean.idTipoModoPago}" required="true"  label="#{msgs.etiquetaModali}" > 
                                        <f:selectItems value="#{registroCompraMB.listaTipoPagoBean}" var="tipPFac" itemLabel="#{tipPFac.codigo}" itemValue="#{tipPFac.idCodigo}"/>  
                                    </p:selectOneRadio>
                                </h:panelGrid> 
                                <br></br>
                                <h:panelGrid id="pnlDetalleRegistro" columns="1" styleClass="centrado" >
                                    <p:growl id="msgss" showDetail="true"/>
                                    <p:dataTable value="#{registroCompraMB.listaDetalleRegistroCompraBean}" scrollable="true" scrollHeight="250"  
                                                 var="detalle" id="tblDetReg" rows="6" editable="true" widgetVar="tblDetReg"
                                                 rendered="#{not empty registroCompraMB.listaDetalleRegistroCompraBean}" 
                                                 style="width:500px; font-size: 10px;margin-bottom:20px"
                                                 selection="single" rowKey="#{detalle}"> 
                                        <f:facet name="header" >
                                            <h:outputText value="#{msgs.etiquetaDetFact}" />  
                                        </f:facet> 
                                        <p:column style="white-space: nowrap" class="nombre2Filtro"  headerText="#{msgs.etiquetaCantAbb}" filterMatchMode="contains" width="3%" styleClass="siseFontTable3">
                                            <h:outputText value="#{detalle.cantidadRecibida}"  style=" font-size: 12px"/>
                                        </p:column> 
                                        <p:column style="white-space: nowrap" class="nombre2Filtro"  headerText="#{msgs.etiquetaDesc}" filterMatchMode="contains" width="20%" styleClass="siseFontTable3 ">
                                            <h:outputText value="#{detalle.catalogoBean.item}"  style=" font-size: 12px"/>
                                        </p:column>
                                        <p:column style="white-space: nowrap" class="nombre2Filtro"  headerText="#{msgs.etiquetaPrecio}" filterMatchMode="contains" width="8%" styleClass="siseFontTable3 centrado-texto">
                                            <h:outputText value="#{detalle.catalogoBean.precioRef}"  style=" font-size: 12px">
                                                <f:convertNumber pattern="#0.00" locale="en_US"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column style="white-space: nowrap" class="nombre2Filtro"  headerText="#{msgs.etiquetaImporte}" filterMatchMode="contains" width="8%" styleClass="siseFontTable3 centrado-texto">
                                            <h:outputText value="#{detalle.montoCadaUnoMate}"  style=" font-size: 12px">
                                                <f:convertNumber pattern="#0.00" locale="en_US"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:dataTable>   
                                </h:panelGrid>
                                <br></br>
                            </p:panel>
                        </h:panelGrid>
                        <h:panelGrid columns="1" id="pnlDatCr" > 
                            <p:panel  header="#{msgs.etiquetaFiltroCuentas}">
                                <h:panelGrid>
                                    <p:commandButton id="popCuenta" value="#{msgs.etiquetaModificarDist}"
                                                     update=":frmCuenta" actionListener="#{registroCompraMB.cargarDatosCrAprobacion()}"
                                                     oncomplete="PF('popCuenta').show();">
                                    </p:commandButton>
                                </h:panelGrid>
                                <h:panelGrid columns="1"  >  
                                    <p:dataTable value="#{registroCompraMB.listaCuentaFacturaBean}" scrollable="true" scrollHeight="90"
                                                 var="cuentasView" id="tblDet"  editable="true"  editMode="cell"  lazy="true" 
                                                 rendered="#{not empty registroCompraMB.listaCuentaFacturaBean}" 
                                                 style="width:500px; font-size: 10px;margin-bottom:20px" rowIndexVar="n" >  
                                        <p:column style="white-space: nowrap" headerText="#{msgs.etiquetaCuentaConAbb}" filterMatchMode="exact" width="2%" styleClass="nombre2Filtro siseFontTable3 resetSelect">
                                            <center><h:outputText value="#{cuentasView.planContableDBean.cuenta}" /></center>
                                        </p:column>  
                                        <p:column style="white-space: nowrap" id="listaFac" headerText="#{msgs.etiquetaCentRes}" filterMatchMode="contains" width="6%" styleClass="nombre2Filtro siseFontTable3 resetSelect">
                                            <h:outputText value="#{cuentasView.centroResponsabilidadBean.cr} - #{cuentasView.centroResponsabilidadBean.nombre}"  />
                                        </p:column>
                                        <p:column style="white-space: nowrap" headerText="#{msgs.etiquetaForDistribucion}" filterMatchMode="contains" width="5%" styleClass="nombre2Filtro siseFontTable3 centrado-texto resetSelect">
                                            <h:outputText value="#{cuentasView.tipoDistribucion.codigo}"  />
                                        </p:column> 
                                        <p:column style="white-space: nowrap" headerText="#{msgs.etiquetaValor}" filterMatchMode="contains" width="5%" styleClass="nombre2Filtro siseFontTable3 centrado-texto resetSelect">
                                            <h:outputText value="#{cuentasView.valor}"  >
                                                <f:convertNumber pattern="#0.00" locale="en_US"/>
                                            </h:outputText>
                                        </p:column> 
                                    </p:dataTable> 
                                </h:panelGrid>

                                <h:panelGrid columns="2" cellspacing="0">
                                    <p:spacer width="150"/>
                                    <h:panelGrid columns="2">
                                        <h:outputLabel value="#{msgs.etiquetaImporte}:"  /> 
                                        <h:outputText value="#{registroCompraMB.facturaCompraBean.importeSinIgv}">
                                            <f:convertNumber pattern="#0.00" locale="en_US"/>
                                        </h:outputText>
                                        <h:outputLabel value="#{msgs.etiquetaAbbIGV} (#{registroCompraMB.facturaCompraBean.igv}%) :"  />  
                                        <h:outputText value="#{registroCompraMB.facturaCompraBean.impuesto}">
                                            <f:convertNumber pattern="#0.00" locale="en_US"/>
                                        </h:outputText>    
                                        <h:outputLabel value="#{msgs.etiquetaTotal}:"  /> 
                                        <h:outputLabel value="#{registroCompraMB.facturaCompraBean.importe}"/> 
                                        <h:outputText value="#{msgs.etiquetaDetraccion}:"   /> 
                                        <h:panelGrid id="txtMontoD" columns="5" >
                                            <h:outputText value="#{registroCompraMB.facturaCompraBean.valorDetraccion}"    > 
                                                <f:convertNumber pattern="#0.00" locale="en_US"/>
                                            </h:outputText>                                                     
                                        </h:panelGrid> 
                                        <h:outputLabel value="___________" /> 
                                        <h:outputLabel value="___________"/> 
                                        <h:outputText value="#{msgs.etiquetaMonPagar}:" style="font-size: 0.9em ;text-align: right !important;font-weight: bold"/> 
                                        <h:panelGrid columns="5" class="siseFontGrid4">
                                            <h:outputText value="#{registroCompraMB.facturaCompraBean.montoPago}" style="font-size: 1em ;text-align: right !important;font-weight: bold"  >  
                                                <f:convertNumber pattern="#0.00" locale="en_US"/>
                                            </h:outputText>
                                            <p:spacer width="7"/>
                                            <h:outputText value="#{registroCompraMB.facturaCompraBean.tipoMonedaBean.codigo}" style="font-size: 1em ;text-align: right !important;font-weight: bold"/>
                                        </h:panelGrid>   
                                    </h:panelGrid> 
                                </h:panelGrid>
                            </p:panel>
                            <h:panelGrid class="centrado" columns="2">
                                <p:commandButton  disabled="#{registroCompraMB.facturaCompraBean.flgAutorizar}"
                                    oncomplete="PF('popAutoFactCom').show();" 
                                    value="#{msgs.botonAutorizar}">
                                </p:commandButton>
                                <p:commandButton disabled="#{registroCompraMB.facturaCompraBean.flgAutorizar}"
                                    oncomplete="PF('popDesAutoFactCom').show();" 
                                    value="#{msgs.botonDesautorizar}">
                                </p:commandButton>
                            </h:panelGrid> 
                        </h:panelGrid>
                        <p:messages id="msgsAuto" showSummary="true"/>
                    </h:panelGrid>
                </p:dialog>
            </h:form>
            <h:form id="frmAutoFactCom">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popAutoFactCom" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlAutoFactCom" styleClass="centrado">  
                        <h:panelGrid columns="2" id="pnlDatosFactCom" class="centrado" > 
                            <h:outputLabel value="#{msgs.panelAutorizacionFisica}"/>
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{mensajeMB.autorizarMensajeFacturaCompra('autoriza')}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmFactCom:pnlDatosFactCom,:tabViewMensaje:frmRecibidos:pnlTablaMensaje,:tabViewMensaje:frmAtendidos:pnlFiltro,:tabViewMensaje:frmAtendidos:pnlTablaMsjAtendidos" 
                                         oncomplete="if(args.operacionCorrecta){PF('popAutoFactCom').hide();PF('popFactCom').hide();PF('popDone').show();}else if(args.operacionNoModi){PF('popAutoFactCom').hide();PF('popError').show();}"/> 
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popAutoFactCom').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsAutoFactCom" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form>  
            <h:form id="frmDesAutoFactCom">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popDesAutoFactCom" resizable="false" modal="true">
                    <h:panelGrid columns="2" id="pnlDesAutoFactCom" styleClass="centrado">  
                        <h:panelGrid columns="2" id="pnlDatosDesAutoFactCom" class="centrado" > 
                            <h:outputLabel value="#{msgs.panelDesAutorizacionFisica}"/>
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                    </h:panelGrid> 
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{mensajeMB.autorizarMensajeFacturaCompra('desAutoriza')}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmFactCom:pnlDatosFactCom,:tabViewMensaje:frmRecibidos:pnlTablaMensaje,:tabViewMensaje:frmAtendidos:pnlFiltro,:tabViewMensaje:frmAtendidos:pnlTablaMsjAtendidos" 
                                         oncomplete="if(args.operacionCorrecta){PF('popDesAutoFactCom').hide();PF('popFactCom').hide();PF('popDone').show();}else if(args.operacionNoModi){PF('popDesAutoFactCom').hide();PF('popError').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popDesAutoFactCom').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDesAutoFact" showDetail="true" showSummary="false" autoUpdate="false"/>
                </p:dialog>
            </h:form>
            <h:form id="frmCuenta"> 
                <p:dialog header="#{msgs.appSiglas}" widgetVar="popCuenta" showEffect="fade" hideEffect="explode"
                          modal="true" styleClass="autoWidthDialog" position="top" resizable="false" closable="false">  
                    <h:panelGrid columns="1" id="pnlModiFact">
                        <p:panel>
                            <h:panelGrid columns="2" id="conceptos">
                                <h:panelGrid columns="3"  > 
                                    <h:outputLabel value="#{msgs.etiquetaTipoConcepto}"   />
                                    <h:outputText value="" styleClass="requerido"/>
                                    <p:selectOneMenu id="cmboTipo" value="#{registroCompraMB.tipoConceptoBean.idTipoConcepto}" required="false"  label="#{msgs.etiquetaTipoConcepto}" filter="true" style="width: 300px" panelStyle="width:200px" filterMatchMode="contains">
                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                        <f:selectItems value="#{registroCompraMB.listaTipoConceptoBean}" var="tipo" itemLabel="#{tipo.nombre}" itemValue="#{tipo.idTipoConcepto}"/>
                                        <p:ajax event="change" listener="#{registroCompraMB.obtenerConceptoPorTipo()}" update="cmbConcepto"/>
                                    </p:selectOneMenu>
                                    <h:outputLabel value="#{msgs.etiquetaConcepto}"   />
                                    <h:outputText  styleClass="requerido" value="*"/>
                                    <p:selectOneMenu id="cmbConcepto" value="#{registroCompraMB.cuentaFacturaBean.conceptoUniNegBean.conceptoBean.idConcepto}" required="false"  label="#{msgs.etiquetaConcepto}" filterMatchMode="contains" filter="true" style="width: 300px" panelStyle="width:400px">
                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                        <f:selectItems value="#{registroCompraMB.listaConceptoUniNegBean}" var="concepto" itemLabel="#{concepto.conceptoBean.planContableCuentaDBean.cuenta} - #{concepto.conceptoBean.nombre}" itemValue="#{concepto.conceptoBean.idConcepto}"/> 
                                        <p:ajax event="change" listener="#{registroCompraMB.obtenerCuentaConcepto(registroCompraMB.cuentaFacturaBean.conceptoUniNegBean.conceptoBean.idConcepto)}" 
                                                update="cmboTipo"/>
                                    </p:selectOneMenu>    
                                </h:panelGrid>
                                <h:panelGrid columns="3"  >
                                    <h:outputLabel value="#{msgs.etiquetaTotalFact}:"  /> 
                                    <h:outputText value="" styleClass="requerido"/> 
                                    <h:panelGrid columns="5" class="siseFontGrid4">
                                        <h:outputText value="#{registroCompraMB.facturaCompraBean.importe}" style="font-size: 1em ;text-align: right !important;font-weight: bold"  >  
                                            <f:convertNumber pattern="#0.00" locale="en_US"/>
                                        </h:outputText>
                                        <p:spacer width="7"/>
                                        <h:outputText value="#{registroCompraMB.facturaCompraBean.tipoMonedaBean.codigo}" style="font-size: 1em ;text-align: right !important;font-weight: bold"/>
                                    </h:panelGrid> 

                                    <h:outputLabel value="#{msgs.etiquetaImporte}" style="font-weight:bold" />
                                    <h:outputText  styleClass="requerido" value="*"/>
                                    <p:inputText value="#{registroCompraMB.cuentaFacturaBean.valorCuenta}" style="width: 100px" readonly="false" size="5">
                                        <p:ajax event="blur" listener="#{registroCompraMB.monto()}"/>
                                    </p:inputText>
                                </h:panelGrid>
                            </h:panelGrid>
                        </p:panel>
                        <h:panelGrid columns="2" id="pnlDistribucion">
                            <p:panel header="#{msgs.etiquetaCentRes}" toggleable="true" >
                                <h:panelGrid columns="1" >
                                    <h:panelGrid columns="1"> 
                                        <h:panelGrid columns="3" styleClass="siseFontGrid4">
                                            <h:outputLabel value="#{msgs.etiquetaDistribucion}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneMenu id="cmbTipoDist" value="#{registroCompraMB.facturaCompraBean.codDistribucion}"
                                                             style="width: 200px" required="false" label="#{msgs.etiquetaDistribucion}">
                                                <f:selectItems value="#{registroCompraMB.listaTipoDistribucionCRBean}" var="dist" itemLabel="#{dist.codigo}" itemValue="#{dist.idCodigo}"/>
                                            </p:selectOneMenu>
                                        </h:panelGrid>
                                        <hr/>
                                        <p:pickList id="pickCentroResponsabilidad" value="#{registroCompraMB.dualCentroResponsabilidadBean}" var="cr" itemLabel="#{cr.cr} - #{cr.nombre}" itemValue="#{cr}" 
                                                    showSourceFilter="true" showTargetFilter="true" filterMatchMode="contains" converter="crConverter"/> 
                                    </h:panelGrid> 
                                    <h:panelGrid  columns="2" >  
                                        <p:commandButton id="btnDist" actionListener="#{registroCompraMB.distribuirAprobacion()}" update="pnlDistribucion" 
                                                         process="btnDist,pickCentroResponsabilidad,cmbTipoDist,pnlDistribucion"
                                                         value="#{msgs.botonDist}">
                                        </p:commandButton> 
                                        <p:messages autoUpdate="false" id="msg3" showDetail="false" />
                                    </h:panelGrid>
                                </h:panelGrid> 
                            </p:panel>
                            <p:panel>
                                <h:panelGrid id="pnlPonerCtas"> 
                                    <p:dataTable id="tblDetCR" value="#{registroCompraMB.facturaCompraBean.listaDetRequerimientoCRBean}" widgetVar="tblDetCR"  scrollable="true" scrollHeight="125" 
                                                 rowIndexVar="n" rendered="#{not empty registroCompraMB.facturaCompraBean.listaDetRequerimientoCRBean}" var="detCR"
                                                 style="font-size:14px !important;margin-bottom:0;width: 325px"> 
                                        <f:facet name="header" >
                                            <h:outputText value="#{msgs.tituloCentrosRes}" />  
                                        </f:facet>
                                        <p:column style="white-space: nowrap" headerText="#{msgs.numero}" width="8%" styleClass="siseFontTable3 centrado-texto">
                                            <center>
                                                <h:outputText value="#{n+1}" />
                                            </center>
                                        </p:column>
                                        <p:column style="white-space: nowrap" headerText="#{msgs.EtiquetaNombre}" styleClass="siseFontTable3  " >
                                            <h:outputText value="#{detCR.centroResponsabilidadBean.nombre}"/>
                                        </p:column>  
                                        <p:column style="white-space: nowrap" headerText="#{msgs.etiquetaValor}" styleClass="siseFontTable3 centrado-texto" width="20%">
                                            <h:inputText value="#{detCR.valorD}" size="3">
                                                <f:convertNumber pattern="#,##0.00" locale="en_US"/>
                                            </h:inputText>
                                        </p:column> 
                                    </p:dataTable>
                                    <h:panelGrid id="cr" columns="2" >   
                                        <p:commandButton  disabled="#{not empty registroCompraMB.facturaCompraBean.listaDetRequerimientoCRBean==false}"  
                                                          id="btnAgregarCuentaFactura" action="#{registroCompraMB.guardarConceptoVistaAprobacion()}"
                                                          update=":frmCuenta:conceptos,:frmCuenta:pnlCuentaView,:frmCuenta:pnlDistribucion"
                                                          value="#{msgs.etiquetaPonerCuentas}" 
                                                          oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"/>

                                    </h:panelGrid>
                                </h:panelGrid>                        
                            </p:panel> 
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid id="pnlCuentaView" columns="1" styleClass="centrado" >
                        <p:growl id="msgs" showDetail="true"/> 
                        <p:dataTable value="#{registroCompraMB.listaCuentaFacturaBean}" scrollable="true" scrollHeight="100"
                                     var="cuentasView" id="tblDet"  editable="true"  editMode="cell"
                                     rendered="#{not empty registroCompraMB.listaCuentaFacturaBean}" 
                                     style="width:700px; font-size: 10px;margin-bottom:20px" rowIndexVar="n" > 
                            <f:facet name="header" >
                                <h:outputText value="#{msgs.etiquetaNewCrYCtas}" />  
                            </f:facet>
                            <p:column style="white-space: nowrap" headerText="#{msgs.etiquetaCuentaConAbb}" filterMatchMode="exact" width="2%" styleClass="nombre2Filtro siseFontTable3 resetSelect">
                                <center><h:outputText value="#{cuentasView.planContableDBean.cuenta}" /></center>
                            </p:column>
                            <p:column style="white-space: nowrap" id="listaFac" headerText="#{msgs.etiquetaCentRes}" filterMatchMode="contains" width="6%" styleClass="nombre2Filtro siseFontTable3 resetSelect">
                                <h:outputText value="#{cuentasView.centroResponsabilidadBean.cr} - #{cuentasView.centroResponsabilidadBean.nombre}"  />
                            </p:column>
                            <p:column style="white-space: nowrap" headerText="#{msgs.etiquetaValor}" filterMatchMode="contains" width="5%" styleClass="nombre2Filtro siseFontTable3 centrado-texto resetSelect">
                                <h:outputText value="#{cuentasView.valor}"  />
                            </p:column>
                            <p:column style="white-space: nowrap" headerText="#{msgs.etiquetaForDistribucion}" filterMatchMode="contains" width="5%" styleClass="nombre2Filtro siseFontTable3 centrado-texto resetSelect">
                                <h:outputText value="#{cuentasView.tipoDistribucion.codigo}"  />
                            </p:column>
                            <p:column style="white-space: nowrap" styleClass="nombre2Filtro siseFontTable3 resetSelect centrado"  width="3%">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.tooltipEliminar}"   />
                                </f:facet>
                                <p:commandLink id="EliminarCuentaSesion" styleClass="centrado" 
                                               actionListener="#{registroCompraMB.eliminarCuentaVistaAprobacion(n,cuentasView)}"
                                               update=":frmCuenta:pnlCuentaView" process="@this"  >
                                    <h:graphicImage styleClass="centrado" value="/resources/images/icons/delete.gif" style="border:0; cursor:pointer;"/>
                                </p:commandLink>
                                <p:tooltip id="toolTipAddd" for="EliminarCuentaSesion" value="#{msgs.tooltipEliminar}" />
                            </p:column> 
                        </p:dataTable> 
                    </h:panelGrid>
                    <h:panelGrid styleClass="centrado" columns="1" id="pnlBronCuentas">
                        <h:panelGrid columns="2" styleClass="centrado">
                            <p:commandButton actionListener="#{registroCompraMB.validarListaCr()}" 
                                             oncomplete="if(args.operacionCorrecta){PF('popCuenta').hide();}else if(args.operacionIncorrecta){PF('popRevModi').show();}"
                                             update="pnlBronCuentas,:frmFactCom:pnlDatCr,:frmRevModi:pnlRevModi" 
                                             value="#{msgs.botonCerrar}" >
                            </p:commandButton>
                            <p:commandButton actionListener="#{registroCompraMB.revertirModi()}" 
                                             oncomplete="if(args.operacionCorrecta){PF('popRevModi').hide();PF('popCuenta').hide()}"
                                             update="pnlBronCuentas,:frmFactCom:pnlDatCr,:frmRevModi:pnlRevModi,:frmCuenta:pnlCuentaView" 
                                             value="#{msgs.botonCanModi}" >
                            </p:commandButton>
                        </h:panelGrid>
                        <h:panelGrid styleClass="centrado">
                            <p:messages id="msgsAuto" showSummary="true"/>
                        </h:panelGrid>
                    </h:panelGrid>

                </p:dialog>
            </h:form>
            <h:form id="frmRevModi">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popRevModi" resizable="false" modal="true">
                    <h:panelGrid columns="2"  id="pnlRevModi" styleClass="centrado">  
                        <h:panelGrid columns="2"  class="centrado" >  
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        </h:panelGrid> 
                        <p:commandButton actionListener="#{registroCompraMB.revertirModi()}" 
                                         oncomplete="if(args.operacionCorrecta){PF('popRevModi').hide();PF('popCuenta').hide()}"
                                         update=":frmFactCom:pnlDatCr,:frmRevModi:pnlRevModi,:frmCuenta:pnlCuentaView" 
                                         value="#{msgs.botonRevModi}" >
                        </p:commandButton> 
                    </h:panelGrid>  
                </p:dialog>
            </h:form>
        </h:body>
    </ui:define>
</ui:composition>