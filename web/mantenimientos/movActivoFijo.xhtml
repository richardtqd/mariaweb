<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui" 
                template="/plantilla/plantillaPrincipal.xhtml" >
    <ui:define name="content">
        <h:body>
            <div>
                <p:layout fullPage="false"  style="width:1800px;height:650px" styleClass="centrado" >
                    <p:layoutUnit position="west" size="550" header="#{msgs.etiquetaBuscador}" minSize="150" maxSize="680" resizable="true" closable="false" collapsible="true" effect="drop" collapsed="false" effectSpeed="500" >
                        <div>
                            <h:form id="frmBuscarMovimientos"> 
                                <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro" >
                                    <p:panel toggleable="true" toggleSpeed="500" closeSpeed="500" header="#{msgs.etiquetaFiltros}">
                                        <h:panelGrid columns="3" styleClass="centrado" id="pnlFiltroMov"> 
                                            <h:outputLabel value="#{msgs.etiquetaMovimientos} " class="negrita" />
                                            <h:outputText value="" class="requerido"/>
                                            <p:inputText value="#{movimientoActivoMB.movimientoActivoFiltroBean.idMovimientoActivo}" size="10" maxlength="4">
                                            </p:inputText>
                                            <h:outputLabel value="#{msgs.etiquetaPeriodo}:" class="negrita"/>
                                            <h:outputText value="" class="requerido"/>
                                            <p:inputText value="#{movimientoActivoMB.movimientoActivoFiltroBean.anio}" 
                                                         size="10" maxlength="4" />
                                            <h:outputLabel value="#{msgs.etiquetaFechaInicio}:" class="negrita"/>
                                            <h:outputText value="" class="requerido"/>
                                            <p:calendar value="#{movimientoActivoMB.movimientoActivoFiltroBean.fechaInicio}"
                                                        effect="fold" mask="true" size="10" pattern="#{msgs.etiquetaFormatoFecha}" />
                                            <h:outputLabel value="#{msgs.etiquetaFechaFin}:" class="negrita"/>
                                            <h:outputText value="" class="requerido"/>
                                            <p:calendar value="#{movimientoActivoMB.movimientoActivoFiltroBean.fechaFin}"
                                                        effect="fold" mask="true" size="10" pattern="#{msgs.etiquetaFormatoFecha}" />
                                            <h:panelGroup>
                                    <center>
                                        <h:outputLabel value="#{msgs.etiquetaReporteGenralMovimientoActivo}" style="color: #036fab" styleClass="negrita"/> 
                                    </center>
                                    <div align="center"> 
                                        <h:commandLink action="#{movimientoActivoMB.imprimirTodosPdfGeneral()}" target="_blank">
                                            <h:graphicImage value="/resources/images/icons/pdf.png" />
                                        </h:commandLink>
                                    </div>
                                </h:panelGroup>
                                        </h:panelGrid> 
                                        <h:panelGrid styleClass="centrado" columns="2">
                                            <p:commandButton id="btnBuscar" value="#{msgs.botonBuscar}" actionListener="#{movimientoActivoMB.obtenerPorFiltroMovimientos()}" update="pnlFiltro,pnlMovimiento,msg" />
                                            <p:commandButton id="btnNuevo"  value="#{msgs.botonNuevo}"  actionListener="#{movimientoActivoMB.limpiarMovimientosFiltro()}" update="pnlFiltro,pnlMovimiento,msg"/>
                                        </h:panelGrid>
                                        <p:messages autoUpdate="false" id="msg" />
                                    </p:panel>
                                </h:panelGrid>
                                <h:panelGrid  id="pnlMovimiento" styleClass="centrado"> 
                                    <p:dataTable id="tblRegistro" value="#{movimientoActivoMB.listaMovimientoActivoFiltroBean}" widgetVar="tblRegistro"
                                                 selectionMode="single" 
                                                 paginator="true"
                                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 rowsPerPageTemplate="5,10"
                                                 var="movimiento" rowKey="#{movimiento.idMovimientoActivo}"  rows="10" 
                                                 rendered="#{not empty movimientoActivoMB.listaMovimientoActivoFiltroBean}" 
                                                 style="width: 900px;font-size:14px !important;margin-bottom:0"> 
                                        <f:facet name="header" >
                                            <h:outputText value="#{msgs.tituloRegistros}" />  
                                        </f:facet>  
                                        <p:column headerText="#{msgs.etiquetaMovimientos}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{movimiento.idRegistroCompra}" >
                                            <h:outputText value="#{movimiento.idMovimientoActivo}"/>
                                        </p:column> 
                                        <p:column  headerText="#{msgs.etiquetaFecOrdCom}"  width="50">
                                            <center>
                                                <h:outputText value="#{movimiento.fechaMov}">
                                                    <f:convertDateTime pattern="#{msgs.etiquetaFormatoFecha}"/>
                                                </h:outputText>
                                            </center>
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaItem}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{movimiento.idRegistroCompra}" >
                                            <h:outputText value="#{movimiento.inventarioActivoBean.catalogoBean.item}"/>
                                        </p:column> 
                                        <p:column style="text-align:center;width:60px" width="6%">
                                            <f:facet name="header">
                                                <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                            </f:facet>
                                            <p:commandLink id="cmdSelMov" actionListener="#{movimientoActivoMB.ponerMovimientos(movimiento)}"
                                                           update=":frmDatosBienes:pnlmovimientoActivo,:frmDatosBienes:mey"  >
                                                <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                            </p:commandLink>
                                            <p:tooltip id="toolTipAdd" for="cmdSelMov" value="#{msgs.toolTipSeleccionar}" />
                                        </p:column>
                                    </p:dataTable>
                                </h:panelGrid> 
                            </h:form>
                        </div>
                    </p:layoutUnit>
                    <p:layoutUnit position="center" styleClass="centrado">
                        <div>
                            <h:form id="frmDatosBienes" styleClass="centrado" style="width: 1900px">
                                <center>
                                    <h:outputText value="" class="tituloPantalla" style="margin: auto !important;font-size: 26px"/>
                                </center>
                                <h:panelGrid id="pnlmovimientoActivo">
                                    <p:panel header="#{msgs.etiquetaMovimientos}" styleClass="centrado" style="width: 1200px">
                                        <h:panelGrid columns="1" styleClass="centrado">
                                            <h:outputText value= "#{msgs.etiquetaMovimientos}" class="negrita"/>
                                                    <h:outputText value=" " class="requerido"/>  
                                                    <p:inputText value="#{movimientoActivoMB.movimientoActivoBean.idMovimientoActivo}" style="background-color: #f5f5f5" readonly="true"/>
                                            <p:fieldset legend="#{msgs.etiquetaMovidura}">
                                                <h:panelGrid columns="9">
                                                    <h:outputText value= "#{msgs.etiquetaTipoMovimiento}" class="negrita"/>
                                                    <h:outputText value=" " class="requerido"/>       
                                                    <p:selectOneMenu id="cmbTipoMov" value="#{movimientoActivoMB.movimientoActivoBean.tipoMovActivoBean.idCodigo}" 
                                                                     style="width: 300px" required="true" label="#{msgs.etiquetaTipoMovimiento}" >
                                                        <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" itemValue="#{null}" noSelectionOption="true" />
                                                        <f:selectItems value="#{movimientoActivoMB.listaTipoMovBean}" var="mov" itemLabel="#{mov.codigo}" itemValue="#{mov.idCodigo}"/>
                                                        <p:ajax event="change" listener="#{movimientoActivoMB.obtenerMotivoPorMov()}" update=":frmDatosBienes:cmbTipoMotivo"/>
                                                    </p:selectOneMenu>
                                                    <h:outputText value= "#{msgs.etiquetaTipoMotivo}" class="negrita"/>
                                                    <h:outputText value=" " class="requerido"/>       
                                                    <p:selectOneMenu id="cmbTipoMotivo" style="width: 300px" value="#{movimientoActivoMB.movimientoActivoBean.motivoMovimientoBean.idMovimientoMotivo}" 
                                                                     >
                                                        <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" itemValue="#{null}" noSelectionOption="true" />
                                                        <f:selectItems value="#{movimientoActivoMB.listaTipoMotivoBean}" var="mot" itemLabel="#{mot.motivo}" itemValue="#{mot.idMovimientoMotivo}"/>
                                                        <p:ajax event="change" listener="#{movimientoActivoMB.obtenerMotivoPorId()}" update=":frmDatosBienes:cmbTipoDuracion"/><!--:blockFecha-->
                                                    </p:selectOneMenu>
                                                    <h:outputText value= "#{msgs.etiquetaTipoDuracion}" class="negrita"/>
                                                    <h:outputText value=" " class="requerido"/>       
                                                    <p:selectOneMenu id="cmbTipoDuracion" value="#{movimientoActivoMB.movimientoActivoBean.motivoMovimientoBean.tipoDuracionBean.idCodigo}" 
                                                                     style="width: 200px" required="true" label="#{msgs.etiquetaTipoDuracion}" >
                                                        <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" itemValue="#{null}" noSelectionOption="true" />
                                                        <f:selectItems value="#{movimientoActivoMB.listaTipoDuracionBean}" var="dur" itemLabel="#{dur.codigo}" itemValue="#{dur.idCodigo}"/>
                                                        <p:ajax event="change" listener="#{movimientoActivoMB.mostarPanelDuracion()}" update=":frmDatosBienes:pnlTipo"/>
                                                    </p:selectOneMenu>
                                                </h:panelGrid>
                                            </p:fieldset> 
                                            <br></br>
                                            <h:panelGrid id="pnlDatMov" columns="1" cellpadding="4" >
                                                <h:panelGrid id="pnlActivoFijo" columns="4" cellpadding="4" >
                                                    <h:outputText  value="#{msgs.etiquetaActivoFijo}"  class="negrita"/> 
                                                    <h:outputText value=" " class="requerido"/>      
                                                    <p:inputText value="#{movimientoActivoMB.movimientoActivoBean.inventarioActivoBean.catalogoBean.item}" label="#{msgs.etiquetaActivoFijo}" size="40" />
                                                    <p:commandLink id="btnBuscarItem" oncomplete="PF('popItems').show();" process="@this">
                                                        <h:graphicImage value="/resources/images/icons/search2.png"   style="border:0; cursor:pointer;"/>
                                                    </p:commandLink>
                                                    <h:inputHidden value="#{movimientoActivoMB.movimientoActivoBean.inventarioActivoBean.catalogoBean.idCatalogo}"/>
                                                </h:panelGrid>
                                                <h:panelGrid columns="2">
                                                    <h:panelGrid columns="3" class="siseFontGrid5" id="pnlres">
                                                        <h:outputLabel  value="#{msgs.etiquetaRespOrigen}"  class="negrita"/>
                                                        <h:outputText value=" " class="requerido"/>  
                                                        <h:panelGrid columns="2">
                                                            <p:inputText id="txtSolicitante" value="#{movimientoActivoMB.movimientoActivoBean.respOrigenBean.nombreCompleto}"
                                                                         label="#{msgs.etiquetaRespOrigen}"    required="true"/> 
                                                            <p:commandLink id="btnBuscarRO" actionListener="#{legajoMB.limpiarPersonalFiltro()}" oncomplete="PF('popPerOri').show();" process="@this" update=":frmBuscarPersonalOrigen">
                                                                <h:graphicImage value="/resources/images/icons/search2.png"   style="border:0; cursor:pointer;"/>
                                                            </p:commandLink> 
                                                        </h:panelGrid> 
                                                        <h:outputText value="#{msgs.etiquetaUniOrigen}" class="negrita" />
                                                        <h:outputText value="" class="requerido"/>
                                                        <p:inputText value="#{movimientoActivoMB.movimientoActivoBean.uniOrgOrigenBean.nombreUniOrg}" readonly="true"
                                                                     required="true" style="background-color: #f5f5f5" size="26" label="#{msgs.etiquetaUniOrg}"/>
                                                        <h:inputHidden value="#{movimientoActivoMB.movimientoActivoBean.respOrigenBean.idPersonal}"/>
                                                        <h:inputHidden value="#{movimientoActivoMB.movimientoActivoBean.uniOrgOrigenBean.idUniOrg}"/>
                                                    </h:panelGrid>

                                                    <h:panelGrid columns="3" class="siseFontGrid5" id="pnlres2">
                                                        <h:outputLabel  value="#{msgs.etiquetaRespDestino}"  class="negrita"/>
                                                        <h:outputText value=" " class="requerido"/>  
                                                        <h:panelGrid columns="2">
                                                            <p:inputText id="txtSolicitanteDes" value="#{movimientoActivoMB.movimientoActivoBean.resoDestinoBean.nombreCompleto}"
                                                                         label="#{msgs.etiquetaRespDestino}"    required="true"/> 
                                                            <p:commandLink id="btnBuscarRD" actionListener="#{legajoMB.limpiarPersonalFiltro()}" oncomplete="PF('popPerDes').show();" process="@this" update=":frmBuscarPersonalDestino">
                                                                <h:graphicImage value="/resources/images/icons/search2.png"   style="border:0; cursor:pointer;"/>
                                                            </p:commandLink> 
                                                        </h:panelGrid> 
                                                        <h:outputText value="#{msgs.etiquetaUniDestino}" class="negrita" />
                                                        <h:outputText value="" class="requerido"/>
                                                        <p:inputText value="#{movimientoActivoMB.movimientoActivoBean.uniOrgDestinoBean.nombreUniOrg}" readonly="true"
                                                                     required="true" style="background-color: #f5f5f5" size="26" label="#{msgs.etiquetaUniOrg}"/>
                                                        <h:inputHidden value="#{movimientoActivoMB.movimientoActivoBean.resoDestinoBean.idPersonal}"/>
                                                        <h:inputHidden value="#{movimientoActivoMB.movimientoActivoBean.uniOrgDestinoBean.idUniOrg}"/>
                                                    </h:panelGrid>
                                                </h:panelGrid>
                                                <br></br>
                                                <h:panelGrid columns="2">
                                                    <h:outputText value="#{msgs.etiquetaObservacion} " class="negrita" />
                                                    <h:outputText value=" " class="requerido"/>
                                                </h:panelGrid>
                                                <center>
                                                    <h:panelGrid columns="4">                                
                                                        <p:inputTextarea value="#{movimientoActivoMB.movimientoActivoBean.observacion}" rows="5" cols="100" counter="display" maxlength="200" counterTemplate="{0} characters remaining." autoResize="false"/>
                                                        <h:outputText id="display" />
                                                    </h:panelGrid>
                                                </center>
                                            </h:panelGrid>
                                            <h:inputHidden value="#{movimientoActivoMB.movimientoActivoBean.idMovimientoActivo}"/>
                                            <h:panelGrid id="pnlTipo" >
                                                <p:fieldset legend="#{msgs.etiquetaTipoDuracion}" toggleable="true" toggleSpeed="500"  rendered="#{movimientoActivoMB.flgDuracion==true}"> 
                                                    <h:outputLabel value="#{msgs.etiquetaFechaMovimiento}:" class="negrita" rendered="#{movimientoActivoMB.flgDuracion==true}"/>
                                                    <p:calendar value="#{movimientoActivoMB.movimientoActivoBean.fechaMov}"  rendered="#{movimientoActivoMB.flgDuracion==true}"
                                                                effect="fold" mask="true" size="10" pattern="#{msgs.etiquetaFormatoFecha}" /> 
                                                    <h:outputLabel value="#{msgs.etiquetaFechaRetorno}:" class="negrita" rendered="#{movimientoActivoMB.flgDuracion==true}"/>
                                                    <p:calendar value="#{movimientoActivoMB.movimientoActivoBean.fechaRetorno}"  rendered="#{movimientoActivoMB.flgDuracion==true}"
                                                                effect="fold" mask="true" size="10" pattern="#{msgs.etiquetaFormatoFecha}" /> 

                                                </p:fieldset>
                                            </h:panelGrid>
                                        </h:panelGrid>
                                        <p:separator />
                                        <h:panelGrid class="centrado" columns="9">
                                            <h:panelGrid class="centrado" columns="1" id="mey">
                                                <h:panelGroup>
                                                    <div align="center"> 
                                                        <h:commandLink action="#{movimientoActivoMB.imprimirTodosPdf()}" target="_blank" rendered="#{movimientoActivoMB.movimientoActivoBean.idMovimientoActivo != null}">
                                                            <h:graphicImage value="/resources/images/icons/pdf.png" />
                                                        </h:commandLink>
                                                    </div>
                                                </h:panelGroup>
                                            </h:panelGrid> 
                                                <p:commandButton  id="btnGrabar" action="#{movimientoActivoMB.insertar()}"
                                                                  update=":frmDatosBienes,:frmDatosBienes:mey"
                                                                  oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                                  value="#{msgs.botonGrabar}">
                                                </p:commandButton>
                                                <p:commandButton id="btnLimpia" action="#{movimientoActivoMB.limpiarMovimiento()}" 
                                                                 update=":frmDatosBienes"
                                                                 oncomplete="if(args.operacionCorrecta){PF('popDone2').show();}"
                                                                 value="#{msgs.botonNuevo}" process="@this">
                                                </p:commandButton> 
                                        </h:panelGrid>
                                    </p:panel>
                                </h:panelGrid>
                            </h:form>

                        </div> 
                    </p:layoutUnit>
                </p:layout>
            </div> 

            <h:form id="frmMovimiento" styleClass="center_content">
                <h:panelGrid  columns="1" styleClass="centrado">
                    <p:dialog header="#{msgs.appSiglas}" widgetVar="popSolicitante" showEffect="fade" hideEffect="explode"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false">
                        <h:panelGrid id="pnlSolicitante" columns="1" styleClass="centrado">
                            <p:dataTable value="#{movimientoActivoMB.listaPersonalBean}" paginator="true" 
                                         var="soli" id="tblSolicitante" widgetVar="tblSolicitante"
                                         rowKey="#{soli.idPersonal}" rows="12"
                                         rendered="#{not empty movimientoActivoMB.listaPersonalBean}" 
                                         style="width:600px; font-size: 12px" > 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaUsuarios}" />  
                                </f:facet>
                                <p:column filterBy="#{soli.nombreCompleto}" class="nombre2Filtro"  headerText="#{msgs.etiquetaUsuario}" filterMatchMode="contains" width="70%" >
                                    <h:outputText value="#{soli.nombreCompleto}"/>
                                </p:column>
                                <p:column filterBy="#{soli.unidadOrganicaBean.nombreUniOrg}" class="nombre2Filtro"  headerText="#{msgs.etiquetaUniOrg}" filterMatchMode="contains" width="50%" >
                                    <h:outputText value="#{soli.unidadOrganicaBean.nombreUniOrg}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelecSoli" actionListener="#{movimientoActivoMB.obtenerUsuarioPorId(soli)}" 
                                                   update=":frmDatosBienes:pnlres2"
                                                   oncomplete="PF('popSolicitante').hide();" process="@this">
                                        <h:graphicImage value="/resources/images/icons/select.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTip" for="cmdSelecSoli" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <p:separator/>
                        <div align="center">
                            <p:commandButton oncomplete="PF('popSolicitante').hide();" 
                                             value="#{msgs.botonCerrar}" >
                            </p:commandButton>
                        </div>
                    </p:dialog>
                </h:panelGrid>
            </h:form>

            <h:form id="frmMovimiento2" styleClass="center_listaUsuarioBeancontent">
                <h:panelGrid  columns="1" styleClass="centrado">
                    <p:dialog header="#{msgs.appSiglas}" widgetVar="popSolicitante2" showEffect="fade" hideEffect="explode"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false">
                        <h:panelGrid id="pnlSolicitante2" columns="1" styleClass="centrado">
                            <p:dataTable value="#{movimientoActivoMB.listaPersonalBean}" paginator="true" 
                                         var="soli2" id="tblSolicitante2" widgetVar="tblSolicitante2"
                                         rowKey="#{soli2.usuario}" rows="12"
                                         rendered="#{not empty movimientoActivoMB.listaPersonalBean}" 
                                         style="width:600px; font-size: 12px" > 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaUsuarios}" />  
                                </f:facet>
                                <p:column filterBy="#{soli2.nombreCompleto}" class="nombre2Filtro"  headerText="#{msgs.etiquetaUsuario}" filterMatchMode="contains" width="70%" >
                                    <h:outputText value="#{soli2.nombreCompleto}"/>
                                </p:column>
                                <p:column filterBy="#{soli2.unidadOrganicaBean.nombreUniOrg}" class="nombre2Filtro"  headerText="#{msgs.etiquetaUniOrg}" filterMatchMode="contains" width="50%" >
                                    <h:outputText value="#{soli2.unidadOrganicaBean.nombreUniOrg}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelecSoli2" actionListener="#{movimientoActivoMB.obtenerUsuarioPorId2(soli2)}" 
                                                   update=":frmDatosBienes:pnlres"
                                                   oncomplete="PF('popSolicitante2').hide();" process="@this">
                                        <h:graphicImage value="/resources/images/icons/select.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTip" for="cmdSelecSoli2" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <p:separator/>
                        <div align="center">
                            <p:commandButton oncomplete="PF('popSolicitante2').hide();" 
                                             value="#{msgs.botonCerrar}" >
                            </p:commandButton>
                        </div>
                    </p:dialog>
                </h:panelGrid>
            </h:form>



            <h:form id="frmItems">
                <h:panelGrid id="pnlItems">
                    <p:dialog header="#{msgs.etiquetaItem}" widgetVar="popItems" showEffect="fade" hideEffect="explode"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false">
                        <p:growl id="msgss" showDetail="true"/>
                        <h:panelGrid columns="3" style="margin: 0 auto" >
                            <p:outputLabel value="#{msgs.etiquetaItem}" />
                            <p:inputText value="#{movimientoActivoMB.inventarioActivoFiltroBean.catalogoBean.item}" />
                            <p:commandButton value="#{msgs.botonBuscar}" actionListener="#{movimientoActivoMB.obtenerPorFiltroItem()}" update=":frmItems:tblpopItem,msgss" />
                        </h:panelGrid>
                        <p:dataTable id="tblpopItem" value="#{movimientoActivoMB.listaInventarioActivo}" paginator="true"
                                     var="item1" widgetVar="tblpopItem"
                                     rowKey="#{item1.catalogoBean.idCatalogo}" rows="12"
                                     rendered="#{not empty movimientoActivoMB.listaInventarioActivo}" 
                                     style="width:600px; font-size: 12px">
                            <p:column>
                                <f:facet name="header">
                                    <p:outputLabel value="Item" />
                                </f:facet>
                                <h:outputText value="#{item1.catalogoBean.item}"/>
                            </p:column>
                            <p:column style="text-align:center;width:60px">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                </f:facet>
                                <p:commandLink id="cmdSelecItem" actionListener="#{movimientoActivoMB.ponerInventarioActivo(item1)}" 
                                               update=":frmDatosBienes:pnlActivoFijo"
                                               oncomplete="PF('popItems').hide();" process="@this">
                                    <h:graphicImage value="/resources/images/icons/select.png" style="border:0; cursor:pointer;"/>
                                </p:commandLink>
                                <p:tooltip id="toolTip2" for="cmdSelecItem" value="#{msgs.toolTipSeleccionar}" />
                            </p:column>
                        </p:dataTable>
                    </p:dialog>
                </h:panelGrid>
            </h:form>
            <h:form id="frmBuscarPersonalOrigen">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popPerOri" resizable="false" modal="true" styleClass="autoWidthDialog" position="top">
                    <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro" >
                        <p:panel toggleable="true" toggleSpeed="500" closeSpeed="500" header="#{msgs.etiquetaFiltros}">
                            <h:panelGrid columns="2" styleClass="centrado" id="pnlFiltroAutoPer1">
                                <h:outputLabel value="#{msgs.etiquetaCodigo} " /> 
                                <p:inputText value="#{legajoMB.personalFiltroBean.codPer}" size="15" maxlength="15"/>

                                <h:outputLabel value="#{msgs.etiquetaApePat}"/> 
                                <p:inputText value="#{legajoMB.personalFiltroBean.apepat}" size="28" maxlength="30"/>  

                                <h:outputLabel value="#{msgs.etiquetaApeMat}"/> 
                                <p:inputText  value="#{legajoMB.personalFiltroBean.apemat}" size="28" maxlength="30"/>

                                <h:outputLabel value="#{msgs.etiquetaNombre}"/> 
                                <p:inputText value="#{legajoMB.personalFiltroBean.nombre}" size="28" maxlength="30"/>  

                                <h:outputLabel value="#{msgs.etiquetaUniOrg}"/>  
                                <p:selectOneMenu value="#{legajoMB.personalFiltroBean.unidadOrganicaBean.idUniOrg}"   label="#{msgs.etiquetaUnidOrg}" filter="true" style="width: 275px" panelStyle="width:275px">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{legajoMB.listaUniNegUniOrgBean}" var="uo" itemLabel="#{uo.unidadOrganicaBean.nombreUniOrg}" itemValue="#{uo.unidadOrganicaBean.idUniOrg}"/> 
                                </p:selectOneMenu>
                            </h:panelGrid> 
                            <h:panelGrid styleClass="centrado" columns="2">
                                <p:commandButton id="btnBuscar" value="#{msgs.botonBuscar}" actionListener="#{legajoMB.obtenerFiltroPersonal()}" update="pnlFiltro,pnlTablaAutoPer1,msg" />
                                <p:commandButton id="btnNuevo"  value="#{msgs.botonNuevo}"  actionListener="#{legajoMB.limpiarPersonalFiltro()}" update="pnlFiltroAutoPer1,pnlTablaAutoPer1,msg"/>
                            </h:panelGrid>
                            <p:messages autoUpdate="false" id="msg" />
                        </p:panel>
                    </h:panelGrid>
                    <h:panelGrid  id="pnlTablaAutoPer1" styleClass="centrado"> 
                        <p:dataTable id="tblPersona" value="#{legajoMB.listaPersonalBean}" widgetVar="tblPersona"
                                     selectionMode="single" 
                                     paginator="true"
                                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     rowsPerPageTemplate="5,10"
                                     selection="#{legajoMB.personalBean}" paginatorPosition="bottom" rowIndexVar="n" 
                                     var="personal" rowKey="#{personal.idPersonal}"  rows="10" 
                                     rendered="#{not empty legajoMB.listaPersonalBean}" 
                                     style="width: 725px;font-size:14px !important;margin-bottom:0"> 
                            <f:facet name="header" >
                                <h:outputText value="#{msgs.etiquetaPersonal}" />  
                            </f:facet>
                            <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="4%" styleClass="siseFontTable3 centrado-texto">
                                <center>
                                    <h:outputText value="#{n+1}" />
                                </center>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{personal.idPersona}" >
                                <h:outputText value="#{personal.codPer}"/>
                            </p:column> 
                            <p:column headerText="#{msgs.etiquetaAbApePaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.apepat}" >
                                <h:outputText value="#{personal.apepat}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaAAbApeMaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.apemat}">
                                <h:outputText value="#{personal.apemat}" />
                            </p:column> 
                            <p:column headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.nombre}">
                                <h:outputText value="#{personal.nombre}"/>
                            </p:column>
                            <p:column style="text-align:center;width:60px" width="6%" >
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                </f:facet>
                                <p:commandLink id="cmdSelA1" actionListener="#{legajoMB.ponerPersonalDinamico(personal,'movLogisticoOri')}"
                                               update=":frmDatosBienes:pnlres"
                                               oncomplete="PF('popPerOri').hide();">
                                    <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                </p:commandLink>
                                <p:tooltip id="toolTipAdd1" for="cmdSelA1" value="#{msgs.toolTipSeleccionar}" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </p:dialog>
            </h:form>
            <h:form id="frmBuscarPersonalDestino">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popPerDes" resizable="false" modal="true" styleClass="autoWidthDialog" position="top">
                    <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro" >
                        <p:panel toggleable="true" toggleSpeed="500" closeSpeed="500" header="#{msgs.etiquetaFiltros}">
                            <h:panelGrid columns="2" styleClass="centrado" id="pnlFiltroAutoPer1Des">
                                <h:outputLabel value="#{msgs.etiquetaCodigo} " /> 
                                <p:inputText value="#{legajoMB.personalFiltroBean.codPer}" size="15" maxlength="15"/>

                                <h:outputLabel value="#{msgs.etiquetaApePat}"/> 
                                <p:inputText value="#{legajoMB.personalFiltroBean.apepat}" size="28" maxlength="30"/>  

                                <h:outputLabel value="#{msgs.etiquetaApeMat}"/> 
                                <p:inputText  value="#{legajoMB.personalFiltroBean.apemat}" size="28" maxlength="30"/>

                                <h:outputLabel value="#{msgs.etiquetaNombre}"/> 
                                <p:inputText value="#{legajoMB.personalFiltroBean.nombre}" size="28" maxlength="30"/>  

                                <h:outputLabel value="#{msgs.etiquetaUniOrg}"/>  
                                <p:selectOneMenu value="#{legajoMB.personalFiltroBean.unidadOrganicaBean.idUniOrg}"   label="#{msgs.etiquetaUnidOrg}" filter="true" style="width: 275px" panelStyle="width:275px">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{legajoMB.listaUniNegUniOrgBean}" var="uo" itemLabel="#{uo.unidadOrganicaBean.nombreUniOrg}" itemValue="#{uo.unidadOrganicaBean.idUniOrg}"/> 
                                </p:selectOneMenu>
                            </h:panelGrid> 
                            <h:panelGrid styleClass="centrado" columns="2">
                                <p:commandButton id="btnBuscarDes" value="#{msgs.botonBuscar}" actionListener="#{legajoMB.obtenerFiltroPersonal()}" update="pnlFiltro,pnlTablaAutoPer1Des,msgDes" />
                                <p:commandButton id="btnNuevoDes"  value="#{msgs.botonNuevo}"  actionListener="#{legajoMB.limpiarPersonalFiltro()}" update="pnlFiltroAutoPer1Des,pnlTablaAutoPer1Des,msgDes"/>
                            </h:panelGrid>
                            <p:messages autoUpdate="false" id="msgDes" />
                        </p:panel>
                    </h:panelGrid>
                    <h:panelGrid  id="pnlTablaAutoPer1Des" styleClass="centrado"> 
                        <p:dataTable id="tblPersonaDes" value="#{legajoMB.listaPersonalBean}" widgetVar="tblPersona"
                                     selectionMode="single" 
                                     paginator="true"
                                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     rowsPerPageTemplate="5,10"
                                     selection="#{legajoMB.personalBean}" paginatorPosition="bottom" rowIndexVar="n" 
                                     var="personal" rowKey="#{personal.idPersonal}"  rows="10" 
                                     rendered="#{not empty legajoMB.listaPersonalBean}" 
                                     style="width: 725px;font-size:14px !important;margin-bottom:0"> 
                            <f:facet name="header" >
                                <h:outputText value="#{msgs.etiquetaPersonal}" />  
                            </f:facet>
                            <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="4%" styleClass="siseFontTable3 centrado-texto">
                                <center>
                                    <h:outputText value="#{n+1}" />
                                </center>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{personal.idPersona}" >
                                <h:outputText value="#{personal.codPer}"/>
                            </p:column> 
                            <p:column headerText="#{msgs.etiquetaAbApePaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.apepat}" >
                                <h:outputText value="#{personal.apepat}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaAAbApeMaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.apemat}">
                                <h:outputText value="#{personal.apemat}" />
                            </p:column> 
                            <p:column headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.nombre}">
                                <h:outputText value="#{personal.nombre}"/>
                            </p:column>
                            <p:column style="text-align:center;width:60px" width="6%" >
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                </f:facet>
                                <p:commandLink id="cmdSelA1Des" actionListener="#{legajoMB.ponerPersonalDinamico(personal,'movLogisticoDes')}"
                                               update=":frmDatosBienes:pnlres2"
                                               oncomplete="PF('popPerDes').hide();">
                                    <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                </p:commandLink>
                                <p:tooltip id="toolTipAdd1Des" for="cmdSelA1Des" value="#{msgs.toolTipSeleccionar}" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </p:dialog>
            </h:form>
        </h:body>
    </ui:define>
</ui:composition>
