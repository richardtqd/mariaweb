<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui" 
                template="/plantilla/plantillaPrincipal.xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:define name="content">
        <h:body onload="#{inventarioAlmacenMB.obtenerTodosInventarioPorUniNeg()}">
            <div> 
                <h:form id="frmDatosAlmacen">
                    <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro" >
                        <p:panel toggleable="true" toggleSpeed="500" closeSpeed="500" header="#{msgs.etiquetaFiltros}"> 
                            <h:panelGrid styleClass="centrado" columns="1" id="mey">
                                <h:panelGroup>
                                    <center>
                                        <h:outputLabel value="#{msgs.etiquetaReporteGenralInven}" style="color: #036fab" styleClass="negrita"/> 
                                    </center>
                                    <div align="center"> 
                                        <h:commandLink action="#{inventarioAlmacenMB.imprimirTodosPdfGeneral()}" target="_blank">
                                            <h:graphicImage value="/resources/images/icons/pdf.png" />
                                        </h:commandLink>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup> 
                                    <center>
                                        <h:outputLabel value="#{msgs.etiquetaReporteGenralMovi}" style="color: #036fab" styleClass="negrita"/> 
                                    </center>
                                    <div align="center"> 
                                        <h:commandLink action="#{inventarioAlmacenMB.imprimirTodosGeneralMoviPdf()}" target="_blank">
                                            <h:graphicImage value="/resources/images/icons/pdf.png" />
                                        </h:commandLink>
                                    </div>
                                </h:panelGroup> 
                                <center>
                                    <h:panelGrid columns="2"> 
                                        <h:panelGrid id="pnlOrden" styleClass="centrado">
                                            <h:panelGroup styleClass="centrado"  > 
                                                <center>
                                                    <p:commandButton id="popNuevoItems" value="#{msgs.botonNuevo}"
                                                                     update=":frmDatosInventarioAlmacen"
                                                                     oncomplete="PF('popNuevoItems').show();">
                                                    </p:commandButton>
                                                </center>
                                                <p:tooltip id="toolTipCata" for="popNuevoItems" value="#{msgs.toolNuevo}" />
                                            </h:panelGroup> 
                                        </h:panelGrid> 
                                        <h:panelGrid id="pnlDespacho" styleClass="centrado">
                                            <h:panelGroup styleClass="centrado"  > 
                                                <center>
                                                    <p:commandButton id="popDespacho" value="#{msgs.botonDespacho}"
                                                                     update=":frmDatosMovimientoAlmacen"
                                                                     oncomplete="PF('popDespacho').show();">
                                                    </p:commandButton>
                                                </center>
                                                <p:tooltip id="toolTipDespacho" for="popDespacho" value="#{msgs.toolDespacho}" />
                                            </h:panelGroup> 
                                        </h:panelGrid> 
                                    </h:panelGrid></center>
                            </h:panelGrid> 
                            <p:messages autoUpdate="false" id="msg" />
                        </p:panel>
                    </h:panelGrid>

                    <h:panelGrid styleClass="centrado" id="pnlTablaProveedor" >
                        <p:dataTable id="tblInventario" value="#{inventarioAlmacenMB.listaInventarioAlmacenBean}" widgetVar="tblInventario"
                                     selectionMode="single" 
                                     paginator="false" editable="true"
                                     paginatorPosition="botton"

                                     rowsPerPageTemplate="5,10"
                                     var="inventarioAl" rowKey="#{inventarioAl.catalogoBean.idCatalogo}"  rows="18" 
                                     rendered="#{not empty inventarioAlmacenMB.listaInventarioAlmacenBean}" 
                                     style="width: 1800px;font-size:14px !important;margin-bottom:0">  
                            <f:facet name="header" >
                                <h:outputText value="#{msgs.etiquetaListaBienesMat}" />  
                            </f:facet>
                            <p:column style="font-size: 0.8em ; width: 40px; ">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaStatus}" />
                                </f:facet>
                                <center>
                                    <p:graphicImage value="#{inventarioAl.alerta}"/>
                                </center>
                            </p:column>   
                            <p:column filterBy="#{inventarioAl.nroAlmacen}"  headerText="#{msgs.etiquetaNroAlm}" width="48">
                                <h:outputText value="#{inventarioAl.nroAlmacen}"/>
                            </p:column> 

                            <p:column filterBy="#{inventarioAl.catalogoBean.idCatalogo}"  headerText="#{msgs.etiquetaCodigo}" width="60">
                                <center><h:outputText value="#{inventarioAl.catalogoBean.idCatalogo}"/></center>
                            </p:column> 
                            <p:column filterBy="#{inventarioAl.catalogoBean.item}"  headerText="#{msgs.EtiquetaNombre}" width="400">
                                <h:outputText value="#{inventarioAl.catalogoBean.item}"/>
                            </p:column> 
                            <p:column  class="nombre5Filtro" headerText="#{msgs.etiquetaPrecio}" filterMatchMode="contains" width="50">
                                <p:cellEditor>
                                    <f:facet name="output"><center><h:outputText value="#{inventarioAl.precioRef}" styleClass="centrado" /></center> </f:facet>
                                    <f:facet name="input"><center><p:inputText   value="#{inventarioAl.precioRef}" style=" font-size: 12px;width:115px" styleClass="centrado" /></center></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column id="listaUniMed" headerText="#{msgs.etiquetaUniMed}" filterMatchMode="contains" width="10%" styleClass="nombre2Filtro siseFontTable3 centrado-texto resetSelect">
                                <p:cellEditor>
                                    <f:facet name="output">
                                        <h:outputText value="#{inventarioAl.tipoUniMedBean.codigo}"  />
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:selectOneMenu id="lista" value="#{inventarioAl.tipoUniMedBean.idCodigo}"  filter="true" label="#{msgs.etiquetaUniMed}" style="width: 100px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{inventarioAlmacenMB.listaTipoUnidadMedidaBean}" var="unimed" itemValue="#{unimed.idCodigo}" itemLabel="#{unimed.codigo}"/>
                                        </p:selectOneMenu >
                                    </f:facet>
                                </p:cellEditor>
                            </p:column> 
                            <p:column id="listaMonedaa" headerText="#{msgs.etiquetaTipoMoneda}" filterMatchMode="contains" width="10%" styleClass="nombre2Filtro siseFontTable3 centrado-texto resetSelect">
                                <p:cellEditor>
                                    <f:facet name="output">
                                        <h:outputText value="#{inventarioAl.tipoUniMedBean.codigo}"  />
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:selectOneMenu id="listaMoneda" value="#{inventarioAl.catalogoBean.tipoMonedaBean.idCodigo}"  filter="true" label="#{msgs.etiquetaTipoMoneda}" style="width: 250px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{inventarioAlmacenMB.listaTipoMonedaBean}" var="moneda" itemValue="#{moneda.idCodigo}" itemLabel="#{moneda.codigo}"/>
                                        </p:selectOneMenu >
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>  
                            <p:column  class="nombre5Filtro" headerText="#{msgs.etiquetaStockMin}" filterMatchMode="contains" width="50">
                                <p:cellEditor>
                                    <f:facet name="output"><center><h:outputText value="#{inventarioAl.stockMin}" styleClass="centrado" /></center> </f:facet>
                                    <f:facet name="input"><center><p:inputText   value="#{inventarioAl.stockMin}" style=" font-size: 12px;width:115px" styleClass="centrado" /></center></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column    headerText="#{msgs.etiquetaStockAct}" width="50">
                                <center>  <h:outputText value="#{inventarioAl.stockActual}"/></center>
                            </p:column> 
                            <p:column  class="nombre5Filtro" headerText="#{msgs.etiquetaStock}" filterMatchMode="contains" width="50">
                                <p:cellEditor>
                                    <f:facet name="output"><center><h:outputText value="#{inventarioAl.stockNuevo}" styleClass="centrado" /></center> </f:facet>
                                    <f:facet name="input"><center><p:inputText   value="#{inventarioAl.stockNuevo}" style=" font-size: 12px;width:115px" styleClass="centrado" /></center></f:facet>
                                </p:cellEditor>
                            </p:column>  
                            <p:column id="listaProveedor" headerText="#{msgs.etiquetaProveedor}" filterMatchMode="contains" width="10%" styleClass="nombre2Filtro siseFontTable3 centrado-texto resetSelect">
                                <p:cellEditor>
                                    <f:facet name="output">
                                        <h:outputText value="#{inventarioAl.catalogoBean.entidadBean.nombre}"  />
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:selectOneMenu id="listapro" value="#{inventarioAl.catalogoBean.entidadBean.ruc}"  filter="true" label="#{msgs.etiquetaProveedor}" style="width: 250px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{inventarioAlmacenMB.listaEntidadBean}" var="prove" itemValue="#{prove.ruc}" itemLabel="#{prove.nombre}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column> 
                            <p:column headerText="#{msgs.etiquetaEdit}" style="width:30px">
                                <p:rowEditor id="editCantidad2"/>
                                <p:tooltip id="toolTip" for="editCantidad2" value="#{msgs.toolTipEditCantidad}" />
                            </p:column>
                            <p:ajax event="rowEdit" listener="#{inventarioAlmacenMB.modificarTablaInventario}"
                                    update=":frmDatosAlmacen:tblInventario" />
                        </p:dataTable>

                    </h:panelGrid>

                    <p:growl id="growlFiltro" showDetail="false" life="5000" />

                </h:form>
            </div> 
            <div>
                <h:form id="frmDatosInventarioAlmacen"  styleClass="centrado">
                    <p:dialog header="#{msgs.appSiglas}" widgetVar="popNuevoItems" showEffect="fade" hideEffect="explode"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false">  
                        <h:panelGrid  columns="6" styleClass="centrado" cellspacing="4" id="pnlNuevo"> 
                            <p:panel header="#{msgs.tituloKardex}" toggleable="true">  
                                <h:panelGrid  columns="1"  cellspacing="5"  > 
                                    <h:panelGrid  columns="3"  cellspacing="5" styleClass="izquierda">  
                                    </h:panelGrid> 
                                    <!--  <h:panelGrid columns="3"  cellspacing="5" styleClass="izquierda">
                                          <h:outputLabel value="#{msgs.EtiquetaCodigo}" class="negrita"  />
                                          <h:outputText value="*" class="requerido"/>
                                          <p:inputText id="cat" value="#{inventarioAlmacenMB.inventarioAlmacenBean.catalogoBean.idCatalogo}" label="#{msgs.EtiquetaCodigo}" size="5"
                                                       readonly="true" required="true" style="background-color: #f5f5f5"/>
                                      </h:panelGrid>--> 
                                    <h:panelGrid columns="6"  cellspacing="5" styleClass="izquierda">
                                        <h:outputLabel value="#{msgs.etiquetaNombre}" class="negrita"  />
                                        <h:outputText value="*" class="requerido"/>
                                        <p:inputText id="catitem" value="#{inventarioAlmacenMB.inventarioAlmacenBean.catalogoBean.item}" label="#{msgs.etiquetaNombre}" size="26">
                                        </p:inputText>
                                        <h:panelGroup styleClass="centrado" >
                                            <p:commandLink id="btnCatalogo2"  
                                                           update=":frmCatalogo2" oncomplete="PF('popCatalogo2').show();" >
                                                <h:graphicImage value="/resources/images/icons/search2.png" style="border:0; cursor:pointer;" />
                                            </p:commandLink>
                                            <p:commandLink id="btnActualizarCat" actionListener="#{inventarioAlmacenMB.actualizarCat()}" process="@this" update=":frmDatosInventarioAlmacen">
                                                <h:graphicImage value="/resources/images/icons/refrescar.png"   style="border:0; cursor:pointer;"/>
                                            </p:commandLink> 
                                            <p:tooltip id="toolTipPlan2" for="btnCatalogo2" value="#{msgs.toolTipSelectProveedor}" />
                                        </h:panelGroup> 
                                    </h:panelGrid>
                                    <h:panelGrid columns="3"  cellspacing="5" styleClass="izquierda">
                                        <h:outputLabel value="#{msgs.etiquetaNroAlm}" class="negrita"  />
                                        <p:inputText id="txtNroAlmacen"  value="#{inventarioAlmacenMB.inventarioAlmacenBean.nroAlmacen}" label="#{msgs.etiquetaNroAlm}" size="2">
                                        </p:inputText>
                                        <h:panelGrid columns="2" >
                                            <p:colorPicker id="txtColor" value="#{inventarioAlmacenMB.inventarioAlmacenBean.color}" />
                                            <p:commandLink id="btnBuscarColor" update=":frmCatalogo2" oncomplete="PF('popColorAlmacen').show();" >
                                                <h:graphicImage value="/resources/images/icons/search2.png" style="border:0; cursor:pointer;" />
                                            </p:commandLink>
                                        </h:panelGrid>
                                        <h:outputLabel value="#{msgs.etiquetaPrecio}" class="negrita"  />
                                        <h:outputText value="*" class="requerido"/>
                                        <p:inputText value="#{inventarioAlmacenMB.inventarioAlmacenBean.precioRef}" class="negrita"/>
                                        <h:outputLabel value="#{msgs.etiquetaUniMed}" class="negrita"/>
                                        <h:outputText value="*" class="requerido"/>
                                        <p:selectOneMenu id="cmbTipoUniMed" value="#{inventarioAlmacenMB.inventarioAlmacenBean.tipoUniMedBean.idCodigo}"
                                                         style="width: 200px" required="true" label="#{msgs.etiquetaUniMed}">
                                            <f:selectItems value="#{inventarioAlmacenMB.listaTipoUnidadMedidaBean}" var="tipUniMed" itemLabel="#{tipUniMed.codigo}" itemValue="#{tipUniMed.idCodigo}"/>
                                        </p:selectOneMenu> 
                                        <h:outputLabel value="#{msgs.etiquetaMoneda}" class="negrita"/>
                                        <h:outputText value="*" class="requerido"/>
                                        <p:selectOneMenu id="cmbTipoMoneda" value="#{inventarioAlmacenMB.inventarioAlmacenBean.catalogoBean.tipoMonedaBean.idCodigo}"
                                                         style="width: 200px" required="true" label="#{msgs.etiquetaMoneda}">
                                            <f:selectItems value="#{inventarioAlmacenMB.listaTipoMonedaBean}" var="tipMoneda" itemLabel="#{tipMoneda.codigo}" itemValue="#{tipMoneda.idCodigo}"/>
                                        </p:selectOneMenu>  
                                    </h:panelGrid>
                                    <h:panelGrid  columns="9"  cellspacing="5" styleClass="izquierda"> 
                                        <h:outputLabel value="#{msgs.etiquetaProveedor}" class="negrita"  />
                                        <h:outputText value="*" class="requerido"/> 
                                        <p:inputText id="proveedor" value="#{inventarioAlmacenMB.inventarioAlmacenBean.catalogoBean.entidadBean.nombre}" label="#{msgs.etiquetaProveedor}" size="25"/>
                                        <h:panelGroup styleClass="centrado" >
                                            <p:commandLink id="btnProveedor"  
                                                           update=":frmProveedor" oncomplete="PF('popProveedor').show();" >
                                                <h:graphicImage value="/resources/images/icons/search2.png" style="border:0; cursor:pointer;" />
                                            </p:commandLink>
                                            <p:tooltip id="toolTipPlan" for="btnProveedor" value="#{msgs.toolTipSelectProveedor}" />
                                        </h:panelGroup>
                                        <p:link id="entSeg" outcome="/configuracion/mantEntidad.xhtml" target="_blank">
                                            <h:graphicImage value="/resources/images/icons/addverde3.png" style="border:0; cursor:pointer;"/>
                                        </p:link> 
                                        <p:commandLink id="btnActualizarComSeg" actionListener="#{inventarioAlmacenMB.actualizarEntidad}" process="@this" update=":frmProveedor">
                                            <h:graphicImage value="/resources/images/icons/refrescar.png"   style="border:0; cursor:pointer;"/>
                                        </p:commandLink> 
                                    </h:panelGrid>
                                    <h:panelGrid  columns="3"  cellspacing="5" styleClass="izquierda"> 
                                        <h:outputLabel value="#{msgs.etiquetaStockMin}" class="negrita"/>
                                        <h:outputText value="*" class="requerido"/>
                                        <p:inputText value="#{inventarioAlmacenMB.inventarioAlmacenBean.stockMin}" class="negrita"/>
                                        <h:outputLabel value="#{msgs.etiquetaStockAct}" class="negrita"/>
                                        <h:outputText value="*" class="requerido"/>
                                        <p:inputText  value="#{inventarioAlmacenMB.inventarioAlmacenBean.stockActual}" class="negrita"/>
                                    </h:panelGrid>
                                </h:panelGrid> 
                                <h:panelGrid class="centrado" columns="2">
                                    <p:commandButton id="btnGraba" action="#{inventarioAlmacenMB.grabar()}"  
                                                     update=":frmDatosAlmacen"
                                                     oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                     value="#{msgs.botonGrabar}">
                                    </p:commandButton>
                                    <p:commandButton id="btnLimpia" action="#{inventarioAlmacenMB.limpiarInventario()}" 
                                                     update=":frmDatosInventarioAlmacen:pnlNuevo"
                                                     value="#{msgs.botonNuevo}" process="@this">
                                    </p:commandButton>
                                </h:panelGrid>
                            </p:panel> 
                        </h:panelGrid>
                    </p:dialog>
                </h:form> 
                <h:form id="frmDatosMovimientoAlmacen"  styleClass="centrado">
                    <p:dialog header="#{msgs.appSiglas}" widgetVar="popDespacho" showEffect="fade" hideEffect="explode"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false">  
                        <h:panelGrid  columns="6" styleClass="centrado" cellspacing="4" id="mey1" > 
                            <p:panel header="#{msgs.tituloMov}"  >  
                                <h:panelGrid  columns="1"  cellspacing="5"  > 
                                    <h:panelGrid  columns="3"  cellspacing="5" styleClass="izquierda">  
                                        <h:outputLabel value="#{msgs.EtiquetaCodigo}" styleClass="negrita"  />
                                        <h:outputText value="*" styleClass="requerido"/>
                                        <p:inputText  value="#{inventarioAlmacenMB.movimientoAlmacenBean.idMovimientoAyuda}" size="10"
                                                      readonly="true" required="true" style="background-color: #f5f5f5"/> 
                                    </h:panelGrid> 
                                    <h:panelGrid columns="5" styleClass="siseFontGrid5" id="pnlSoli">
                                        <h:outputLabel value="#{msgs.etiquetaEntrePor}" styleClass="negrita"  />
                                        <h:outputText value="*" styleClass="requerido"/>
                                        <p:inputText id="txtSolicitante" value="#{inventarioAlmacenMB.movimientoAlmacenBean.entregadoPor}" 
                                                     label="#{msgs.etiquetaEntrePor}" size="35" onfocus="foco();" required="true"/> 
                                        <p:commandLink id="btnBuscarAutoPer1" actionListener="#{inventarioAlmacenMB.settearTipoSoli('solicitante')}" oncomplete="PF('popSoli').show();" 
                                                       process="@this" update=":frmBuscarAutoPer1:pnlFiltro,:frmBuscarAutoPer1:pnlFiltro2,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3" 
                                                       rendered="#{inventarioAlmacenMB.flgGestorSoli==false}">
                                            <h:graphicImage value="/resources/images/icons/search2.png"   style="border:0; cursor:pointer;"/>
                                            <p:ajax event="click" listener="#{legajoMB.limpiarPersonalFiltro()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,:frmBuscarAutoPer1:pnlFiltro2"/>
                                            <p:ajax event="click" listener="#{personaMB.limpiarPersonaFiltro()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,:frmBuscarAutoPer1:pnlFiltro2"/>
                                            <p:ajax event="click" listener="#{entidadMB.limpiarFiltroEntidad()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,:frmBuscarAutoPer1:pnlFiltro2"/>
                                        </p:commandLink> 
                                        <h:inputHidden value="#{inventarioAlmacenMB.movimientoAlmacenBean.personalBean.idPersonal}"/>
                                        <h:inputHidden value="#{inventarioAlmacenMB.movimientoAlmacenBean.personaBean.idPersona}"/>
                                        <h:inputHidden value="#{inventarioAlmacenMB.movimientoAlmacenBean.catalogoBean.entidadBean.ruc}"/>
                                        <h:inputHidden value="#{inventarioAlmacenMB.movimientoAlmacenBean.personalBean.unidadOrganicaBean.idUniOrg}"/>
                                    </h:panelGrid>
                                    <h:panelGrid columns="5" styleClass="siseFontGrid5" >
                                        <h:outputLabel value="#{msgs.etiquetaUnidOrg}" styleClass="negrita"/>
                                        <h:outputText  styleClass="requerido" value="*"/>
                                        <p:inputText id="txtUniOrg" value="#{inventarioAlmacenMB.movimientoAlmacenBean.personalBean.unidadOrganicaBean.nombreUniOrg==null ?'-' :solicitudCajaCHMB.solicitudCajaCHBean.personalBean.unidadOrganicaBean.nombreUniOrg}" readonly="true"/>
                                    </h:panelGrid>
                                    <h:panelGrid columns="5" styleClass="siseFontGrid5" id="pnlSoli2">
                                        <h:outputLabel value="#{msgs.etiquetaSolicitante}" styleClass="negrita"  />
                                        <h:outputText value="*" styleClass="requerido"/>
                                        <p:inputText id="txtSolicitante2" value="#{inventarioAlmacenMB.movimientoAlmacenBean.recibidoPor}" readonly="true"
                                                     label="#{msgs.etiquetaSolicitante}" size="35" onfocus="foco();"/> 
                                        <p:commandLink id="btnBuscarAutoPer2" actionListener="#{inventarioAlmacenMB.settearTipoSoli('respCheque')}" oncomplete="PF('popSoli').show();" 
                                                       process="@this" update=":frmBuscarAutoPer1:pnlFiltro,:frmBuscarAutoPer1:pnlFiltro2,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3" 
                                                       >
                                            <h:graphicImage value="/resources/images/icons/search2.png"   style="border:0; cursor:pointer;"/>
                                        </p:commandLink> 
                                        <h:inputHidden value="#{inventarioAlmacenMB.movimientoAlmacenBean.idRecibido}"/>  
                                    </h:panelGrid> 
                                    <h:panelGrid  columns="3"  cellspacing="5" styleClass="izquierda"> 
                                        <h:outputLabel value="#{msgs.etiquetaMaterial}" class="negrita"  />
                                        <h:outputText value="*" class="requerido"/>
                                        <h:panelGroup styleClass="centrado" >
                                            <p:commandLink id="btnCatalogo"  
                                                           update=":frmCatalogo" oncomplete="PF('popCatalogo').show();" >
                                                <h:graphicImage value="/resources/images/icons/search2.png" style="border:0; cursor:pointer;" />
                                            </p:commandLink>
                                            <p:tooltip id="toolTipPlan" for="btnCatalogo" value="#{msgs.toolTipSelectProveedor}" />
                                        </h:panelGroup> 
                                        <h:outputLabel value="#{msgs.etiquetaFecAcc}" styleClass="negrita" />
                                        <h:outputText value="" styleClass="requerido"/>  
                                        <p:calendar id="txtFecha" value="#{inventarioAlmacenMB.movimientoAlmacenBean.fechaMov}"   
                                                    effect="fold" mask="true" size="10" pattern="#{msgs.etiquetaFormatoFecha}" /> 
                                     </h:panelGrid>  
                                </h:panelGrid>  
                                <h:panelGrid class="centrado" columns="3">
                                    <h:panelGroup id="ss" rendered="#{not empty inventarioAlmacenMB.listaMovimientoAlmacenBean}" > 
                                        <div align="center"> 
                                            <h:commandLink action="#{inventarioAlmacenMB.imprimirTodosPdf()}" target="_blank">

                                                <h:graphicImage value="/resources/images/icons/pdf.png" />
                                            </h:commandLink>
                                        </div>
                                    </h:panelGroup> 
                                    <p:commandButton id="btnGraba" action="#{inventarioAlmacenMB.grabarMovimiento()}"  
                                                     update=":frmDatosMovimientoAlmacen:mey1,:frmDatosMovimientoAlmacen:pnlCatalogoMovimientos,:frmDatosAlmacen:tblInventario,:frmDatosMovimientoAlmacen:ss"
                                                     oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                     value="#{msgs.botonGrabar}">
                                    </p:commandButton>
                                    <p:commandButton id="btnLimpia" action="#{inventarioAlmacenMB.limpiarMovimiento()}" 
                                                     update=":frmDatosMovimientoAlmacen"
                                                     value="#{msgs.botonNuevo}" process="@this">
                                    </p:commandButton>
                                </h:panelGrid> 
                            </p:panel>  
                        </h:panelGrid> 
                        <h:panelGrid id="pnlCatalogoMovimientos" columns="1" styleClass="centrado" >
                            <p:dataTable value="#{inventarioAlmacenMB.listaMovimientoAlmacenBean}" paginator="true"
                                         var="detalle" id="tblCatalogoSelec" rows="6" editable="true"  editMode="cell"
                                         rendered="#{not empty inventarioAlmacenMB.listaMovimientoAlmacenBean}" 
                                         style="width:730px; font-size: 10px;margin-bottom:20px" rowIndexVar="n" > 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaActivoMaterialSelect}" />  
                                </f:facet> 
                                <p:column styleClass="nombre5Filtro"  headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="70"> 
                                    <center><h:outputText value="#{detalle.catalogoBean.idCatalogo}"  style=" font-size: 12px"/></center>
                                </p:column>
                                <p:column  class="nombre2Filtro"  headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="220">
                                    <h:outputText value="#{detalle.catalogoBean.item}"  style=" font-size: 12px"/>
                                </p:column>  
                                <p:column  class="nombre5Filtro" headerText="#{msgs.etiquetaStockAct}" filterMatchMode="contains" width="50">
                                    <h:outputText  id="a" value="#{detalle.inventarioAlmacenBean.stockActual}" styleClass="font-size: 12px" />
                                </p:column>
                                <p:column   class="nombre5Filtro" headerText="#{msgs.etiquetaCant}" filterMatchMode="contains" width="50">
                                    <p:cellEditor>
                                        <f:facet name="output"><center><h:outputText   value="#{detalle.cantidad}" styleClass="centrado" /></center> </f:facet>
                                        <f:facet name="input">
                                            <center>
                                                <p:inputText   value="#{detalle.cantidad}" style=" font-size: 12px;width:115px" styleClass="centrado" >
                                                    <p:ajax event="blur" listener="#{inventarioAlmacenMB.actualizarCantidad(detalle,n)}"
                                                            update=":frmDatosMovimientoAlmacen:tblCatalogoSelec" process="@this"
                                                            oncomplete="if(args.validaStockDisponible){PF('popStockDisponible').show();}"/> 
                                                </p:inputText>
                                            </center></f:facet>
                                    </p:cellEditor>
                                </p:column> 
                                <p:column style="text-align:center;width:60px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdEliminar" action="#{inventarioAlmacenMB.quitarItem(detalle)}" 
                                                   update=":frmDatosMovimientoAlmacen:pnlCatalogoMovimientos" process="@this,:frmDatosMovimientoAlmacen:pnlCatalogoMovimientos">
                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                    </p:commandLink>
                                    <p:tooltip id="toolTipDel" for="cmdEliminar" value="#{msgs.toolTipQuitarItem}" />
                                </p:column>   
                            </p:dataTable>  
                        </h:panelGrid> 
                    </p:dialog>
                </h:form> 
            </div> 
            <h:form id="frmBuscarAutoPer1">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popSoli" resizable="false" modal="true" styleClass="autoWidthDialog" position="top">
                    <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro" >
                        <p:panel toggleable="true" toggleSpeed="500" closeSpeed="500" header="#{msgs.etiquetaFiltros}">
                            <h:panelGrid styleClass="centrado" >
                                <p:selectOneRadio value="#{inventarioAlmacenMB.idTipoSol}" rendered="#{inventarioAlmacenMB.flgSoli==true}">
                                    <p:ajax event="change" listener="#{inventarioAlmacenMB.changeTipo('soli')}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,:frmBuscarAutoPer1:pnlFiltro2"/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaPersonal}" itemValue="COL"/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaPersona}" itemValue='PER'/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaProveedor}" itemValue='PRO'/>
                                </p:selectOneRadio>
                                <p:selectOneRadio value="#{inventarioAlmacenMB.idTipoRespCheque}" rendered="#{inventarioAlmacenMB.flgSoli==false}">
                                    <p:ajax event="change" listener="#{inventarioAlmacenMB.changeTipo('resp')}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,:frmBuscarAutoPer1:pnlFiltro2"/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaPersonal}" itemValue="COL"/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaPersona}" itemValue='PER'/>
                                    <f:selectItem itemLabel="#{msgs.etiquetaProveedor}" itemValue='PRO'/>
                                </p:selectOneRadio>
                            </h:panelGrid>
                            <h:panelGrid id="pnlGeneral" styleClass="centrado" >
                                <h:panelGrid styleClass="centrado" rendered="#{inventarioAlmacenMB.flgFiltroPersonal==true and inventarioAlmacenMB.flgFiltroPersona==false and inventarioAlmacenMB.flgFiltroProve==false}">  
                                    <h:panelGrid columns="2" styleClass="centrado" id="pnlFiltroAutoPer1">
                                        <h:outputLabel value="#{msgs.etiquetaCodigo} " /> 
                                        <p:inputText value="#{legajoMB.personalFiltroBean.codPer}" size="15" maxlength="15"/>

                                        <h:outputLabel value="#{msgs.etiquetaApePat}"/> 
                                        <p:inputText value="#{legajoMB.personalFiltroBean.apepat}" size="28" maxlength="30"/>  

                                        <h:outputLabel value="#{msgs.etiquetaApeMat}"/> 
                                        <p:inputText  value="#{legajoMB.personalFiltroBean.apemat}" size="28" maxlength="30"/>

                                        <h:outputLabel value="#{msgs.etiquetaNombre}"/> 
                                        <p:inputText value="#{legajoMB.personalFiltroBean.nombre}" size="28" maxlength="30"/>  

                                        <h:outputLabel value="#{msgs.etiquetaUniOrg}"/>  
                                        <p:selectOneMenu value="#{legajoMB.personalFiltroBean.unidadOrganicaBean.idUniOrg}"   label="#{msgs.etiquetaUnidOrg}" filter="true" style="width: 275px" panelStyle="width:275px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{legajoMB.listaUniNegUniOrgBean}" var="uo" itemLabel="#{uo.unidadOrganicaBean.nombreUniOrg}" itemValue="#{uo.unidadOrganicaBean.idUniOrg}"/> 
                                        </p:selectOneMenu>
                                    </h:panelGrid> 
                                    <h:panelGrid styleClass="centrado" columns="3">
                                        <p:commandButton id="btnBuscar1" value="#{msgs.botonBuscar}" actionListener="#{legajoMB.obtenerFiltroPersonal()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP" />
                                        <p:commandButton id="btnNuevo1"  value="#{msgs.botonNuevo}"  actionListener="#{legajoMB.limpiarPersonalFiltro()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP"/>
                                        <p:commandButton id="btnCerrar1"  value="#{msgs.botonCerrar}"  oncomplete="PF('popSoli').hide();" />
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid styleClass="centrado" rendered="#{inventarioAlmacenMB.flgFiltroPersona==true and inventarioAlmacenMB.flgFiltroPersonal==false and inventarioAlmacenMB.flgFiltroProve==false}">  
                                    <h:panelGrid columns="2" styleClass="centrado" id="pnlFiltroAutoPer2">
                                        <h:outputLabel value="#{msgs.etiquetaCodigo} " /> 
                                        <p:inputText value="#{personaMB.personaFiltroSolBean.idPersona}" size="15" maxlength="15"/>
                                        <h:outputLabel value="#{msgs.etiquetaApePat}"/> 
                                        <p:inputText value="#{personaMB.personaFiltroSolBean.apepat}" size="28" maxlength="30"/>  
                                        <h:outputLabel value="#{msgs.etiquetaApeMat}"/> 
                                        <p:inputText  value="#{personaMB.personaFiltroSolBean.apemat}" size="28" maxlength="30"/>
                                        <h:outputLabel value="#{msgs.etiquetaNombre}"/> 
                                        <p:inputText value="#{personaMB.personaFiltroSolBean.nombre}" size="28" maxlength="30"/>  
                                    </h:panelGrid>
                                    <h:panelGrid styleClass="centrado" columns="3">
                                        <p:commandButton id="btnBuscar2" value="#{msgs.botonBuscar}" actionListener="#{personaMB.obtenerPersonaFiltroSol()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP" />
                                        <p:commandButton id="btnNuevo2"  value="#{msgs.botonNuevo}"  actionListener="#{personaMB.limpiarPersonaFiltroSol()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP"/>
                                        <p:commandButton id="btnCerrar2"  value="#{msgs.botonCerrar}"  oncomplete="PF('popSoli').hide();" />
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid styleClass="centrado" rendered="#{inventarioAlmacenMB.flgFiltroProve==true and inventarioAlmacenMB.flgFiltroPersona==false and inventarioAlmacenMB.flgFiltroPersonal==false}">  
                                    <h:panelGrid columns="3" styleClass="centrado" id="pnlFiltroAutoPer3">
                                        <h:outputLabel value="#{msgs.etiquetaRuc}"/> 
                                        <p:inputText value="#{entidadMB.entidadFiltroBean.ruc}" size="28" maxlength="30">  
                                        </p:inputText>
                                        <p:link id="cmdEntidadBas" outcome="/configuracion/mantEntidad.xhtml" target="_blank">
                                            <h:graphicImage value="/resources/images/icons/addverde3.png" style="border:0; cursor:pointer;"  width=""/>
                                        </p:link>
                                        <h:outputLabel value="#{msgs.EtiquetaNombre}"/> 
                                        <p:inputText value="#{entidadMB.entidadFiltroBean.nombre}" size="28" maxlength="30">
                                        </p:inputText> 
                                        <p:tooltip value="#{msgs.tolTipAgregarEnt}" for="cmdEntidadBas"/>
                                    </h:panelGrid>
                                    <h:panelGrid styleClass="centrado" columns="3">
                                        <p:commandButton id="btnBuscar3" value="#{msgs.botonBuscar}" actionListener="#{entidadMB.obtenerEntidadPorFiltro()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP"  />
                                        <p:commandButton id="btnNuevo3"  value="#{msgs.botonNuevo}"  actionListener="#{entidadMB.limpiarFiltroEntidad()}" update=":frmBuscarAutoPer1:pnlGeneral,:frmBuscarAutoPer1:pnlTablaAutoPer1,:frmBuscarAutoPer1:pnlTablaAutoPer2,:frmBuscarAutoPer1:pnlTablaAutoPer3,msgP"/>
                                        <p:commandButton id="btnCerrar3"  value="#{msgs.botonCerrar}"  oncomplete="PF('popSoli').hide();" />
                                    </h:panelGrid> 
                                </h:panelGrid>
                            </h:panelGrid> 
                            <p:messages autoUpdate="false" id="msgP" />
                        </p:panel>
                    </h:panelGrid>
                    <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro2" >
                        <h:panelGrid  id="pnlTablaAutoPer1" styleClass="centrado" rendered="#{inventarioAlmacenMB.flgFiltroPersonal==true and inventarioAlmacenMB.flgFiltroPersona==false and inventarioAlmacenMB.flgFiltroProve==false}"> 
                            <p:dataTable id="tblPersonal" value="#{legajoMB.listaPersonalBean}" widgetVar="tblPersonal"
                                         selectionMode="single" 
                                         paginator="true"
                                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10"
                                         selection="#{legajoMB.personalBean}" paginatorPosition="bottom" rowIndexVar="n" 
                                         var="personal" rowKey="#{personal.idPersonal}"  rows="10" 
                                         rendered="#{not empty legajoMB.listaPersonalBean}" 
                                         style="width: 725px;font-size:14px !important;margin-bottom:0"> 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaPersonal}" />  
                                </f:facet>
                                <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="4%" styleClass="siseFontTable3 centrado-texto">
                                    <center>
                                        <h:outputText value="#{n+1}" />
                                    </center>
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{personal.idPersona}" >
                                    <h:outputText value="#{personal.codPer}"/>
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaAbApePaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.apepat}" >
                                    <h:outputText value="#{personal.apepat}" />
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaAAbApeMaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.apemat}">
                                    <h:outputText value="#{personal.apemat}" />
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{personal.nombre}">
                                    <h:outputText value="#{personal.nombre}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px" width="6%" >
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelA1" actionListener="#{legajoMB.ponerPersonaEnMovimientoAlmacen(personal,inventarioAlmacenMB.flgSoli,inventarioAlmacenMB.idTipoSol,inventarioAlmacenMB.idTipoRespCheque)}"
                                                   update=":frmDatosMovimientoAlmacen:txtUniOrg,:frmDatosMovimientoAlmacen:pnlSoli,:frmDatosMovimientoAlmacen:pnlSoli2"
                                                   oncomplete="PF('popSoli').hide();">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd1" for="cmdSelA1" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <h:panelGrid id="pnlTablaAutoPer2" styleClass="centrado" rendered="#{inventarioAlmacenMB.flgFiltroPersona==true and inventarioAlmacenMB.flgFiltroPersonal==false and inventarioAlmacenMB.flgFiltroProve==false}">
                            <p:dataTable id="tblPersona2" value="#{personaMB.listaPersonaFiltroBean}" widgetVar="tblPersona2"
                                         selectionMode="single" 
                                         paginator="true"
                                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10"
                                         paginatorPosition="bottom" rowIndexVar="n" 
                                         var="persona" rowKey="#{persona.idPersona}"  rows="10" 
                                         rendered="#{not empty personaMB.listaPersonaFiltroBean}" 
                                         style="width: 725px;font-size:14px !important;margin-bottom:0">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaPersona}" />  
                                </f:facet>
                                <p:column headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{persona.idPersona}" >
                                    <h:outputText value="#{persona.idPersona}"/>
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaAbApePaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{persona.apepat}" >
                                    <h:outputText value="#{persona.apepat}" />
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaAAbApeMaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{persona.apemat}">
                                    <h:outputText value="#{persona.apemat}" />
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{persona.nombre}">
                                    <h:outputText value="#{persona.nombre}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px" width="6%" >
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelA2" actionListener="#{personaMB.ponerPersonaEnMovimientoAlmacen(persona,inventarioAlmacenMB.flgSoli,inventarioAlmacenMB.idTipoSol,inventarioAlmacenMB.idTipoRespCheque)}"
                                                   update=":frmDatosMovimientoAlmacen:txtUniOrg,:frmDatosMovimientoAlmacen:pnlSoli,:frmDatosMovimientoAlmacen:pnlSoli2"
                                                   oncomplete="PF('popSoli').hide();">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd2" for="cmdSelA2" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <h:panelGrid id="pnlTablaAutoPer3" styleClass="centrado" rendered="#{inventarioAlmacenMB.flgFiltroProve==true and inventarioAlmacenMB.flgFiltroPersonal==false and inventarioAlmacenMB.flgFiltroPersona==false}">
                            <p:dataTable id="tblEntidad" value="#{entidadMB.listaEntidadBean}" widgetVar="tblEntidad"
                                         paginator="true" selectionMode="single" paginatorPosition="bottom"
                                         selection="#{entidadMB.entidadBean}"
                                         var="entidad" rowKey="#{entidad.ruc}"
                                         rows="#{entidadMB.numRegistrosTablas}" 
                                         rendered="#{not empty entidadMB.listaEntidadBean}" 
                                         style="width: #{entidadMB.anchoTablasPopup};font-size:14px !important;"> 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.tituloEntidad}" />  
                                </f:facet>
                                <p:column sortBy="#{entidad.nombre}" headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="20%" styleClass="siseFontTable3 centrado-texto">
                                    <h:outputText value="#{entidad.nombre}"/>
                                </p:column>
                                <p:column sortBy="#{entidad.ruc}" headerText="#{msgs.etiquetaRuc}" filterMatchMode="contains" width="5%" styleClass="siseFontTable3 centrado-texto">
                                    <h:outputText value="#{entidad.ruc}"/>
                                </p:column> 
                                <p:column style="text-align:center;width:60px" width="6%" >
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelA3" actionListener="#{entidadMB.ponerPersonaEnMovimientoAlmacen(entidad,inventarioAlmacenMB.flgSoli,inventarioAlmacenMB.idTipoSol,inventarioAlmacenMB.idTipoRespCheque)}"
                                                   update=":frmDatosMovimientoAlmacen:txtUniOrg,:frmDatosMovimientoAlmacen:pnlSoli,:frmDatosMovimientoAlmacen:pnlSoli2"
                                                   oncomplete="PF('popSoli').hide();">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd3" for="cmdSelA3" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable> 
                        </h:panelGrid>
                    </h:panelGrid>
                </p:dialog>
            </h:form>  
            <h:form id="frmCatalogo" styleClass="center_content">
                <h:panelGrid  columns="1" styleClass="centrado">
                    <p:dialog header="#{msgs.appCatalogo}" widgetVar="popCatalogo" showEffect="fade" hideEffect="explode"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false">
                        <h:panelGrid id="pnlCatalogo" columns="1" styleClass="centrado">
                            <p:dataTable value="#{inventarioAlmacenMB.listaInventarioAlmacenBean}" paginator="true" 
                                         var="inv" id="tblCatalogo" widgetVar="tblCatalogo"
                                         rowKey="#{inv.idAlmacen}" rows="12"
                                         rendered="#{not empty inventarioAlmacenMB.listaInventarioAlmacenBean}" 
                                         style="width:550px; font-size: 12px" > 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaNroAlm}" />  
                                </f:facet>
                                <p:column filterBy="#{inv.nroAlmacen}" class="nodmbre2Filtro"  headerText="#{msgs.etiquetaNroAlm}" filterMatchMode="contains" width="20%" sortBy="#{inv.nroAlmacen}">
                                    <h:outputText value="#{inv.nroAlmacen}"/>
                                </p:column>
                                <p:column filterBy="#{inv.catalogoBean.idCatalogo}" class="nodmbre2Filtro"  headerText="#{msgs.EtiquetaCodigo}" filterMatchMode="contains" width="20%" sortBy="#{inv.catalogoBean.idCatalogo}">
                                    <h:outputText value="#{inv.catalogoBean.idCatalogo}"/>
                                </p:column>
                                <p:column filterBy="#{inv.catalogoBean.item}" class="nombre2Filtro"  headerText="#{msgs.etiquetaCatalogo}" filterMatchMode="contains" width="70%" sortBy="#{inv.catalogoBean.item}" >
                                    <h:outputText value="#{inv.catalogoBean.item}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdAdd" actionListener="#{inventarioAlmacenMB.agregarItems(inv)}" 
                                                   update=":frmDatosMovimientoAlmacen:pnlCatalogoMovimientos"
                                                   oncomplete="if(args.operacionCorrecta){PF('popDone').show();}">
                                        <h:graphicImage value="/resources/images/icons/agregar.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd" for="cmdAdd" value="#{msgs.toolTipAgregar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <p:separator/>
                        <div align="center">
                            <p:commandButton oncomplete="PF('popCatalogo').hide();" 
                                             value="#{msgs.botonCerrar}" >
                            </p:commandButton>
                        </div>
                    </p:dialog>
                </h:panelGrid> 
            </h:form>
            <h:form id="frmCatalogo2" styleClass="center_content">
                <h:panelGrid  columns="1" styleClass="centrado">
                    <p:dialog header="#{msgs.appCatalogo}" widgetVar="popCatalogo2" showEffect="fade" hideEffect="explode"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false">
                        <h:panelGrid id="pnlCatalogo2" columns="1" styleClass="centrado">
                            <p:dataTable value="#{inventarioAlmacenMB.listaCatalogoBean}" paginator="true" 
                                         var="catalogo" id="tblCatalogo2" widgetVar="tblCatalogo2"
                                         rowKey="#{catalogo.idCatalogo}" rows="12"
                                         rendered="#{not empty inventarioAlmacenMB.listaCatalogoBean}" 
                                         style="width:550px; font-size: 12px" > 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaCatalogo}" />  
                                </f:facet>
                                <p:column filterBy="#{catalogo.idCatalogo}" class="nodmbre2Filtro"  headerText="#{msgs.EtiquetaCodigo}" filterMatchMode="contains" width="20%" >
                                    <h:outputText value="#{catalogo.idCatalogo}"/>
                                </p:column>
                                <p:column filterBy="#{catalogo.item}" class="nombre2Filtro"  headerText="#{msgs.etiquetaCatalogo}" filterMatchMode="contains" width="70%" >
                                    <h:outputText value="#{catalogo.item}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdAdd" actionListener="#{inventarioAlmacenMB.agregar(catalogo)}" 
                                                   update="  :frmDatosInventarioAlmacen:catitem"
                                                   oncomplete="PF('popCatalogo2').hide();">
                                        <h:graphicImage value="/resources/images/icons/agregar.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd" for="cmdAdd" value="#{msgs.toolTipAgregar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <p:separator/>
                        <div align="center">
                            <p:commandButton oncomplete="PF('popCatalogo2').hide();" 
                                             value="#{msgs.botonCerrar}" >
                            </p:commandButton>
                        </div>
                    </p:dialog>
                </h:panelGrid> 
            </h:form>
            <h:form id="frmProveedor" styleClass="center_content">
                <h:panelGrid  columns="1" styleClass="centrado">
                    <p:dialog header="#{msgs.appProveedor}" widgetVar="popProveedor" showEffect="fade" hideEffect="explode"
                              modal="true" styleClass="autoWidthDialog" position="top" resizable="false">
                        <h:panelGrid id="pnlProveedor" columns="1" styleClass="centrado">
                            <p:dataTable value="#{inventarioAlmacenMB.listaEntidadBean}" paginator="true" 
                                         var="entidad" id="tblProveedor" widgetVar="tblProveedor"
                                         rowKey="#{entidad.ruc}" rows="12"
                                         rendered="#{not empty inventarioAlmacenMB.listaEntidadBean}" 
                                         style="width:600px; font-size: 12px" > 
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.etiquetaProveedor}" />  
                                </f:facet>
                                <p:column filterBy="#{entidad.nombre}" class="nombre2Filtro"  headerText="#{msgs.etiquetaProveedor}" filterMatchMode="contains" width="70%" >
                                    <h:outputText value="#{entidad.nombre}"/>
                                </p:column>
                                <p:column style="text-align:center;width:60px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdSelecProveedor" actionListener="#{inventarioAlmacenMB.obtenerEntidadPorId(entidad)}" 
                                                   update=":frmDatosInventarioAlmacen:proveedor,:frmDatosAlmacen:pnlTablaProveedor"
                                                   oncomplete="PF('popProveedor').hide();" process="@this">
                                        <h:graphicImage value="/resources/images/icons/select.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTip" for="cmdSelecProveedor" value="#{msgs.toolTipSeleccionar}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                        <p:separator/>
                        <div align="center">
                            <p:commandButton oncomplete="PF('popProveedor').hide();" 
                                             value="#{msgs.botonCerrar}" >
                            </p:commandButton>
                        </div>
                    </p:dialog>
                </h:panelGrid>
            </h:form>

            <p:dialog id="popColorAlmacen" header="#{msgs.appSiglas}"  widgetVar="popColorAlmacen" showEffect="fade" hideEffect="explode"
                      modal="true" styleClass="autoWidthDialog" position="top" resizable="false" closeOnEscape="true" >
                <h:form id="tblColor" >
                    <h:panelGrid id="pnlcolor" >
                        <p:dataTable value="#{inventarioAlmacenMB.listaColorAlmacen}" paginator="true" 
                                     var="color" id="tblColor" widgetVar="tblColor"
                                     rows="12" paginatorPosition="bottom"
                                     rendered="#{not empty inventarioAlmacenMB.listaColorAlmacen}" 
                                     style="width:300px; font-size: 12px" >
                            <p:column class="nombre2Filtro"  headerText="#{msgs.etiquetaNroAlm}" width="7%" >
                                <center>
                                    <h:outputText value="#{color.nroAlmacen}" style="text-align: center;" />
                                </center>
                            </p:column>
                            <p:column class="nombre2Filtro" headerText="#{msgs.etiquetaColor}" style="background-color: \##{color.color}" width="7%" >
                                <h:outputText style="background-color: \##{color.color}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaAcciones}" style="text-align:center;" width="10%">
                                <p:commandLink id="cmdSelecColor" actionListener="#{inventarioAlmacenMB.setearColor(color)}" 
                                               update=":frmDatosInventarioAlmacen:txtNroAlmacen,:frmDatosInventarioAlmacen:txtColor"
                                               oncomplete="PF('popColorAlmacen').hide();" process="@this">
                                    <h:graphicImage value="/resources/images/icons/select.png" style="border:0; cursor:pointer;"/>
                                </p:commandLink>
                                <p:tooltip id="toolTipColor" for="cmdSelecColor" value="#{msgs.toolTipSeleccionar}" />
                            </p:column>
                        </p:dataTable> 
                    </h:panelGrid>
                </h:form>
            </p:dialog>

            <h:form>
                <p:dialog header="#{msgs.appSiglas}" widgetVar="popDone" width="370" height="120" showEffect="fade" hideEffect="explode"
                          modal="true">
                    <h:graphicImage value="/resources/images/icons/iconoInfo.png" />
                    <h:outputText value="#{msgs.notificacionExito}"/>
                    <br/><br/>
                    <div align="center">
                        <p:commandButton oncomplete="PF('popDone').hide();" 
                                         value="#{msgs.botonCerrar}" >
                        </p:commandButton>
                    </div>
                </p:dialog>
            </h:form>
            <h:form>
                <p:dialog header="#{msgs.appSiglas}" widgetVar="popStockDisponible" width="370" height="120" showEffect="fade" hideEffect="explode"
                          modal="true">
                    <h:graphicImage value="/resources/images/icons/iconoInfo.png" />
                    <h:outputText value="#{msgs.msjDespacho}"/>
                    <br/><br/>
                    <div align="center">
                        <p:commandButton oncomplete="PF('popStockDisponible').hide();" 
                                         value="#{msgs.botonAceptar}" >
                        </p:commandButton>
                    </div>
                </p:dialog>
            </h:form>
        </h:body>
    </ui:define>
</ui:composition>
