<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui" 
                template="/plantilla/plantillaPrincipal.xhtml" 
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:define name="content">
        <h:body>
            <p:layout style="width:1800px;height:750px" fullPage="false" styleClass="centrado">
                <p:layoutUnit id="pnlBuscadorPost" position="west" size="765" header="#{msgs.etiquetaBuscadorBanco}" resizable="false" closable="false" collapsible="true" effect="drop" collapsed="#{procesoBancoMB.mostrarLayoutPrincipal}" effectSpeed="500" >
                    <h:form id="frmProceso" > 
                        <p:panel header="#{msgs.etiquetaFiltro}" >
                            <h:panelGrid id="pnlProceso" columns="1" styleClass="centrado" >
                                <h:panelGrid columns="1" styleClass="centrado" >
                                    <h:panelGrid columns="4" styleClass="centrado" >
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaProceso}: " />
                                        <p:outputLabel value="" /> 
                                        <p:selectOneRadio id="txtProcesoSel" value="#{procesoBancoMB.procesoBancoFiltroBean.flgProceso}"  layout="grid" columns="3">
                                            <f:selectItem value="#{null}" itemLabel="#{msgs.etiquetaAmbos}" noSelectionOption="true"/>
                                            <f:selectItems value="#{procesoBancoMB.listaProcesos}"/>
                                        </p:selectOneRadio> 
                                        <p:message for="txtProcesoSel" />
                                    </h:panelGrid>
                                    <h:panelGrid columns="12" styleClass="centrado" rendered="false" >
                                        <p:outputLabel value="#{msgs.etiquetaAnio}: " />
                                        <p:outputLabel value="" /> 
                                        <p:spinner id="cboAnio" value="#{procesoBancoMB.procesoBancoFiltroBean.anio}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaAnio}" size="1">
                                        </p:spinner> 
                                        <p:message for="cboAnio" />
                                        <p:outputLabel value="#{msgs.etiquetaMes}: " />
                                        <p:outputLabel value="" />
                                        <p:selectOneMenu id="txtMesPro" effect="fold" value="#{procesoBancoMB.procesoBancoFiltroBean.mes}"  class="resetSelect" style="width:150px" panelStyle="width:125px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{procesoBancoMB.listaMeses}"/>
                                        </p:selectOneMenu>
                                        <p:message for="txtMesPro" />
                                        <p:outputLabel value="#{msgs.etiquetaDia}: " />
                                        <p:outputLabel value="" /> 
                                        <p:spinner id="txtDia" value="#{procesoBancoMB.procesoBancoFiltroBean.dia}" min="1" max="31" label="#{msgs.etiquetaDia}" size="1">
                                        </p:spinner>
                                        <p:message for="txtDia" />
                                    </h:panelGrid>
                                    <h:panelGrid columns="4" styleClass="centrado" >
                                        <h:outputLabel value="#{msgs.etiquetaFechaInicio}:" class="negrita siseFontGrid5"/>  
                                        <p:calendar  value="#{procesoBancoMB.procesoBancoFiltroBean.fechaInicio}"  label="#{msgs.etiquetaFechaInicio}" mode="popup" size="10"
                                                     pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                        </p:calendar>
                                        <h:outputLabel value="#{msgs.etiquetaFechaFin}:" class="negrita siseFontGrid5"/>  
                                        <p:calendar  value="#{procesoBancoMB.procesoBancoFiltroBean.fechaFin}"  label="#{msgs.etiquetaFechaFin}" mode="popup" size="10"
                                                     pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                        </p:calendar>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid columns="3" style="margin: 0 auto;padding: 5px;" >
                                    <p:commandButton value="#{msgs.botonBuscar}" actionListener="#{procesoBancoMB.obtenerFiltroProceso()}"
                                                     update=":frmTblproceso:pnlTblproceso,:frmProceso,:frmNuevoProceso,:frmProceso:msgProc" />
                                    <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{procesoBancoMB.limpiarFiltroBanco()}"
                                                     update=":frmProceso:pnlProceso,:frmTblproceso:pnlTblproceso,:frmPopBanco:pnlPopBanco,:frmNuevoProceso" />
                                    <p:commandButton value="#{msgs.botonNuevo} #{msgs.etiquetaProceso}" oncomplete="PF('popNvoProceso').show();" />
                                </h:panelGrid> 
                            </h:panelGrid>
                            <h:panelGrid style="margin: 0 auto;" >
                                <p:messages autoUpdate="false" id="msgProc" closable="true" style="width: 350px;" />
                            </h:panelGrid>
                        </p:panel>
                    </h:form>
                    <!--msgs--> 
                    <h:form id="frmTblproceso" >
                        <h:panelGrid id="pnlTblproceso" style="margin: 0 auto" > 
                            <p:panel header="#{msgs.etiquetaResumen}" footer="#{msgs.etiquetaFooResumen}" style="margin-bottom:20px;background-color: #dddddd;color: #000000;width: 700px;font-size: 150px;margin: 0 auto;" rendered="#{empty procesoBancoMB.listaProcesoBancoFiltroBean}">
                                <p:outputLabel value="#{msgs.etiquetaResumenBusqueda}" rendered="#{empty procesoBancoMB.listaProcesoBancoFiltroBean}" />
                            </p:panel> 
                            <p:dataTable value="#{procesoBancoMB.listaProcesoBancoFiltroBean}" var="proceso"
                                         paginator="true" selection="#{procesoBancoMB.procesoBancoBean.idProcesoBanco}"
                                         rendered="#{not empty procesoBancoMB.listaProcesoBancoFiltroBean}" paginatorPosition="bottom"
                                         rows="#{procesoBancoMB.numRegistrosTablas}" id="tblProceso" rowKey="#{proceso}"  
                                         style="width: 750px;font-size:14px !important">
                                <p:ajax event="rowSelect" listener="#{procesoBancoMB.rowSelect}" update=":frmProceso:pnlProceso" process="@this" />
                                <f:facet name="header" >
                                    <!--p:outputLabel value="#{msgs.etiquetaArchivosProc}" /-->
                                    <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                </f:facet>
                                <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" >
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaProceso}"  />
                                    </f:facet>
                                    <h:outputText value="#{proceso.nombre}" />
                                </p:column>
                                <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" >
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaAnio}" />
                                    </f:facet>
                                    <h:outputText value="#{proceso.anio}" />
                                </p:column>
                                <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" >
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaMes}" />
                                    </f:facet>
                                    <h:outputText value="#{proceso.idMes}" />
                                </p:column> 
                                <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" >
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaBanco}" />
                                    </f:facet>
                                    <h:outputText value="#{proceso.entidadBean.nombre}" />
                                </p:column> 
                                <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto">
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaMonto}" />
                                    </f:facet>
                                    <h:outputText value="#{proceso.montoRecup}" rendered="#{proceso.flgProceso == 0}" />
                                    <h:outputText value="#{proceso.montoEnv}" rendered="#{proceso.flgProceso == 1}" />
                                </p:column>     
                                <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" >
                                    <f:facet name="header">
                                        <p:outputLabel value="#{msgs.etiquetaFecha}" />
                                    </f:facet>
                                    <h:outputText value="#{proceso.fecha}" >
                                        <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column colspan="2" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" > 
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaAcciones}" />
                                    </f:facet> 
                                    <p:commandButton action="#{procesoBancoMB.obtenerProcesoEnvioPorId2(proceso)}"  title="Ver"  icon="ui-icon-search" process="@this"
                                                     update=":frmPopBanco:pnlPopBanco,:frmPopBanco,:tabConfig:frmCustomFile,:tabConfig:frmCustomFile:pnlCarCustom,:tabConfig:frmCustomFileCab:pnlCarCustomCab" > 
                                    </p:commandButton><!--  oncomplete="PF('popBanco').show()" -->
                                    &nbsp;&nbsp;&nbsp;
                                    <p:commandLink id="cmdEliminarCod" actionListener="#{procesoBancoMB.obtenerProcesoEnvioPorId(proceso)}" 
                                                   update=":frmPopBanco:pnlPopBanco,:frmPopBanco,:frmElimina,:frmProceso:pnlProceso"
                                                   oncomplete="PF('popEliminar').show();" process="@this">
                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                    </p:commandLink> 
                                    <p:tooltip  for="cmdEliminarCod" value="#{msgs.mensajeDelPro}" />
                                </p:column>
                            </p:dataTable>  
                        </h:panelGrid>
                    </h:form>
                </p:layoutUnit>
                <p:layoutUnit position="center">  
                    <h:form id="frmPopBanco"> 
                        <h:panelGrid id="pnlPopBanco" style="margin:0 auto;" >
                            <p:outputPanel id="fileDetail" style="text-align:center;">
                                <p:panel header="#{msgs.etiquetaProceso}" style="width: 720px;margin: 0 auto" >
                                    <h:panelGrid columns="2" style="margin: 0 auto" > 
                                        <h:panelGrid columns="2" style="margin: 0 auto">
                                            <p:outputLabel value="#{msgs.etiquetaUnidNeg}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.unidadNegocioBean.nombreUniNeg}" readonly="true" style="text-align:center;" />
                                        </h:panelGrid>
                                        <h:panelGrid columns="2" style="margin: 0 auto">
                                            <p:outputLabel value="#{msgs.numero} Operacion" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.operacion}" readonly="true" style="text-align:center;" />
                                        </h:panelGrid> 
                                    </h:panelGrid>
                                </p:panel>
                                <p:panel style="width: 720px;margin: 0 auto" >
                                    <f:facet name="header">
                                        <h:outputLabel value="#{msgs.etiquetaDetalleProceso}" /> 
                                        <p:commandLink id="cmdSolError" style="float: left;" rendered="#{procesoBancoMB.error != 0}" update=":frmFail:pnlFail,:frmTblFallo:pnlProcesoFallo"
                                                       oncomplete="PF('popFail').show();" actionListener="#{procesoBancoMB.obtenerProcesoError()}"> 
                                            <h:graphicImage width="15" height="15" value="/resources/images/icons/warn.png" alt="sol"/>
                                        </p:commandLink> 
                                        <p:tooltip value="Ver Error" for="cmdSolError"/>
                                    </f:facet> 
                                    <p:panelGrid  columns="2" rendered="#{not empty procesoBancoMB.procesoBanco}" columnClasses="label,value" style="margin: 0 auto;" >
                                        <h:panelGrid columns="2">
                                            <p:outputLabel value="#{msgs.etiquetaAnio}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.anio}" readonly="true" style="text-align:center;" />
                                            <p:outputLabel value="#{msgs.etiquetaProceso}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.nombre}" readonly="true" style="text-align:center;" />
                                            <p:outputLabel value="#{msgs.etiquetaBanco}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.entidadBean.nombre}" readonly="true" style="text-align:center;" />
                                            <p:outputLabel value="#{msgs.etiquetaCuentaContable}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.cuentaBancoBean.numCuenta}" readonly="true" style="text-align:center;" />
                                            <p:outputLabel value="#{msgs.etiquetaMoneda}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.idMoneda}" readonly="true" style="text-align:center;" />
                                        </h:panelGrid>
                                        <h:panelGrid columns="2" >
                                            <p:outputLabel value="#{msgs.etiquetaFecha}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.creaFecha}" readonly="true" style="text-align:center;" >
                                                <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                                            </p:inputText>
                                            <p:outputLabel value="#{msgs.etiquetaRegProc}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.regEnv}" readonly="true" style="text-align:center;" />
                                            <p:outputLabel value="#{msgs.etiquetaRegError}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.regError}" readonly="true" style="text-align:center;" >
                                            </p:inputText>
                                            <p:outputLabel value="#{msgs.etiquetaMontoEnv}" rendered="#{not empty procesoBancoMB.listaProcesoEnvioFiltroBean}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.montoEnv}" readonly="true" style="text-align:center;" rendered="#{not empty procesoBancoMB.listaProcesoEnvioFiltroBean}" >
                                                <f:convertNumber pattern="#0.00" />
                                            </p:inputText>
                                            <p:outputLabel value="#{msgs.etiquetaMontoRec}" rendered="#{not empty procesoBancoMB.listaProRec}" />
                                            <p:inputText value="#{procesoBancoMB.procesoBancoBean.montoRecup}" readonly="true" style="text-align:center;" rendered="#{not empty procesoBancoMB.listaProRec}" >
                                                <f:convertNumber pattern="#0.00" />
                                            </p:inputText>
                                        </h:panelGrid>
                                    </p:panelGrid>
                                </p:panel>
                                <p:accordionPanel id="accProcEnvio" rendered="#{not empty procesoBancoMB.listaProcesoEnvioFiltroBean}"  >
                                    <p:tab title="#{msgs.datosEnviados}" > 
                                        <h:panelGrid id="pnlTblPopBanco" style="margin: 0 auto" > 
                                            <p:growl id="msgsss" showDetail="true"/>
                                            <p:dataTable value="#{procesoBancoMB.listaProcesoEnvioFiltroBean}" var="procesos" paginatorPosition="bottom"
                                                         paginator="true" selection="#{procesoBancoMB.procesoEnvioBean}" editable="true"
                                                         rows="#{procesoBancoMB.numRegistrosTablas}" id="tblProceso" rowKey="#{procesos}" 
                                                         style=" font-size: 12px;width: 1500px;font-size: 12px;" rendered="#{not empty procesoBancoMB.listaProcesoEnvioFiltroBean }">
                                                <p:ajax event="rowEdit" listener="#{procesoBancoMB.onRowEdit}" update=":frmPopBanco:accProcEnvio:msgsss" />
                                                <p:ajax event="rowEditCancel" listener="#{procesoBancoMB.onRowCancel}" update=":frmPopBanco:accProcEnvio:msgsss" />
                                                <f:facet name="header" >
                                                    <p:commandLink id="cmdConfig" style="float: left;" oncomplete="PF('popConfig').show()" actionListener="#{procesoBancoMB.obtenerDisabled()}"
                                                                   update=":tabConfig:frmCustomFile:pnlCarCustom,:tabConfig:frmCustomFileCab:pnlCarCustomCab,
                                                                   :tabConfig:frmCustomFile,:tabConfig">
                                                        <h:graphicImage value="/resources/images/icons/config.png" style="border:0;cursor:pointer;width:16px;height:16px;" />
                                                    </p:commandLink>
                                                    <p:outputLabel value="#{msgs.etiquetaProceso}" />
                                                    <p:tooltip value="#{msgs.etiquetaConfigurar}" for="cmdConfig" />
                                                </f:facet>
                                                <p:column filterBy="#{procesos.procesoBancoBean.nombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="#{msgs.etiquetaProcesoBancario}" />
                                                    </f:facet>
                                                    <h:outputText value="#{procesos.procesoBancoBean.nombre}" />
                                                    <h:inputHidden value="#{procesos.procesoBancoBean.idProcesoBanco}" />
                                                    <h:inputHidden value="#{procesos.idProcesoEnvio}" />
                                                </p:column>
                                                <p:column filterBy="#{procesos.idDiscente.personaBean.idPersona}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="#{msgs.EtiquetaCodigo}" />
                                                    </f:facet>
                                                    <h:outputText value="#{procesos.idDiscente.personaBean.idPersona}" />
                                                </p:column>
                                                <p:column filterBy="#{procesos.idDiscente.personaBean.apepat}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="#{msgs.etiquetaApePat}" />
                                                    </f:facet>
                                                    <h:outputText value="#{procesos.idDiscente.personaBean.apepat}" />
                                                </p:column>
                                                <p:column filterBy="#{procesos.idDiscente.personaBean.apemat}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <f:facet name="header"  >
                                                        <p:outputLabel value="#{msgs.etiquetaApeMat}" />
                                                    </f:facet>
                                                    <h:outputText value="#{procesos.idDiscente.personaBean.apemat}" />
                                                </p:column>
                                                <p:column filterBy="#{procesos.idDiscente.personaBean.nombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="#{msgs.etiquetaNombre}" />
                                                    </f:facet>
                                                    <h:outputText value="#{procesos.idDiscente.personaBean.nombre}" />
                                                </p:column>
                                                <p:column headerText="#{msgs.etiquetaMontoPagado}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <h:outputText value="#{procesos.cuentasPorCobrarBean.montoPagado}">
                                                        <f:convertNumber pattern="#0.00" />
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="#{msgs.etiquetaMontoPagar}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <h:outputText value="#{procesos.cuentasPorCobrarBean.montoAPagar}"  >
                                                        <f:convertNumber pattern="#0.00" />
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="#{msgs.etiquetaTotal}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <h:outputText value="#{procesos.cuentasPorCobrarBean.monto}" >
                                                        <f:convertNumber pattern="#0.00" />
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="#{msgs.etiquetaConcepto}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <h:outputText value="#{procesos.cuentasPorCobrarBean.conceptoBean.nombre}" />
                                                </p:column>
                                                <p:column headerText="#{msgs.etiquetaStatusEnvio}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                                    <h:outputText value="#{procesos.statusEnvio}" />
                                                </p:column>
                                                <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto" >
                                                    <h:outputText value="#{procesos.mes}" />
                                                </p:column>
                                                <p:column headerText="#{msgs.etiquetaStatus}" filterMatchMode="contains" width="2%" styleClass="nombre3Filtro siseFontTable3" >
                                                    <center>
                                                        <f:facet name="header" >
                                                            <p:selectBooleanCheckbox value="#{procesoBancoMB.valFlgEnvio}"> 
                                                                <p:ajax event="change" listener="#{procesoBancoMB.cambiarValFlgEnvio}" update=":frmPopBanco:accProcEnvio:tblProceso"/>
                                                            </p:selectBooleanCheckbox>
                                                        </f:facet>
                                                        <p:cellEditor>
                                                            <f:facet name="output">
                                                                <p:selectBooleanCheckbox value="#{procesos.flgEnvio}"/>
                                                            </f:facet>
                                                            <f:facet name="input" >
                                                                <p:selectBooleanCheckbox value="#{procesos.flgEnvio}"/>
                                                            </f:facet>
                                                        </p:cellEditor>
                                                    </center>
                                                </p:column>
                                                <!--<p:column headerText="#{msgs.etiquetaTipoReg}" filterMatchMode="contains" width="80" styleClass="nombre3Filtro siseFontTable3" >
                                                    <center>
                                                        <p:cellEditor>
                                                            <f:facet name="output">
                                                                <h:outputText value="#{procesos.tipoRegistro}"/>
                                                            </f:facet>
                                                            <f:facet name="input" >
                                                                <h:selectOneMenu value="#{procesos.tipoRegistro}" style="width:125px">
                                                                    <f:selectItem itemLabel="Selleccionar" itemValue="#{null}" />
                                                                    <f:selectItem itemLabel="Modificar" itemValue="M" />
                                                                    <f:selectItem itemLabel="Eliminar" itemValue="E" />
                                                                </h:selectOneMenu>
                                                            </f:facet>
                                                        </p:cellEditor>
                                                    </center>
                                                </p:column>-->
                                                <p:column styleClass="ui-editable-column-options" width="20">
                                                    <p:rowEditor/>
                                                </p:column>
                                            </p:dataTable>
                                        </h:panelGrid>
                                    </p:tab>
                                </p:accordionPanel> 
                                <p:accordionPanel id="accProcRec" rendered="#{not empty procesoBancoMB.listaProRec}" > 
                                    <p:tab title="Datos Recuperados" >
                                        <h:panelGrid id="pnlProcRec">
                                            <p:dataTable value="#{procesoBancoMB.listaProRec}" paginator="true" 
                                                         var="rec" id="tblRec" selection="#{procesoBancoMB.procesoRecuperacionBean}"
                                                         rows="5" rowKey="#{rec}" paginatorPosition="bottom"
                                                         rendered="#{not empty procesoBancoMB.listaProRec}"
                                                         scrollable="true"
                                                         style="width: 1500px; overflow-x: auto;font-size:14px !important;">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaProceso}" />
                                                </f:facet>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaUniNeg}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.unidadNegocioBean.nombreUniNeg}" />
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaCodigo}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.estudianteBean.idEstudiante}" />
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaNombre}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.estudianteBean.personaBean.nombreCompleto}" style="font-size: 13px;" />
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaMonto}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.monto}" />
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaMora}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.mora}" >
                                                        <f:convertNumber pattern="#0.00" />
                                                    </h:outputText>
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaTotal}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.montoRecup}" >
                                                        <f:convertNumber pattern="#0.00" />
                                                    </h:outputText>
                                                </p:column>
                                                <!--<p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaCuenta}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.cuentaAfiliada}" />
                                                </p:column>-->
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaNumOpe}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.numOperacion}" />
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaFecha}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.creaFecha}">
                                                        <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaFechaPago}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.fechaPago}">
                                                        <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header">
                                                        <p:outputLabel value="#{msgs.etiquetaMes}" />
                                                    </f:facet>
                                                    <h:outputText value="#{rec.datoPension}" />
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="Conciliacion" />
                                                    </f:facet>
                                                    <center>
                                                        <h:outputText value="#{rec.concilia}" style="font-size: 14px;color: #1D1C1C" />
                                                    </center>
                                                </p:column>
                                                <p:column>
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="Deuda" />
                                                    </f:facet>
                                                    <center>
                                                        <h:outputText value="#{rec.total}"/>
                                                    </center>
                                                </p:column>
                                            </p:dataTable>
                                        </h:panelGrid>
                                    </p:tab>
                                </p:accordionPanel>
                                <h:panelGrid columns="1" style="margin: 0 auto;" rendered="false">   
                                    <p:panelGrid columns="21" style="margin: 0 auto;">
                                        <f:facet name="header" rendered="#{not empty procesoBancoMB.listaProBancos}" >
                                            <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                        </f:facet>
                                        <c:forEach var="type" items="${procesoBancoMB.listaProBancos}">
                                            <c:forEach var="i" begin="0" end="#{procesoBancoMB.filas}" >  
                                                <p:column headerText="Col #{i+1}" >
                                                    <h:outputText value="${type.listaContenedor.get(i).getValor()}" />
                                                </p:column>
                                            </c:forEach> 
                                        </c:forEach>
                                    </p:panelGrid> 
                                </h:panelGrid>
                                <h:panelGrid columns="1" styleClass="centrado">
                                    <h:panelGrid columns="1" styleClass="centrado">
                                        <p:dataTable value="#{procesoBancoMB.listaProEnvios}" var="fila"
                                                     rendered="#{not empty procesoBancoMB.listaProEnvios}"
                                                     paginator="true" paginatorPosition="bottom" rows="10" id="tblTableRecursiveFiltro"
                                                     style="width: 1500px; overflow-x: auto;font-size:14px !important;">
                                            <f:facet name="header" >
                                                <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                            </f:facet>
                                            <c:forEach var="i" begin="0" end="#{procesoBancoMB.filas - 1}" >
                                                <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable2 centrado-texto">
                                                    <f:facet name="header">
                                                        <h:outputText value="Data #{i+1}"/>
                                                    </f:facet>
                                                    <h:outputText value="#{fila.listaContenedor.get(i).getValor()}"/>
                                                </p:column>
                                            </c:forEach>
                                        </p:dataTable>
                                    </h:panelGrid>
                                    <h:panelGrid columns="5" styleClass="centrado-izq" rendered="#{not empty procesoBancoMB.listaProEnvios and procesoBancoMB.procesoBancoBean.flgProceso == 1}" >
                                        <p:outputLabel value="#{msgs.botonDescargar}: " />
                                        <h:commandLink id="excelXlsx" style="float: left;" >
                                            <h:graphicImage value="/resources/images/icons/exportarexcel.png" />
                                            <p:dataExporter type="xls" target=":frmPopBanco:tblTableRecursiveFiltro" fileName="Envio" postProcessor="#{procesoBancoMB.postXls}" />
                                        </h:commandLink>
                                        <p:tooltip for="excelXlsx" value="#{msgs.etiquetaExportar} Excel" />
                                        <h:commandLink id="excelFile" style="float: left;" onclick="PrimeFaces.monitorDownload(start, stop);"
                                                       actionListener="#{procesoBancoMB.mostrarFilesEnvio()}">
                                            <h:graphicImage value="/resources/images/icons/exportartexto.png" />
                                            <p:fileDownload value="#{procesoBancoMB.content}" />
                                        </h:commandLink>
                                        <p:tooltip for="excelFile" value="#{msgs.etiquetaExportar} Texto" />
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid columns="21" styleClass="centrado">   
                                    <p:dataTable value="#{procesoBancoMB.listaProBancos}" var="fila"
                                                 rendered="#{not empty procesoBancoMB.listaProBancos}"
                                                 paginator="true" paginatorPosition="bottom" rows="10"
                                                 style="width: 1500px; overflow-x: auto;font-size:14px !important;">
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                        </f:facet>
                                        <c:forEach var="i" begin="0" end="19" >
                                            <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable2 centrado-texto">
                                                <f:facet name="header">
                                                    <h:outputText value="Data #{i+1}"/>
                                                </f:facet>
                                                <h:outputText value="#{fila.listaContenedor.get(i).getValor()}"/>
                                            </p:column>
                                        </c:forEach>  
                                    </p:dataTable>
                                </h:panelGrid>
                                <h:panelGrid id="btnDesc" columns="2" style="margin: 0 auto;"> 
                                    <h:panelGrid>
                                        <h:commandLink id="pdfEnvio" action="#{procesoBancoMB.imprimirEnvioPdf()}" target="_blank" rendered="#{not empty procesoBancoMB.listaProcesoEnvioFiltroBean}">
                                            <h:graphicImage value="/resources/images/icons/pdf.png" alt="Pdf" />
                                        </h:commandLink>
                                        <p:tooltip for="pdfEnvio" value="#{msgs.etiquetaImprimir}" />
                                    </h:panelGrid>
                                    <h:panelGrid>
                                        <h:commandLink id="pdfRecup" action="#{procesoBancoMB.imprimirRecupPdf()}" target="_blank" rendered="#{not empty procesoBancoMB.listaProRec}">
                                            <h:graphicImage value="/resources/images/icons/pdf.png" alt="Pdf" />
                                        </h:commandLink>
                                        <p:tooltip for="pdfRecup" value="#{msgs.etiquetaImprimir}" />
                                    </h:panelGrid>
                                </h:panelGrid>
                            </p:outputPanel>
                        </h:panelGrid>
                    </h:form>  
                </p:layoutUnit>
            </p:layout>

            <p:dialog id="popNvoProceso" header="#{msgs.appSiglas}" widgetVar="popNvoProceso" modal="true" showEffect="explode" closeOnEscape="true" >
                <h:form id="frmNuevoProceso" >
                    <h:panelGrid columns="1" styleClass="centrado" >
                        <h:panelGrid columns="2" styleClass="centrado" style="padding: 5px;" >
                            <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                            <h:outputText value="#{msgs.etiquetaSelProceso}"/> 
                        </h:panelGrid>
                        <h:panelGrid styleClass="centrado" style="padding: 10px" columns="2" >
                            <p:commandButton value="#{msgs.etiquetaNvoEnvio}" style="width: 210px;" oncomplete="PF('popRecuperacion').show();PF('popNvoProceso').hide();" actionListener="#{procesoBancoMB.mostraBoton2()}" 
                                             update=":frmPopBanco:btnDesc,:frmEnvio,:frmEnvio:msgsEnvio,:frmTblproceso:pnlTblproceso,:frmEnvio:pnlEnvioDeta,:frmRecuperacion:accRec:pnlRecuperacion,:frmRecuperacion:accRec:pnlValidatePro2,:frmRecuperacion,:frmRecuperacion:accRec:txtFechaBanco" />
                            <p:commandButton value="#{msgs.etiquetaNvoRecep}" style="width: 210px;" oncomplete="PF('popRecuperacion').show();PF('popNvoProceso').hide();" actionListener="#{procesoBancoMB.mostrarBoton3()}" update=":frmRecuperacion,:frmRecuperacion:accRec:txtFechaBanco" />
                        </h:panelGrid>
                    </h:panelGrid> 
                </h:form>
            </p:dialog>

            <!-- Pop_Otro -->
            <p:dialog id="popOtro" header="Agregar Valor" widgetVar="popOtro" modal="true" showEffect="explode" closeOnEscape="true" >
                <h:form id="frmOtro" >
                    <h:panelGrid columns="1" style="margin: 0 auto;padding: 5px;" > 
                        <h:panelGrid id="pnlOtro" columns="1" style="margin: 0 auto;" >
                            <h:panelGrid columns="2" style="padding: 5px;" >
                                <p:outputLabel value="#{msgs.etiquetaTipoValor}: " />
                                <p:selectOneMenu value="#{procesoBancoMB.columna}" required="true" label="#{msgs.etiquetaTipValor}" style="width: 195px;" >
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.etiquetaSeleccionar}" noSelectionOption="true" />
                                    <f:selectItems value="#{procesoBancoMB.listaTipoArchivo}" var="arc" itemValue="#{arc.idCodigo}" itemLabel="#{arc.codigo}" />
                                    <p:ajax listener="#{procesoBancoMB.cambiarValor()}" process="@this" update=":frmOtro:pnlOtro" />
                                </p:selectOneMenu>
                            </h:panelGrid>
                            <h:panelGrid  columns="2" style="padding: 5px;" rendered="#{procesoBancoMB.input == 1}" >
                                <p:outputLabel value="#{msgs.etiquetaValor} cons: " />
                                <p:inputText id="txtIn1" value="#{procesoBancoMB.procesoFinalBean.constante}" required="true" label="#{msgs.etiquetaValor}" rendered="#{procesoBancoMB.input == 1}" style="width: 195px;" 
                                             placeholder="Ingresar Valor"/>
                            </h:panelGrid>
                            <h:panelGrid columns="2" style="padding: 5px;" rendered="#{procesoBancoMB.input == 2}" >
                                <p:outputLabel value="#{msgs.etiquetaValor} cons: " />
                                <p:calendar value="#{procesoBancoMB.procesoFinalBean.constante}" rendered="#{procesoBancoMB.input == 2}" 
                                            placeholder="Ingresar Valor"/>
                            </h:panelGrid>
                            <h:panelGrid columns="2" style="padding: 5px;" rendered="#{procesoBancoMB.input == 3}" >
                                <p:outputLabel value="#{msgs.etiquetaValor} cons: " />
                                <p:calendar value="#{procesoBancoMB.procesoFinalBean.constante}" rendered="#{procesoBancoMB.input == 3}" pattern="HH:mm" timeOnly="true" 
                                            placeholder="Ingresar Valor"/>
                            </h:panelGrid>
                        </h:panelGrid>
                        <h:panelGrid columns="2" style="margin: 0 auto;padding: 5px;">
                            <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{procesoBancoMB.obtenerColumnasOtros()}" 
                                             oncomplete="if(args.operacioncorrecta){PF('popDone').show();PF('popOtro').hide();}" 
                                             update=":frmOtro:pnlOtro,:tabConfig:frmCustomFile:pnlCarCustom"  />
                            <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{procesoBancoMB.limpiarValorConstante()}" 
                                             update=":frmOtro:pnlOtro" process="@this" />
                        </h:panelGrid>
                    </h:panelGrid>
                </h:form>
            </p:dialog>

            <p:dialog id="popSelectCon" header="Seleccionar tipo de valor" widgetVar="popSelectCon"  modal="true" showEffect="explode" closeOnEscape="true" >
                <h:form id="frmSelectCon" >
                    <h:panelGrid columns="2" style="margin: 0 auto;padding: 5px;" >
                        <h:graphicImage value="../resources/images/icons/iconoInfo.png" alt="war" style="margin: 0 auto;" />
                        <h:outputText value="Seleccionar tipo de valor: " />
                    </h:panelGrid>
                    <h:panelGrid id="pnlSelectCon" columns="2" style="margin: 0 auto;padding: 5px;" >
                        <p:commandButton value="Constante" oncomplete="PF('popSelectCon').hide();PF('popOtro').show()"
                                         actionListener="#{procesoBancoMB.obtenerConstante()}" update=":frmOtro:pnlOtro"/>
                        <p:commandButton value="No Constante" actionListener="#{procesoBancoMB.obtenerNoConstante()}" 
                                         oncomplete="PF('popSelectCon').hide();PF('popNoCon').show()" update=":frmNoCon:pnlNoCon"/>
                    </h:panelGrid>
                </h:form>
            </p:dialog>

            <p:dialog id="popNoCon" widgetVar="popNoCon" modal="true" showEffect="explode" closeOnEscape="true" >  
                <h:form id="frmNoCon" >
                    <h:panelGrid id="pnlNoCon" columns="1" style="margin: 0 auto;" >
                        <p:dataTable value="#{procesoBancoMB.listaNoConstante}" var="noc" paginator="true"
                                     rendered="#{not empty procesoBancoMB.listaNoConstante}" paginatorPosition="bottom"
                                     style="width: 500px; overflow-x: auto;font-size:14px !important;" rows="3" rowKey="#{noc}" 
                                     rowIndexVar="index">
                            <p:column style="width: 10px;" >
                                <f:facet name="header" >
                                    <p:outputLabel value="Nro." />
                                </f:facet>
                                <center>
                                    <h:outputText value="#{index + 1}" />
                                </center>
                            </p:column>
                            <p:column style="width: 100px;">
                                <f:facet name="header" >
                                    <p:outputLabel value="Datos no constantes" />
                                </f:facet>
                                <h:outputText value="#{noc}" style="text-align: left;" />
                            </p:column>
                            <p:column style="width: 20px;">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                </f:facet>
                                <p:commandLink actionListener="#{procesoBancoMB.obtenerColumnasNoConstantes(index + 1)}"
                                               oncomplete="if(args.operacioncorrecta){PF('popDone').show();PF('popNoCon').hide();}" >
                                    <center>
                                        <h:graphicImage id="cmdsel" value="../resources/images/icons/select3.png" alt="select" />
                                    </center>
                                </p:commandLink>
                                <p:tooltip for="cmdsel" value="#{msgs.etiquetaSeleccionar}" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </h:form>
            </p:dialog>

            <p:dialog id="popConfig" widgetVar="popConfig" header="Configuracion de Archivo" modal="true" showEffect="explode" closeOnEscape="true"  >
                <p:tabView id="tabConfig" orientation="left">
                    <p:panel header="#{msgs.etiquetaResumen}" style="margin-bottom:20px;background-color: #dddddd;color: #000000;width: 700px;font-size: 150px;margin: 0 auto;" rendered="#{empty procesoBancoMB.listaProCabEnv and empty procesoBancoMB.listaProIntEnv and empty procesoBancoMB.listaProDetEnv}">
                        <p:outputLabel value="Configurar archivo Bancario" rendered="#{empty procesoBancoMB.listaProCabEnv or empty procesoBancoMB.listaProIntEnv or empty procesoBancoMB.listaProDetEnv}" />
                    </p:panel> 
                    <p:tab title="Configuracion Cabecera" rendered="#{procesoBancoMB.f2 == 1}">
                        <h:panelGrid columns="1" cellpadding="10">
                            <h:form id="frmCustomFileCab">
                                <p:fieldset legend="Cabecera de Archivo"> 
                                    <h:panelGrid id="pnlCarCustomCab"> 
                                        <p:dataTable value="#{procesoBancoMB.listaProCabEnv}" var="colEnvCab" 
                                                     rendered="#{not empty procesoBancoMB.listaProCabEnv}"
                                                     rowKey="#{colEnvCab}" paginator="true" paginatorPosition="bottom"
                                                     rows="6" style="width: 500px;" selection="#{procesoBancoMB.procesoFilesBean}">
                                            <p:column headerText="#{msgs.etiquetaPosicion}" filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto" >
                                                <h:outputText value="#{colEnvCab.posicionItem}" />
                                            </p:column>
                                            <p:column headerText="#{msgs.EtiquetaNombre}" filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto" >
                                                <h:outputText value="#{colEnvCab.nombre}" />
                                            </p:column>
                                            <p:column headerText="#{msgs.etiquetaLongitud}" filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto" >
                                                <h:outputText value="#{colEnvCab.longitud}" />
                                            </p:column>
                                            <p:column headerText="#{msgs.etiquetaSeleccionar}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <center>
                                                    <h:selectOneMenu id="cboColumnassCab" value="#{colEnvCab.columnaCab}" required="true" label="Columna" disabled="#{colEnvCab.disabled}"> 
                                                        <f:selectItem itemValue="#{null}" itemLabel="#{msgs.etiquetaSeleccionar}" noSelectionOption="true" />
                                                        <f:selectItem itemValue="otros" itemLabel="#{msgs.etiquetaOtros}" />
                                                        <f:selectItems value="#{procesoBancoMB.listaColumnasCab}" var="colCab" itemLabel="#{colCab}" itemValue="#{colCab}" />
                                                        <p:ajax event="change" listener="#{procesoBancoMB.obtenerColumnas(colEnvCab,1)}" process="@this,cboColumnassCab" 
                                                                oncomplete="if(args.otro){PF('popSelectCon').show();}" update=":tabConfig:frmCustomFileCab:pnlCarCustomCab,cboColumnassCab"/>
                                                    </h:selectOneMenu>
                                                    <h:outputText value="#{colEnvCab.columnaCab}" rendered="false" />
                                                </center> 
                                            </p:column> 
                                        </p:dataTable>
                                    </h:panelGrid>
                                </p:fieldset> 
                            </h:form>
                        </h:panelGrid>
                    </p:tab>
                    <p:tab title="Configuracion de Intermedio" rendered="#{procesoBancoMB.f3 == 1}" >
                        <h:form id="frmCustomFileInt">
                            <p:fieldset legend="Intermedio de Archivo"> 
                                <h:panelGrid id="pnlCarCustomInt"> 
                                    <p:dataTable value="#{procesoBancoMB.listaProIntEnv}" var="colInt"
                                                 rendered="#{not empty procesoBancoMB.listaProIntEnv}"
                                                 rowKey="#{colInt}" paginator="true" paginatorPosition="bottom"
                                                 rows="6" style="width: 500px;" selection="#{procesoBancoMB.procesoFilesBean}">
                                        <p:column headerText="#{msgs.etiquetaPosicion}" filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto" >
                                            <h:outputText value="#{colInt.posicionItem}" />
                                        </p:column>
                                        <p:column headerText="#{msgs.EtiquetaNombre}" filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto" >
                                            <h:outputText value="#{colInt.nombre}" />
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaLongitud}" filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto" >
                                            <h:outputText value="#{colInt.longitud}" />
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaSeleccionar}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                            <center> 
                                                <h:selectOneMenu id="cboColumnasss" value="#{colInt.columnaCab}" required="true" label="Columna" > 
                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.etiquetaSeleccionar}" noSelectionOption="true" />
                                                    <f:selectItem itemValue="#{msgs.etiquetaOtros}" itemLabel="#{msgs.etiquetaOtros}" />
                                                    <f:selectItems value="#{procesoBancoMB.listaColumnasCab}" var="col" itemLabel="#{col}" itemValue="#{col}" />
                                                    <p:ajax event="change" listener="#{procesoBancoMB.obtenerColumnas(colInt,3)}" process="@this,cboColumnasss" 
                                                            oncomplete="if(args.otro){PF('popSelectCon').show();}" update=":tabConfig:frmCustomFile,cboColumnasss"/>
                                                </h:selectOneMenu>
                                                <h:outputText value="#{colInt.columnaCab}" rendered="false" />
                                            </center>
                                        </p:column>
                                    </p:dataTable> 
                                </h:panelGrid>
                            </p:fieldset>
                        </h:form>
                    </p:tab>
                    <p:tab title="Configuracion Detalle" rendered="#{procesoBancoMB.f1 == 1}">
                        <h:form id="frmCustomFile" > 
                            <p:fieldset legend="Detalle de Archivo"> 
                                <h:panelGrid id="pnlCarCustom"> 
                                    <p:dataTable value="#{procesoBancoMB.listaProDetEnv}" var="colEnv"
                                                 rendered="#{not empty procesoBancoMB.listaProDetEnv}"
                                                 rowKey="#{colEnv}" paginator="true" paginatorPosition="bottom"
                                                 rows="6" style="width: 500px;" selection="#{procesoBancoMB.procesoFilesBean}">
                                        <p:column headerText="#{msgs.etiquetaPosicion}" filterMatchMode="contains" width="1%" styleClass="siseFontTable2 centrado-texto" >
                                            <h:outputText value="#{colEnv.posicionItem}" />
                                        </p:column>
                                        <p:column headerText="#{msgs.EtiquetaNombre}" filterMatchMode="contains" width="1%" styleClass="siseFontTable2 centrado-texto" >
                                            <h:outputText value="#{colEnv.nombre}" />
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaLongitud}" filterMatchMode="contains" width="1%" styleClass="siseFontTable2 centrado-texto" >
                                            <h:outputText value="#{colEnv.longitud}" />
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaSeleccionar}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto">
                                            <center>
                                                <h:selectOneMenu id="cboColumnass" value="#{colEnv.columna}" required="true" label="Columna" > 
                                                    <f:selectItems value="#{procesoBancoMB.listaColumnas}" var="col" itemLabel="#{col}" itemValue="#{col}" />
                                                    <p:ajax event="change" listener="#{procesoBancoMB.obtenerColumnas(colEnv,2)}" process="@this,cboColumnass" 
                                                            oncomplete="if(args.otro){PF('popSelectCon').show();}else{if(args.operacioncorrecta){PF('popDone').show();}}" update=":tabConfig:frmCustomFile,cboColumnass"/>
                                                </h:selectOneMenu>
                                                <h:outputText value="#{colEnv.columna}" rendered="false" />
                                            </center>
                                        </p:column>
                                    </p:dataTable> 
                                </h:panelGrid>
                            </p:fieldset>
                        </h:form>
                    </p:tab> 
                </p:tabView> 

                <h:form>
                    <h:panelGrid columns="2" style="margin: 0 auto;padding: 10px;" >
                        <p:commandButton id="btnDownload" value="#{msgs.botonDescargar}" actionListener="#{procesoBancoMB.mostrarFile()}"  
                                         onclick="PrimeFaces.monitorDownload(start, stop);" ajax="false" >
                            <p:fileDownload  value="#{procesoBancoMB.content}" ></p:fileDownload>
                        </p:commandButton>
                        <p:commandButton value="#{msgs.bontonRestaurar}" actionListener="#{procesoBancoMB.eliminarFile()}"  
                                         oncomplete="if(args.operacionCorrecta){PF('popDone').show();}" />
                    </h:panelGrid>
                </h:form>
            </p:dialog>

            <p:dialog id="popFail" header="#{msgs.appSiglas}" widgetVar="popFail" modal="true" showEffect="explode" closeOnEscape="true" >
                <h:form id="frmFail"> 
                    <h:panelGrid id="pnlFail" style="margin: 0 auto;" columns="1" >
                        <p:dataTable id="tblFail" value="#{procesoBancoMB.listaProcesoErrorBean}" var="fail"
                                     selection="#{procesoBancoMB.procesoErrorBean}"
                                     paginator="true" paginatorPosition="bottom"  rows="5" rowKey="#{fail}" 
                                     rendered="#{not empty procesoBancoMB.listaProcesoErrorBean}"
                                     style="width: 800px;overflow-x: auto;font-size:14px !important;"> 
                            <p:column headerText="#{msgs.etiquetaNombre} de #{msgs.etiquetaProceso}" >
                                <h:outputText value="#{fail.procesoBancoBean.nombre}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaCodigoAlumno}">
                                <h:outputText value="#{fail.procesoEnvioBean.idDiscente.idEstudiante}" rendered="#{fail.procesoBancoBean.flgProceso == 1}" />
                                <h:outputText value="#{fail.procesoRecuperacionBean.estudianteBean.idEstudiante}" rendered="#{fail.procesoBancoBean.flgProceso == 0}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaNombreCompleto}">
                                <h:outputText value="#{fail.procesoEnvioBean.idDiscente.personaBean.nombre} 
                                              #{fail.procesoEnvioBean.idDiscente.personaBean.apepat}
                                              #{fail.procesoEnvioBean.idDiscente.personaBean.apemat}"
                                              rendered="#{fail.procesoBancoBean.flgProceso == 1}" />
                                <h:outputText value="#{fail.procesoRecuperacionBean.estudianteBean.personaBean.nombre} 
                                              #{fail.procesoRecuperacionBean.estudianteBean.personaBean.apepat}
                                              #{fail.procesoRecuperacionBean.estudianteBean.personaBean.apemat}" 
                                              rendered="#{fail.procesoBancoBean.flgProceso == 0}"/>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaDescrip}">
                                <h:outputText value="#{fail.descripcion}" rendered="#{fail.procesoBancoBean.flgProceso == 1}" />
                                <h:outputText value="#{fail.descripcion}" rendered="#{fail.procesoBancoBean.flgProceso == 0}" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </h:form>
                <h:form id="frmTblFallo" >
                    <h:panelGrid id="pnlProcesoFallo" >
                        <p:dataTable id="tblFail" value="#{procesoBancoMB.listaProcesoFalloBean}" var="fail"
                                     selection="#{procesoBancoMB.procesoFalloBean}"
                                     paginator="true" paginatorPosition="bottom"  rows="5" rowKey="#{fail}" 
                                     rendered="#{not empty procesoBancoMB.listaProcesoFalloBean}"
                                     style="width: 800px;overflow-x: auto;font-size:14px !important;"> 
                            <f:facet name="header" >
                                <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                            </f:facet>
                            <p:column headerText="#{msgs.etiquetaCodigoAlumno}" filterMatchMode="contains" width="5%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.codigo}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaNroDoc}" filterMatchMode="contains" width="10%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.idEstudiante}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="10%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.nombre}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaApePat}" filterMatchMode="contains" width="10%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.apePat}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaApeMat}" filterMatchMode="contains" width="10%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.apeMat}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaGradoAca}" filterMatchMode="contains" width="10%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.nombreGrado}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaMes}" filterMatchMode="contains" width="5%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.mes}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaAnio}" filterMatchMode="contains" width="5%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.anio}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaMonto}" filterMatchMode="contains" width="5%" styleClass="nombreFiltro8 siseFont1 centrado-texto">
                                <h:outputText value="#{fail.monto}" />
                            </p:column>
                        </p:dataTable> 
                    </h:panelGrid>
                </h:form>
            </p:dialog>

            <p:dialog id="popCodUniNeg" header="#{msgs.etiquetaDetalle} #{msgs.etiquetaCtaBco}" widgetVar="popCodUniNeg" modal="true" showEffect="explode" closeOnEscape="true" >
                <h:form id="frmPopCodUniNeg" >
                    <h:panelGrid columns="1" style="margin: 0 auto;" >
                        <p:dataTable value="#{procesoBancoMB.listaCuentaBanco}" var="ctaBanco" 
                                     paginator="true" paginatorPosition="bottom"  rows="5" rowKey="#{ctaBanco}" 
                                     rendered="#{not empty procesoBancoMB.listaCuentaBanco}"
                                     style="width: 600px;overflow-x: auto;font-size:14px !important;">
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaNombre} #{msgs.etiquetaRecpcion}" />
                                </f:facet>
                                <h:outputText value="#{ctaBanco.entidadBancoBean.nombre}" />
                            </p:column>
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaRucBco}" />
                                </f:facet>
                                <h:outputText value="#{ctaBanco.entidadBancoBean.ruc}" />
                            </p:column>
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaNumCta}" />
                                </f:facet>
                                <h:outputText value="#{ctaBanco.numCuenta}" />
                            </p:column>
                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaCodigo} #{msgs.etiquetaUniNegocio}" />
                                </f:facet>
                                <h:outputText value="#{ctaBanco.codUniNeg}" />
                            </p:column>
                            <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                </f:facet>
                                <center>
                                    <p:commandLink id="cmdMostrarActiv" update=":frmRecuperacion:accRec:pnlDatosCtaBanco" oncomplete="PF('popCodUniNeg').hide();"
                                                   actionListener="#{procesoBancoMB.obtenerCuentaBanco(ctaBanco)}" 
                                                   process="@this">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                    </p:commandLink> 
                                </center>
                                <p:tooltip for="cmdMostrarActiv" value="#{msgs.mensajeSelect}" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </h:form>
            </p:dialog> 

            <!--Pop Recuperacion-->
            <p:dialog id="popRecuperacion" header="#{msgs.etiquetaConfigurar} #{msgs.etiquetaProceso}"  widgetVar="popRecuperacion" modal="true" width="600px" showEffect="explode" >
                <h:form id="frmRecuperacion" >
                    <p:accordionPanel id="accRec" activeIndex="true" >
                        <p:tab title="#{msgs.etiquetaNuevoProceso}">
                            <h:panelGrid id="pnlRecuperacion" columns="1" > 
                                <p:fieldset legend="#{msgs.etiquetaConfigurar} #{msgs.etiquetaProceso}" >
                                    <h:panelGrid columns="2" style="padding: 5px;" > 
                                        <p:outputLabel value="#{msgs.EtiquetaNombre} #{msgs.etiquetaProceso}: " />
                                        <p:inputText id="txtNomBanco" value="#{procesoBancoMB.procesoBanco.nombre}" >
                                            <p:ajax event="change" listener="#{procesoBancoMB.obtenerNombre()}" />
                                        </p:inputText> 
                                        <p:outputLabel value="#{msgs.etiquetaFecha} #{msgs.etiquetaOperacion}: " />
                                        <p:calendar id="txtFechaBanco" value="#{procesoBancoMB.procesoBanco.fecha}" mode="popup" showOn="button" readonlyInput="true" 
                                                    pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" >
                                            <p:ajax event="dateSelect" listener="#{procesoBancoMB.obtenerFechaRecup()}" />
                                        </p:calendar>
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaBanco}: "  />
                                        <p:selectOneMenu id="txtRucBanco" value="#{procesoBancoMB.procesoBanco.ruc}" required="true" label="#{msgs.etiquetaBanco}" style="width: 200px;" >
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true" />
                                            <f:selectItems value="#{procesoBancoMB.listaEntidad}" var="banco" itemLabel="#{banco.nombre}" itemValue="#{banco.ruc}"/>
                                            <p:ajax event="change" listener="#{procesoBancoMB.cargarRuc()}" process="@this" update=":frmPopCodUniNeg"
                                                    oncomplete="if(args.openModalCodUniNeg){PF('popCodUniNeg').show()}" />
                                        </p:selectOneMenu> 
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaMoneda}: "/>
                                        <p:selectOneRadio id="moneda" value="#{procesoBancoMB.procesoBanco.moneda}" required="true" label="#{msgs.etiquetaMoneda}" >
                                            <f:selectItem itemLabel="#{msgs.etiquetaDolares}" itemValue= "1" />
                                            <f:selectItem itemLabel="#{msgs.etiquetaSoles}" itemValue= "0" />
                                            <p:ajax event="change" listener="#{procesoBancoMB.setearValoresBanco()}" />
                                        </p:selectOneRadio> 
                                    </h:panelGrid>
                                    <h:panelGrid id="pnlDatosCtaBanco" columns="2" style="padding: 5px;" >
                                        <h:panelGrid columns="2" style="margin: 0 auto;" >
                                            <p:outputLabel value="#{msgs.EtiquetaCodigo} UniNeg: " />
                                            <p:inputText id="txtCodUniNeg" value="#{procesoBancoMB.procesoBanco.codUniNeg}" style="width: 60px;" readonly="true" />
                                        </h:panelGrid>
                                        <h:panelGrid columns="2" style="margin: 0 auto;" >
                                            <p:outputLabel value="#{msgs.etiquetaNroCue}: " />
                                            <p:inputText id="txtNumCuenta" value="#{procesoBancoMB.procesoBanco.numCuenta}" style="width: 90px;" readonly="true" />
                                        </h:panelGrid>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" rendered="#{procesoBancoMB.flgUniNeg}" >
                                        <p:outputLabel value="#{msgs.etiquetaCuota}: " rendered="#{procesoBancoMB.proView}"/>
                                        <p:inputText value="#{procesoBancoMB.procesoBanco.cuota}" >
                                            <p:ajax listener="#{procesoBancoMB.modificarCuota}" />
                                        </p:inputText>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" style="padding: 5px;" rendered="#{procesoBancoMB.proView}" >
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaTipoEnvio}: "/>
                                        <p:selectOneRadio id="tipoenvi" value="#{procesoBancoMB.procesoBanco.tipoEnvio}" required="true" label="#{msgs.etiquetaTipoEnvio}" >
                                            <f:selectItem itemLabel="#{msgs.etiquetaCuentas}" itemValue= "1" />
                                            <f:selectItem itemLabel="#{msgs.etiquetaOperaciones}" itemValue= "0" />
                                        </p:selectOneRadio>
                                    </h:panelGrid> 
                                    <h:panelGrid columns="2" style="padding: 5px;" rendered="#{procesoBancoMB.proView}" >
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaTipoRegistro}: "/>
                                        <p:selectOneRadio id="tipoenviReg" value="#{procesoBancoMB.tipoRegistro}" required="true" label="#{msgs.etiquetaTipoEnvio}" >
                                            <f:selectItem itemLabel="#{msgs.etiquetaAgregar}" itemValue= "A" />
                                            <f:selectItem itemLabel="#{msgs.etiquetaModificar}" itemValue= "M" />
                                            <f:selectItem itemLabel="#{msgs.etiquetaEliminar}" itemValue= "E" />
                                        </p:selectOneRadio>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" style="padding: 5px;" rendered="#{procesoBancoMB.proView}" >
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaEnvio}: "/>
                                        <p:selectOneRadio id="tipoenviSel" value="#{procesoBancoMB.selEnvio}" required="true" label="#{msgs.etiquetaTipoEnvio}" >
                                            <f:selectItem itemLabel="#{msgs.etiquetaEnvioBanco}" itemValue= "1" />
                                            <f:selectItem itemLabel="#{msgs.etiquetaEnvioColeg}" itemValue= "0" /> 
                                        </p:selectOneRadio>
                                    </h:panelGrid>
                                    <h:panelGrid id="pnlValidatePro2" style="margin: 0 auto;padding: 5px;" rendered="#{procesoBancoMB.proView}" >
                                        <h:panelGrid columns="3" style="margin: 0 auto;" >
                                            <p:commandButton id="btnGuardarFile" value="#{msgs.botonGrabar}" actionListener="#{procesoBancoMB.insertarProcesoBancoEnvio()}" disabled="#{procesoBancoMB.disableBotonGuardar}"
                                                             update="btnDescargarFile,btnGuardarFile,:frmRecuperacion:accRec" oncomplete="if(args.operacioncorrecta){PF('popReporte').show();}"/>
                                            <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{procesoBancoMB.limpiarProcesoBancoReg()}" 
                                                             update=":frmRecuperacion:accRec"/>
                                            <p:commandButton id="btnDescargarFile" value="#{msgs.etiquetaSiguiente}" actionListener="#{procesoBancoMB.obtenerVistaPrevia()}" 
                                                             oncomplete="if(args.cuenta){PF('popEnvioDeta').show();}else{PF('popEnvioDetaCurso').show();} " 
                                                             disabled="#{procesoBancoMB.disableBotonDescarga}" process="@this"
                                                             update=":frmPopEnvioDetaCur:txtTipoConceptoCur,:frmPopEnvioDeta:txtTipoConcepto" />
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </p:fieldset>
                            </h:panelGrid>
                            <br/>
                            <p:fileUpload fileUploadListener="#{procesoBancoMB.obtenerFileRecuperacion}" oncomplete="if(args.operacionCorrecta){PF('popReporte').show();PF('popRecuperacion').hide();}else{PF('popError').show();}" 
                                          update=":frmTblproceso:pnlTblproceso,:frmRecuperacion:msgsss,:frmRecuperacion:pnlRecuperaciones,:frmReporte,:frmError
                                          ,:frmRecuperacion:accRec:pnlRecuperacion" rendered="#{procesoBancoMB.proView2}"
                                          allowTypes="/(\.|\/)(txt|TXT)$/" sizeLimit="100000" value="Selecciona Archivo" />
                            <!--
                            update=":frmTblRecuperacion:pnlTblRecuperacion"   oncomplete="PF('popDone2').show()"
                            update=":frmTblproceso:pnlTblproceso,:frmRecuperacion:msgsss,:frmRecuperacion:pnlRecuperaciones"<<<==== upload()
                            -->
                        </p:tab>
                    </p:accordionPanel>
                    <h:panelGrid id="pnlRecuperaciones" rendered="#{procesoBancoMB.mostrarRec}">
                        <p:commandLink value="ver Archivo" oncomplete="PF('popTablaRecuperacion').show()" actionListener="#{procesoBancoMB.obtenerProcesoRecuperacion()}" />
                    </h:panelGrid>
                    <p:growl id="msgsss" autoUpdate="false" />
                </h:form>
            </p:dialog>

            <p:dialog id="popEnvioDetaCurso" widgetVar="popEnvioDetaCurso" header="#{msgs.etiquetaConfigurar} #{msgs.etiquetaEnvio} #{msgs.etiquetaCurTal}" modal="true" showEffect="explode" >
                <h:form id="frmPopEnvioDetaCur" >
                    <h:panelGrid columns="2" styleClass="centrado" >
                        <p:panel id="basic" header="#{msgs.etiquetaFiltro}" style="margin-bottom:20px">
                            <h:panelGrid id="pnlPopEnvioDetaCur" columns="1" styleClass="centrado" >
                                <h:panelGrid columns="6" >
                                    <p:outputLabel value="#{msgs.etiquetaCodigoCol}: " />
                                    <p:inputText id="txtcodigoCur" value="#{procesoBancoMB.cuentaFiltroBean.estudianteBean.codigo}" label="#{msgs.etiquetaCodigo}" >
                                    </p:inputText>
                                    <p:outputLabel value="" />
                                    <p:outputLabel value="" />
                                    <p:outputLabel value="#{msgs.etiquetaDniCe}: " />
                                    <p:inputText id="txtIdEstudianteCur" value="#{procesoBancoMB.cuentaFiltroBean.estudianteBean.idEstudiante}" label="#{msgs.etiquetaCodigo}" >
                                    </p:inputText>
                                </h:panelGrid>
                                <h:panelGrid styleClass="centrado" columns="1" >
                                    <h:panelGrid columns="4" styleClass="centrado-izq">
                                        <p:outputLabel value="#{msgs.etiquetaTipoConcepto}: "  />
                                        <p:selectOneMenu id="txtTipoConceptoCur" value="#{procesoBancoMB.cuentaFiltroBean.conceptoBean.tipoConceptoBean.idTipoConcepto}" label="#{msgs.etiquetaNac}" filter="true" style="width: 200px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{procesoBancoMB.listaTipoConceptoBean}" var="tipCon" itemLabel="#{tipCon.nombre}" itemValue="#{tipCon.idTipoConcepto}"/>
                                            <p:ajax event="change" listener="#{procesoBancoMB.obtenerPorTipo}" process="@this,txtTipoConceptoCur" update="cmbConceptoCur" />
                                        </p:selectOneMenu>
                                        <p:outputLabel value="#{msgs.etiquetaConcepto}: "  />
                                        <p:selectOneMenu id="cmbConceptoCur" value="#{procesoBancoMB.cuentaFiltroBean.conceptoBean.idConcepto}" label="#{msgs.etiquetaNac}" filter="true" style="width: 200px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{procesoBancoMB.listaconceptoBean}" var="con" itemLabel="#{con.nombre}" itemValue="#{con.idConcepto}"/>                                    
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{msgs.etiquetaFecha}: " />
                                        <p:calendar id="txtFechaIniCur" value="#{procesoBancoMB.cuentaFiltroBean.fechaInicio}" showOn="button" 
                                                    pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" readonlyInput="true" yearRange="c-90:c+30">
                                            <p:ajax event="dateSelect" listener="#{procesoBancoMB.setearValores()}" />
                                        </p:calendar>
                                        <p:outputLabel value="#{msgs.etiquetaFecha}: " />
                                        <p:calendar id="txtFechaFinCur" value="#{procesoBancoMB.cuentaFiltroBean.fechaFin}" showOn="button" 
                                                    pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" readonlyInput="true" yearRange="c-90:c+30">
                                            <p:ajax event="dateSelect" listener="#{procesoBancoMB.setearValores()}" />
                                        </p:calendar>
                                    </h:panelGrid>
                                    <h:panelGrid columns="1" styleClass="centrado" >
                                        <p:inputTextarea id="txtNombreFullCur" value="#{procesoBancoMB.cuentaFiltroBean.estudianteBean.personaBean.nombreCompleto}" rows="3" cols="70" placeholder="#{msgs.etiquetaingresar} #{msgs.etiquetaNombreCompleto}" >
                                        </p:inputTextarea>
                                    </h:panelGrid>
                                </h:panelGrid>

                                <h:panelGrid columns="4" styleClass="centrado">
                                    <p:commandButton id="btnBuscar" value="#{msgs.botonBuscar}" actionListener="#{procesoBancoMB.buscarEstudianteCuentas(1)}" 
                                                     process="@this,:frmPopEnvioDetaCur:txtcodigoCur,:frmPopEnvioDetaCur:txtIdEstudianteCur,:frmPopEnvioDetaCur:txtFechaFinCur,:frmPopEnvioDetaCur:txtFechaIniCur"
                                                     update=":frmPopEnvioDetaDetaCur:tabPopEnvioDetaDetaCur:pnlTableRecursiveCabCur,
                                                     :frmPopEnvioDetaDetaCur:tabPopEnvioDetaDetaCur:pnlTableRecursiveIntCur,
                                                     :frmPopEnvioDetaDetaCur:tabPopEnvioDetaDetaCur:pnlTableRecursiveCur, 
                                                     :frmPopEnvioDetaCur:pnlMsgFilCur,:frmPopEnvioDetaDetaCur:tabPopEnvioDetaDetaCur,
                                                     :frmPopEnvioDetaCur:pnlPopEnvioDetaCur"/>
                                    <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{procesoBancoMB.limpiarBusquedaEnvio()}"
                                                     update=":frmPopEnvioDetaCur:pnlPopEnvioDetaCur,
                                                     :frmPopEnvioDetaDetaCur:tabPopEnvioDetaDetaCur" />
                                    <p:commandButton value="#{msgs.botonCerrar}" oncomplete="PF('popConfirm').show();" />
                                    <h:panelGrid columns="5" styleClass="centrado-izq" rendered="#{procesoBancoMB.disabledExporter}" >
                                        <p:outputLabel value="#{msgs.botonDescargar}: " />
                                        <h:commandLink id="excelXlsxPro" style="float: left;" action="#{procesoBancoMB.crearXls()}" >
                                            <h:graphicImage value="/resources/images/icons/exportarexcel.png" />
                                            <!--<p:dataExporter type="xls" target=":frmPopEnvioDetaDeta:tabPopEnvioDetaDeta:tblTableRecursive" fileName="Envio" />-->
                                        </h:commandLink>
                                        <p:tooltip for="excelXlsxPro" value="#{msgs.etiquetaExportar} Excel" />
                                        <h:commandLink id="excelFilePro" style="float: left;" onclick="PrimeFaces.monitorDownload(start, stop);"
                                                       actionListener="#{procesoBancoMB.mostrarFilesEnvio()}">
                                            <h:graphicImage value="/resources/images/icons/exportartexto.png" />
                                            <p:fileDownload value="#{procesoBancoMB.content}" />
                                        </h:commandLink>
                                        <p:tooltip for="excelFilePro" value="#{msgs.etiquetaExportar} Texto" />
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid id="pnlMsgFilCur" styleClass="centrado" >
                                    <p:messages showDetail="true" id="msgFilCuenta" closable="true" />
                                </h:panelGrid>
                            </h:panelGrid>
                        </p:panel>
                    </h:panelGrid>
                </h:form>
                <h:form id="frmPopEnvioDetaDetaCur" >
                    <p:tabView id="tabPopEnvioDetaDetaCur">
                        <p:tab title="#{msgs.etiquetaCabeceraEnvio}" rendered="#{not empty procesoBancoMB.listaContenedorEnvioCabecera}">
                            <h:outputText value="Cabecera" />
                            <h:panelGrid id="pnlTableRecursiveCabCur" styleClass="centrado" >
                                <p:dataTable value="#{procesoBancoMB.listaContenedorEnvioCabecera}" var="filaCab"
                                             rendered="#{not empty procesoBancoMB.listaContenedorEnvioCabecera}"
                                             paginator="true" paginatorPosition="bottom" rows="8" id="tblTableRecursiveCabCur"
                                             style="width: 1200px; overflow-x: auto;font-size:14px !important;"
                                             scrollable="true" scrollWidth="1000">
                                    <f:facet name="header" >  
                                        <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                    </f:facet>
                                    <c:forEach var="i" begin="0" end="#{procesoBancoMB.filasCab - 1}" >
                                        <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable2 centrado-texto">
                                            <f:facet name="header">
                                                <h:outputText value="Data #{i+1}"/>
                                            </f:facet>
                                            <h:outputText value="#{filaCab.listaContenedor.get(i).getValor()}"/>
                                        </p:column>
                                    </c:forEach>  
                                </p:dataTable>
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="#{msgs.etiquetaIntermEnvio}" rendered="#{not empty procesoBancoMB.listaContenedorEnvioIntermedio}">
                            <h:panelGrid id="pnlTableRecursiveIntCur" styleClass="centrado" >
                                <h:outputText value="Intermedio" />
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="#{msgs.etiquetaDetalleEnvio}" rendered="#{not empty procesoBancoMB.listaContenedorEnvio}">
                            <h:panelGrid id="pnlTableRecursiveCur" styleClass="centrado" >
                                <p:dataTable value="#{procesoBancoMB.listaContenedorEnvio}" var="fila"
                                             rendered="#{not empty procesoBancoMB.listaContenedorEnvio}"
                                             paginator="true" paginatorPosition="bottom" rows="8" id="tblTableRecursiveCur"
                                             style="width: 1200px; overflow-x: auto;font-size:14px !important;"
                                             scrollable="true" scrollWidth="1000">
                                    <f:facet name="header" >  
                                        <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                    </f:facet>
                                    <c:forEach var="i" begin="0" end="#{procesoBancoMB.filas - 1}" >
                                        <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable2 centrado-texto">
                                            <f:facet name="header">
                                                <h:outputText value="Data #{i+1}"/>
                                            </f:facet>
                                            <h:outputText value="#{fila.listaContenedor.get(i).getValor()}"/>
                                        </p:column>
                                    </c:forEach>  
                                </p:dataTable>
                            </h:panelGrid>
                        </p:tab>
                    </p:tabView> 
                </h:form>
            </p:dialog>

            <p:dialog widgetVar="popEnvioDeta" header="#{msgs.etiquetaConfigurar} #{msgs.etiquetaEnvio} #{msgs.etiquetaBanco}" modal="true"  showEffect="explode" >
                <h:form id="frmPopEnvioDeta" >
                    <h:panelGrid columns="2" styleClass="centrado" >
                        <p:panel id="basic" header="#{msgs.etiquetaFiltro}" style="margin-bottom:20px">
                            <h:panelGrid id="pnlPopEnvioDeta" columns="1" styleClass="centrado" >
                                <h:panelGrid columns="2" styleClass="centrado-izq" >
                                    <p:outputLabel value="#{msgs.etiquetaEstado}: " />
                                    <p:selectOneRadio id="console" value="#{procesoBancoMB.flgEstado}">
                                        <f:selectItem itemLabel="#{msgs.etiquetaNoPagado}" itemValue="1" />
                                        <f:selectItem itemLabel="#{msgs.etiquetaPagado}" itemValue="0" />
                                    </p:selectOneRadio>
                                </h:panelGrid>
                                <h:panelGrid columns="6" styleClass="centrado-izq">
                                    <p:outputLabel value="#{msgs.etiquetaCodigoCol}: " />
                                    <p:inputText id="txtcodigo" value="#{procesoBancoMB.cuentaFiltroBean.estudianteBean.codigo}" label="#{msgs.etiquetaCodigo}" />
                                    <p:outputLabel value="" />
                                    <p:outputLabel value="" />
                                    <p:outputLabel value="#{msgs.etiquetaDniCe}: " />
                                    <p:inputText id="txtIdEstudiante" value="#{procesoBancoMB.cuentaFiltroBean.estudianteBean.idEstudiante}" label="#{msgs.etiquetaCodigo}" >
                                    </p:inputText>
                                </h:panelGrid> 
                                <h:panelGrid styleClass="centrado-izq" columns="1" > 
                                    <h:panelGrid columns="4" styleClass="centrado">
                                        <p:outputLabel value="#{msgs.etiquetaTipoConcepto}: "  />
                                        <p:selectOneMenu id="txtTipoConcepto" value="#{procesoBancoMB.cuentaFiltroBean.conceptoBean.tipoConceptoBean.idTipoConcepto}" label="#{msgs.etiquetaNac}" filter="true" style="width: 200px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{procesoBancoMB.listaTipoConceptoBean}" var="tipCon" itemLabel="#{tipCon.nombre}" itemValue="#{tipCon.idTipoConcepto}"/>
                                            <p:ajax event="change" listener="#{procesoBancoMB.obtenerPorTipo}" process="@this,txtTipoConcepto" update="cmbConcepto" />
                                        </p:selectOneMenu>
                                        <p:outputLabel value="#{msgs.etiquetaConcepto}: "  />
                                        <p:selectOneMenu id="cmbConcepto" value="#{procesoBancoMB.cuentaFiltroBean.conceptoBean.idConcepto}" label="#{msgs.etiquetaNac}" filter="true" style="width: 200px">
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{procesoBancoMB.listaconceptoBean}" var="con" itemLabel="#{con.nombre}" itemValue="#{con.idConcepto}"/>                                    
                                        </p:selectOneMenu> 
                                    </h:panelGrid>
                                    <h:panelGrid columns="1" styleClass="centrado" >
                                        <p:inputTextarea id="txtNombreFull" value="#{procesoBancoMB.cuentaFiltroBean.estudianteBean.personaBean.nombreCompleto}" rows="3" cols="70" placeholder="#{msgs.etiquetaingresar} #{msgs.etiquetaNombreCompleto}" >
                                        </p:inputTextarea>
                                    </h:panelGrid> 
                                </h:panelGrid>
                                <h:panelGrid columns="4" styleClass="centrado">
                                    <p:commandButton id="btnBuscar" value="#{msgs.botonBuscar}" actionListener="#{procesoBancoMB.buscarEstudianteCuentas(2)}" 
                                                     process="@this,:frmPopEnvioDeta:txtcodigo,:frmPopEnvioDeta:txtIdEstudiante,:frmPopEnvioDeta:cmbConcepto,:frmPopEnvioDeta:console,:frmPopEnvioDeta:cboMesCuenta"
                                                     update=":frmPopEnvioDetaDeta:tabPopEnvioDetaDeta:pnlTableRecursive,:frmPopEnvioDeta:msgFilCuenta,
                                                     :frmPopEnvioDeta:pnlPopEnvioDeta,:frmPopEnvioDetaDeta:tabPopEnvioDetaDeta,
                                                     :frmPopEnvioDetaDeta:tabPopEnvioDetaDeta:pnlTableRecursiveCab"/>
                                    <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{procesoBancoMB.limpiarBusquedaEnvio()}"
                                                     update=":frmPopEnvioDeta:pnlPopEnvioDeta,
                                                     :frmPopEnvioDetaDeta:tabPopEnvioDetaDeta:pnlTableRecursiveCab,
                                                     :frmPopEnvioDetaDeta:tabPopEnvioDetaDeta,
                                                     :frmPopEnvioDetaDeta:tabPopEnvioDetaDeta:pnlTableRecursive" />
                                    <p:commandButton value="#{msgs.botonCerrar}" oncomplete="PF('popConfirm').show();" />
                                    <h:panelGrid columns="5" styleClass="centrado-izq" rendered="#{procesoBancoMB.disabledExporter}" >
                                        <p:outputLabel value="#{msgs.botonDescargar}: " />
                                        <h:commandLink id="excelXlsxPro" style="float: left;" action="#{procesoBancoMB.crearXls()}" >
                                            <h:graphicImage value="/resources/images/icons/exportarexcel.png" />
                                            <!--<p:dataExporter type="xls" target=":frmPopEnvioDetaDeta:tabPopEnvioDetaDeta:tblTableRecursive" fileName="Envio"/>-->
                                        </h:commandLink>
                                        <p:tooltip for="excelXlsxPro" value="#{msgs.etiquetaExportar} Excel" />
                                        <h:commandLink id="excelFilePro" style="float: left;" onclick="PrimeFaces.monitorDownload(start, stop);"
                                                       actionListener="#{procesoBancoMB.mostrarFilesEnvio()}" rendered="#{procesoBancoMB.vistaFile}" >
                                            <h:graphicImage value="/resources/images/icons/exportartexto.png" />
                                            <p:fileDownload value="#{procesoBancoMB.content}" />
                                        </h:commandLink>
                                        <p:tooltip for="excelFilePro" value="#{msgs.etiquetaExportar} Texto" />
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid id="pnlMsgFil" styleClass="centrado" >
                                    <p:messages showDetail="true" id="msgFilCuenta" closable="true" />
                                </h:panelGrid>
                            </h:panelGrid> 
                        </p:panel>
                        <h:panelGrid id="pnlCronoFiltro" columns="1" styleClass="centrado" >
                            <p:fieldset legend="#{msgs.etiquetaSelMeses} y #{msgs.etiquetaAnio}" styleClass="centrado" toggleable="true" toggleSpeed="500" collapsed="false">
                                <h:panelGrid columns="2" >
                                    <p:spinner id="txtAnioCrono" value="#{procesoBancoMB.cronogramaPagoBean.anio}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaAnio}" size="1"/>
                                    <p:outputLabel value="#{msgs.etiquetaPeriodo}" />
                                    <br/>
                                </h:panelGrid>
                                <p:selectOneRadio id="cboMesCuenta" value="#{procesoBancoMB.cuentaFiltroBean.mes}"  layout="grid" columns="4">
                                    <f:selectItems value="#{procesoBancoMB.listaMesAll}" var="mes" itemLabel="#{mes.descripcion}" itemValue="#{mes.valor}" />
                                </p:selectOneRadio>
                                <p:outputLabel value=" " />
                            </p:fieldset>
                        </h:panelGrid>
                    </h:panelGrid>
                </h:form>
                <h:form id="frmPopEnvioDetaDeta" >
                    <p:tabView id="tabPopEnvioDetaDeta">
                        <p:tab title="#{msgs.etiquetaCabeceraEnvio}" rendered="#{not empty procesoBancoMB.listaContenedorEnvioCabecera}">
                            <h:outputText value="Cabecera" />
                            <h:panelGrid id="pnlTableRecursiveCab" styleClass="centrado" >
                                <p:dataTable value="#{procesoBancoMB.listaContenedorEnvioCabecera}" var="filaCab"
                                             rendered="#{not empty procesoBancoMB.listaContenedorEnvioCabecera}"
                                             paginator="true" paginatorPosition="bottom" rows="8" id="tblTableRecursiveCab"
                                             style="width: 1200px; overflow-x: auto;font-size:14px !important;"
                                             scrollable="true" scrollWidth="1000">
                                    <f:facet name="header" >  
                                        <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                    </f:facet>
                                    <c:forEach var="i" begin="0" end="#{procesoBancoMB.filasCab - 1}" >
                                        <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable2 centrado-texto">
                                            <f:facet name="header">
                                                <h:outputText value="Data #{i+1}"/>
                                            </f:facet>
                                            <h:outputText value="#{filaCab.listaContenedor.get(i).getValor()}"/>
                                        </p:column>
                                    </c:forEach>  
                                </p:dataTable>
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="#{msgs.etiquetaIntermEnvio}" rendered="#{not empty procesoBancoMB.listaContenedorEnvioIntermedio}">
                            <h:panelGrid id="pnlTableRecursiveInt" styleClass="centrado" >
                                <h:outputText value="Intermedio" />
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="#{msgs.etiquetaDetalleEnvio}" rendered="#{not empty procesoBancoMB.listaContenedorEnvio}">
                            <h:panelGrid id="pnlTableRecursive" styleClass="centrado" >
                                <p:dataTable value="#{procesoBancoMB.listaContenedorEnvio}" var="fila"
                                             rendered="#{not empty procesoBancoMB.listaContenedorEnvio}"
                                             paginator="true" paginatorPosition="bottom" rows="8" id="tblTableRecursive"
                                             style="width: 1200px; overflow-x: auto;font-size:14px !important;"
                                             scrollable="true" scrollWidth="1000">
                                    <f:facet name="header" >  
                                        <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" />
                                    </f:facet>
                                    <c:forEach var="i" begin="0" end="#{procesoBancoMB.filas - 1}" >
                                        <p:column filterMatchMode="contains" width="10%" styleClass="siseFontTable2 centrado-texto">
                                            <f:facet name="header">
                                                <h:outputText value="Data #{i+1}"/>
                                            </f:facet>
                                            <h:outputText value="#{fila.listaContenedor.get(i).getValor()}"/>
                                        </p:column>
                                    </c:forEach>  
                                </p:dataTable>
                            </h:panelGrid>
                        </p:tab>
                    </p:tabView> 
                </h:form> 
            </p:dialog>


            <h:form id="frmReporte">
                <p:dialog header="#{msgs.appSiglas}" widgetVar="popReporte" width="370" height="120" showEffect="fade" hideEffect="explode" modal="true">
                    <h:graphicImage value="/resources/images/icons/iconoInfo.png" />
                    <h:outputText value="#{msgs.notificacionExito}"/>
                    <br/>
                    <br/>
                    <div align="center">
                        <p:commandButton oncomplete="PF('popReporte').hide();" 
                                         value="#{msgs.botonCerrar}" >
                        </p:commandButton>
                    </div>
                </p:dialog>
            </h:form>

            <h:form id="frmEliminaEnvio">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popConfirm" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina">
                            <h:outputText value="#{msgs.panelCerrarEnvio}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{procesoBancoMB.cerrarFiltroEnvio()}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
                                         update=":frmTblproceso:pnlTblproceso,
                                         :frmPopEnvioDetaDetaCur:tabPopEnvioDetaDetaCur:pnlTableRecursiveCabCur,
                                         :frmPopEnvioDetaDetaCur:tabPopEnvioDetaDetaCur:pnlTableRecursiveIntCur,
                                         :frmPopEnvioDetaDetaCur:tabPopEnvioDetaDetaCur:pnlTableRecursiveCur,
                                         :frmPopEnvioDetaDeta:tabPopEnvioDetaDeta:pnlTableRecursiveCab,
                                         :frmPopEnvioDetaDeta:tabPopEnvioDetaDeta,
                                         :frmPopEnvioDetaDeta:tabPopEnvioDetaDeta:pnlTableRecursive"
                                         oncomplete="if(args.operacioncorrecta){PF('popConfirm').hide();PF('popEnvioDeta').hide();PF('popRecuperacion').hide();}else{PF('popConfirm').hide();PF('popEnvioDetaCurso').hide();PF('popRecuperacion').hide();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popConfirm').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDelProc" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>

            <h:form id="frmError">
                <p:dialog header="#{msgs.appSiglas}" widgetVar="popError" width="370" height="120" showEffect="fade" hideEffect="explode" modal="true">
                    <h:graphicImage value="/resources/images/icons/iconoInfo.png" />
                    <h:outputText value="Error en los datos"/>
                    <br/><br/> 
                    <div align="center">
                        <p:commandButton oncomplete="PF('popError').hide();" 
                                         value="#{msgs.botonCerrar}" >
                        </p:commandButton>
                    </div>
                </p:dialog>
            </h:form> 

            <p:dialog id="popEnvios" widgetVar="popEnvios" modal="true" showEffect="explode" minimizable="true" maximizable="true" width="600px" resizable="false" closeOnEscape="true"  >
                <h:form id="frmEnvios" >
                    <p:accordionPanel id="accRec" activeIndex="true" >
                        <p:tab title="#{msgs.etiquetaNuevaEnvio}">
                            <h:panelGrid id="pnlRecuperacion" columns="1" style="margin: 0 auto;" >
                                <p:fieldset legend="#{msgs.etiquetaConfigurar} #{msgs.etiquetaEnvio}" >
                                    <h:panelGrid columns="2" style="padding: 5px;" >
                                        <p:outputLabel value="#{msgs.EtiquetaNombre} #{msgs.etiquetaProceso}: " />
                                        <p:inputText value="#{procesoBancoMB.procesoBanco.nombre}" >
                                            <p:ajax event="change" listener="#{procesoBancoMB.obtenerNombre()}" />
                                        </p:inputText>
                                        <p:outputLabel value="#{msgs.etiquetaFecha} #{msgs.etiquetaOperacion}: " />
                                        <p:calendar value="#{procesoBancoMB.procesoBanco.fecha}" mode="popup" showOn="button" readonlyInput="true" 
                                                    pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" >
                                            <p:ajax event="dateSelect" listener="#{procesoBancoMB.obtenerFechaRecup()}" />
                                        </p:calendar>
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaBanco}: "  />
                                        <p:selectOneMenu value="#{procesoBancoMB.procesoBanco.ruc}" required="true" label="#{msgs.etiquetaBanco}" style="width: 200px;" >
                                            <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true" />
                                            <f:selectItems value="#{procesoBancoMB.listaEntidad}" var="banco" itemLabel="#{banco.nombre}" itemValue="#{banco.ruc}"/>
                                            <p:ajax event="change" listener="#{procesoBancoMB.cargarRuc()}" process="@this" update=":frmPopCodUniNeg"
                                                    oncomplete="if(args.openModalCodUniNeg){PF('popCodUniNeg').show()}" />
                                        </p:selectOneMenu> 
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaMoneda}: "/>
                                        <p:selectOneRadio id="moneda" value="#{procesoBancoMB.procesoBanco.moneda}" required="true" label="#{msgs.etiquetaMoneda}" >
                                            <f:selectItem itemLabel="#{msgs.etiquetaDolares}" itemValue= "1" />
                                            <f:selectItem itemLabel="#{msgs.etiquetaSoles}" itemValue= "0" />
                                        </p:selectOneRadio>
                                    </h:panelGrid>
                                    <h:panelGrid id="pnlDatosCtaBanco" columns="2" style="padding: 5px;" >
                                        <h:panelGrid columns="2" style="margin: 0 auto;" >
                                            <p:outputLabel value="#{msgs.EtiquetaCodigo} UniNeg: " />
                                            <p:inputText id="txtCodUniNeg" value="#{procesoBancoMB.procesoBanco.codUniNeg}" style="width: 60px;" readonly="true" />
                                        </h:panelGrid>
                                        <h:panelGrid columns="2" style="margin: 0 auto;" >
                                            <p:outputLabel value="#{msgs.etiquetaNroCue}: " />
                                            <p:inputText id="txtNumCuenta" value="#{procesoBancoMB.procesoBanco.numCuenta}" style="width: 90px;" readonly="true" />
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </p:fieldset>
                            </h:panelGrid>
                        </p:tab>
                    </p:accordionPanel>
                </h:form>
            </p:dialog>

            <!--Pop Envio-->
            <h:form id="frmEnvio" >
                <p:dialog id="popEnvio" widgetVar="popEnvio" modal="true" height="700px" showEffect="explode" minimizable="true" maximizable="true" width="1800px" resizable="false" closeOnEscape="true" >
                    <p:panel id="pnlDatAdi" header="#{msgs.etiquetaDatosDeEnvio}"   toggleable="true" toggleSpeed="500" closeSpeed="500" collapsed="#{procesoBancoMB.mostrarTabla}" ><!--rendered="#{procesoBancoMB.mostrarTabla}"-->
                        <div class="ui-grid ui-grid-responsive">
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-12" style="margin: 0 auto">
                                    <h:panelGrid id="pnlEnvioDeta" columns="3" style="margin: 0 auto">
                                        <h:panelGrid columns="1" style="margin:0 auto;padding-right: 100px;">
                                            <p:growl id="msgsEnvio" showDetail="true" />
                                            <h:panelGrid columns="3" style="margin: 0 auto"  >
                                                <p:outputLabel value="#{msgs.etiquetaNombre}"/>
                                                <p:outputLabel value=""/>
                                                <p:inputText id="txtNombreProc" value="#{procesoBancoMB.procesoEnvio.procesoBancoBean.nombre}" required="true" label="#{msgs.etiquetaNombre}" >
                                                </p:inputText>
                                                <p:outputLabel value="#{msgs.etiquetaTipoReg}" style="font-size: 15px;font-family: sans-serif;" class="negrita" />
                                                <p:outputLabel value=""/>
                                                <p:selectOneRadio id="console" value="#{procesoBancoMB.procesoEnvio.tipoRegistro}" required="true" label="#{msgs.etiquetaTipoReg}" >
                                                    <f:selectItem itemLabel="#{msgs.etiquetaRegistrar}" itemValue="R" />
                                                    <f:selectItem itemLabel="#{msgs.etiquetaModificar}" itemValue="M" />
                                                    <f:selectItem itemLabel="#{msgs.etiquetaEliminar}" itemValue="E" />
                                                </p:selectOneRadio>
                                            </h:panelGrid>
                                            <h:panelGrid columns="3">
                                                <p:outputLabel value="#{msgs.etiquetaMoneda}"/>
                                                <p:selectOneRadio id="moneda" value="#{procesoBancoMB.procesoEnvio.moneda}" style="padding-left: 40px;" required="true" label="#{msgs.etiquetaMoneda}" >
                                                    <f:selectItem itemLabel="#{msgs.etiquetaDolares}" itemValue= "1" />
                                                    <f:selectItem itemLabel="#{msgs.etiquetaSoles}" itemValue= "0" />
                                                </p:selectOneRadio>
                                            </h:panelGrid>
                                            <h:panelGrid id="pnlEnvio" columns="4" >
                                                <p:outputLabel value="#{msgs.etiquetaBanco}" />
                                                <p:inputText value="#{procesoBancoMB.procesoEnvio.procesoBancoBean.cuentaBancoBean.entidadBancoBean.nombre}" readonly="true" label="#{msgs.etiquetaBanco}" />
                                                <p:outputLabel value="" />
                                                <p:outputLabel value="" />
                                                <p:outputLabel value="#{msgs.etiquetaNumCta}" />
                                                <p:inputText value="#{procesoBancoMB.procesoEnvio.procesoBancoBean.cuentaBancoBean.numCuenta}" readonly="true" required="true" label="#{msgs.etiquetaNumCta}" />
                                                <p:commandLink id="btnBuscarIndicador" oncomplete="PF('popBuscar2').show();" process="@this" 
                                                               update=":frmPopEnvios" actionListener="#{procesoBancoMB.obtenerCuentaBanco()}">
                                                    <h:graphicImage value="/resources/images/icons/search2.png"   style="border:0; cursor:pointer;"/>
                                                </p:commandLink>
                                                <p:outputLabel value="" />
                                                <h:inputHidden value="#{procesoBancoMB.procesoEnvio.procesoBancoBean.cuentaBancoBean.codUniNeg}" />
                                                <h:inputHidden value="#{procesoBancoMB.procesoEnvio.procesoBancoBean.cuentaBancoBean.codUniNeg}" />
                                            </h:panelGrid>
                                            <h:panelGrid  columns="2" ><!--id="btnDesc"-->  
                                                <h:panelGrid style="margin: 0 auto" rendered="#{procesoBancoMB.mostrarBotonS}">
                                                    <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{procesoBancoMB.insertarMasivoEnvio()}" update=":frmPopBanco:btnDesc,:frmEnvio,:frmEnvio:msgsEnvio,:frmTblproceso:pnlTblproceso,:frmEnvio:pnlEnvioDeta,:frmNuevoProceso,:frmEnvio:msgSaveEnvio"
                                                                     oncomplete="if(args.operacionCorrecta){PF('popDone').show();PF('popEnvio').hide();}" />                                        
                                                </h:panelGrid>                                                                                            
                                            </h:panelGrid> 
                                            <p:messages id="msgSaveEnvio" showDetail="true" closable="true" />
                                        </h:panelGrid>
                                        <p:separator style="height: 150px;width: 20px;" />
                                        <p:fieldset legend="#{msgs.etiquetaResumenEnvio}" style="margin-bottom:20px">
                                            <h:panelGrid id="pnlDatosAdis" style="margin: 0 auto;padding-left: 50px;" columns="2" >
                                                <p:outputLabel value="#{msgs.etiquetaTotalRegistros}" />
                                                <p:inputText value="#{procesoBancoMB.envio}" readonly="true" style="background-color: #E6E6E6" />
                                                <p:outputLabel value="#{msgs.etiquetaTotalEnvio}" />
                                                <p:inputText value="#{procesoBancoMB.totalEnvios}" readonly="true" style="background-color: #E6E6E6" />
                                                <p:outputLabel value="#{msgs.etiquetaDatosErroneos}" />
                                                <p:inputText value="#{procesoBancoMB.totalErroneos}" readonly="true" style="background-color: #E6E6E6" />
                                                <p:outputLabel value="#{msgs.etiquetaFechaEnvio}" />
                                                <p:inputText value="#{procesoBancoMB.fechaEnvio}" readonly="true" style="background-color: #E6E6E6" />
                                            </h:panelGrid>
                                        </p:fieldset>
                                    </h:panelGrid>
                                </div>
                            </div>
                        </div>
                    </p:panel>
                    <p:panel id="pnlBusEnvios" header="#{msgs.etiquetaDetallePanelEnvio}" toggleable="true" toggleSpeed="500" closeSpeed="500" collapsed="#{procesoBancoMB.mostrarPanel}" ><!--rendered="#{procesoBancoMB.mostrarTabla}"-->
                        <p:layout style="width:1600px;height:550px" fullPage="false" styleClass="centrado">
                            <p:layoutUnit  position="west" size="750" header="#{msgs.etiquetaBuscadorFiltroEnvio}" resizable="false" closable="false" collapsible="true" effect="drop" collapsed="#{procesoBancoMB.mostrarLayout}" effectSpeed="500" >
                                <p:accordionPanel id="accBusEnvio" activeIndex="#{procesoBancoMB.mostrarAc}" style="width: 600px;margin: 0 auto;"  ><!--activeIndex="#{procesoBancoMB.mostrarPanelBus}"-->
                                    <p:tab title = "#{msgs.etiquetaDatosEnvio}" id="tabEnvio" >
                                        <center>
                                            <p:growl id="msgss" showDetail="true" />
                                            <h:panelGrid id="pnlPopEnvio" columns="3" style="margin:0 auto" >
                                                <p:outputLabel value="#{msgs.etiquetaCodigo}"  />
                                                <p:inputText id="txtCodEstu" value="#{procesoBancoMB.cuentasPorCobrarFiltroBean.estudianteBean.personaBean.idPersona}" label="estudiante">
                                                </p:inputText>
                                                <p:outputLabel value="" />
                                                <p:outputLabel value="#{msgs.etiquetaTipoConcepto}"  />
                                                <p:selectOneMenu id="txtTipoCon" value="#{procesoBancoMB.cuentasPorCobrarFiltroBean.conceptoBean.tipoConceptoBean.idTipoConcepto}" label="#{msgs.etiquetaNac}" filter="true" style="width: 200px">
                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                    <f:selectItems value="#{procesoBancoMB.listaTipoConceptoBean}" var="tipCon" itemLabel="#{tipCon.nombre}" itemValue="#{tipCon.idTipoConcepto}"/>
                                                    <p:ajax listener="#{procesoBancoMB.obtenerPorTipo}" process="@this" update="cmbConcepto" />
                                                </p:selectOneMenu> 
                                                <p:outputLabel value="" />
                                                <p:outputLabel value="#{msgs.etiquetaConcepto}"  />
                                                <p:selectOneMenu id="cmbConcepto" value="#{procesoBancoMB.cuentasPorCobrarFiltroBean.conceptoBean.idConcepto}" label="#{msgs.etiquetaNac}" filter="true" style="width: 200px">
                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                    <f:selectItems value="#{procesoBancoMB.listaconceptoBean}" var="con" itemLabel="#{con.nombre}" itemValue="#{con.idConcepto}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="" /> 
                                                <p:outputLabel value="#{msgs.etiquetaAnio}"  /> 
                                                <p:spinner id="txtAniosEn" value="#{procesoBancoMB.cuentasPorCobrarFiltroBean.anios}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaAnio}" size="1">
                                                </p:spinner> 
                                                <p:outputLabel value="" />
                                                <p:outputLabel value="#{msgs.etiquetaMes}" />
                                                <p:selectOneMenu id="txtMesEnvio" effect="fold" value="#{procesoBancoMB.cuentasPorCobrarFiltroBean.mes}"  class="resetSelect" style="width:200px" panelStyle="width:125px">
                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                    <f:selectItems value="#{legajoMB.listaMesesExpMap}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="" /> 
                                                <p:outputLabel value="#{msgs.etiquetaDia}"  /> 
                                                <p:spinner id="minMax2" value="#{procesoBancoMB.cuentasPorCobrarFiltroBean.dia}" min="1" max="31" label="#{msgs.etiquetaDia}" size="1">
                                                </p:spinner>
                                                <p:outputLabel value="" /> 
                                                <p:outputLabel value="Estado de Cuenta" />
                                                <p:selectOneMenu id="txtEstadoCuen" effect="fold" value="#{procesoBancoMB.cuentasPorCobrarFiltroBean.idEstadoCuenta}"  class="resetSelect" style="width:200px" panelStyle="width:125px">
                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                    <f:selectItems value="#{procesoBancoMB.listaTipoEstatusCuenta}" var="estado" itemLabel="#{estado.codigo}" itemValue="#{estado.idCodigo}" />
                                                </p:selectOneMenu>
                                                <p:outputLabel value="" />
                                            </h:panelGrid>
                                            <h:panelGrid style="margin: 0 auto;" columns="2" >
                                                <p:commandButton value="#{msgs.botonBuscar}" actionListener="#{procesoBancoMB.obtenerEnvioCuenta()}" process="@this,:frmEnvio:accBusEnvio:txtCodEstu,:frmEnvio:accBusEnvio:txtTipoCon,:frmEnvio:accBusEnvio:cmbConcepto,:frmEnvio:accBusEnvio:txtAniosEn,:frmEnvio:accBusEnvio:txtMesEnvio,:frmEnvio:accBusEnvio:minMax2,:frmEnvio:accBusEnvio:txtEstadoCuen,:frmEnvio:msgEnvio"
                                                                 update=":frmEnvio:pnlBusEnvio,:frmEnvio:pnlDatAdi,:frmEnvio:pnlDatosAdis,:frmEnvio:pnlBusEnvios,:frmEnvio:accBusEnvio,:frmEnvio:pnlDatMatricula,:frmEnvio:accBusEnvio:msgss,:frmEnvio:msgEnvio" />
                                                <p:commandButton value="#{msgs.botonNuevo}" actionListener="#{procesoBancoMB.limpiarBusqueda()}" process="@this,:frmEnvio:accBusEnvio:txtCodEstu,:frmEnvio:accBusEnvio:txtTipoCon,:frmEnvio:accBusEnvio:cmbConcepto,:frmEnvio:accBusEnvio:txtAniosEn,:frmEnvio:accBusEnvio:txtMesEnvio,:frmEnvio:msgEnvio"
                                                                 update=":frmEnvio:accBusEnvio,:frmEnvio:pnlDatMatricula,:frmEnvio:pnlBusEnvio,:frmEnvio:pnlDatosAdis" />
                                            </h:panelGrid> 
                                        </center>
                                    </p:tab>
                                </p:accordionPanel>
                                <br/>
                                <h:panelGrid id="pnlMatricula" rendered="true" style="margin:0 auto">
                                    <p:panel id="pnlDatMatricula" header="#{msgs.etiquetaMatriculados}"  toggleable="true" toggleSpeed="500" closeSpeed="500" collapsed="#{procesoBancoMB.mostrarMatricula}" style="width: 700px" >
                                        <h:panelGrid styleClass="centrado-izq" columns="2" >
                                            <p:outputLabel value="#{msgs.etiquetaSelAnio} de #{msgs.etiquetaMatriculados}: " />
                                            <p:spinner id="minMax" value="#{procesoBancoMB.matriculaFiltroBean.anioIni}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaPeriodo}" size="1">
                                                <p:ajax event="change" listener="#{procesoBancoMB.actualizarAnioMatricula()}" update=":frmEnvio:pnlMatricula" />
                                            </p:spinner>
                                        </h:panelGrid>
                                        <h:panelGrid style="margin: 0 auto;" columns="1" >
                                            <p:panel header="#{msgs.etiquetaResumen}" style="margin-bottom:20px;background-color: #dddddd;color: #000000;width: 500px;font-size: 150px;margin: 0 auto;" rendered="#{empty procesoBancoMB.listaMatriculaBean}">
                                                <p:outputLabel value="#{msgs.etiquetaMensajeBanco}" rendered="#{empty procesoBancoMB.listaMatriculaBean}" />
                                            </p:panel>
                                        </h:panelGrid>
                                        <h:panelGrid id="pnlTableMatricula" styleClass="centrado">
                                            <p:dataTable value="#{procesoBancoMB.listaMatriculaBean}" paginator="true" 
                                                         var="matricula" id="tblMatricula"  widgetVar="tblMatricula" selectionMode="single"
                                                         rows="#{procesoBancoMB.numRegistrosTablas}" rowKey="#{matricula}" editable="true"
                                                         paginatorPosition="bottom" rendered="#{not empty procesoBancoMB.listaMatriculaBean}"
                                                         style="width: 600px; font-size: 10px" class="ui-datatable">
                                                <p:ajax listener="#{procesoBancoMB.ponerEstudianteFiltro}" event="rowSelect"
                                                        update=":frmEnvio:accBusEnvio,:frmEnvio:pnlBusEnvio,:frmEnvio:accBusEnvio:msgss,:frmEnvio:pnlBusEnvios,:frmEnvio:pnlDatosAdis"/>
                                                <p:column filterBy="#{matricula.estudianteBean.personaBean.idPersona}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto" >
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="#{msgs.etiquetaCodigoAlumno}" />
                                                    </f:facet>
                                                    <h:outputText value="#{matricula.estudianteBean.personaBean.idPersona}" />
                                                </p:column>
                                                <p:column filterBy="#{matricula.estudianteBean.personaBean.nombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto" >
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="#{msgs.EtiquetaNombre}" />
                                                    </f:facet>
                                                    <h:outputText value="#{matricula.estudianteBean.personaBean.nombre}"/>
                                                </p:column>
                                                <p:column filterBy="#{matricula.estudianteBean.personaBean.apepat}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto" >
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="#{msgs.etiquetaApePat}" />
                                                    </f:facet>
                                                    <h:outputText value="#{matricula.estudianteBean.personaBean.apepat}"  />
                                                </p:column>
                                                <p:column filterBy="#{matricula.estudianteBean.personaBean.apemat}" filterMatchMode="contains" width="2%" styleClass="siseFontTable2 centrado-texto" >
                                                    <f:facet name="header" >
                                                        <p:outputLabel value="#{msgs.etiquetaApeMat}" />
                                                    </f:facet>
                                                    <h:outputText value="#{matricula.estudianteBean.personaBean.apemat}" />
                                                </p:column>
                                            </p:dataTable>
                                        </h:panelGrid>
                                    </p:panel>
                                </h:panelGrid>
                            </p:layoutUnit>
                            <p:layoutUnit position="center"> 
                                <h:panelGrid id="pnlBusEnvio" style="margin: 0 auto" columns="1" rendered="#{procesoBancoMB.mostrarPanelBus}" ><!--rendered="#{procesoBancoMB.mostrarTabla}"-->
                                    <!--
                                    <p:panel header="#{msgs.etiquetaResumen}" footer="#{msgs.etiquetaFooResumen}" style="margin-bottom:20px;background-color: #dddddd;color: #000000;width: 700px;font-size: 150px;" rendered="#{empty procesoBancoMB.listaCtaFiltro}">
                                        <p:outputLabel value="#{msgs.etiquetaResumenBusqueda}" rendered="#{empty procesoBancoMB.listaCtaFiltro}" />
                                    </p:panel>
                                    -->
                                    <p:growl id="msgsEdit" showDetail="true" />
                                    <p:messages id="msgEnvio" closable="true" showDetail="true" />
                                    <p:dataTable value="#{procesoBancoMB.listaCtaFiltro}" paginator="true" 
                                                 var="envio" id="tblEnvio"  widgetVar="tblEnvio" selection="#{procesoBancoMB.cuentasPorCobrarBean}"
                                                 rows="#{procesoBancoMB.numRegistrosTablas}" rowKey="#{envio}" editable="true"
                                                 paginatorPosition="bottom" rendered="#{not empty procesoBancoMB.listaCtaFiltro}"
                                                 style="width: 1000px; font-size: 12px; padding-top: 50px;" class="ui-datatable">
                                        <p:ajax event="rowEdit" listener="#{procesoBancoMB.onRowEdit2}" update=":frmEnvio:msgsEdit" />
                                        <p:ajax event="rowEditCancel" listener="#{procesoBancoMB.onRowCancel2}" update=":frmEnvio:msgsEdit" />
                                        <f:facet name="header" >
                                            <p:outputLabel value="#{msgs.etiquetaEnvio}" />
                                        </f:facet>
                                        <p:column headerText="#{msgs.EtiquetaCodigo}" >
                                            <f:facet name="header">
                                                <p:outputLabel value="#{msgs.EtiquetaCodigo}" />
                                            </f:facet>
                                            <h:outputText value="#{envio.estudianteBean.personaBean.idPersona}" />
                                            <h:inputHidden value="#{envio.procesoRecuperacionBean.procesoBancoBean.idProcesoBanco}" />
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaNomCom}" >
                                            <f:facet name="header" >
                                                <p:outputLabel value="#{msgs.etiquetaNomCom}" />
                                            </f:facet>
                                            <h:outputText value="#{envio.estudianteBean.personaBean.nombreCompleto}" style="font-size: 11px;" />
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaConcepto}" width="100px" >
                                            <f:facet name="header" >
                                                <p:outputLabel value="#{msgs.etiquetaConcepto}" />
                                            </f:facet>
                                            <h:outputText value="#{envio.conceptoBean.nombre}" />
                                            <h:inputHidden value="#{envio.conceptoBean.idConcepto}" />
                                            <h:inputHidden value="#{envio.conceptoBean.tipoConceptoBean.idTipoConcepto}" />
                                        </p:column>
                                        <p:column headerText="#{msgs.etiquetaMoneda}">
                                            <f:facet name="header" >
                                                <p:outputLabel value="#{msgs.etiquetaMoneda}" />
                                            </f:facet>
                                            <h:outputText value="#{envio.idTipoMoneda.codigo}" />
                                            <h:inputHidden value="#{envio.idTipoMoneda.idCodigo}" />
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header" >
                                                <p:outputLabel value="#{msgs.etiquetaMonto}" />
                                            </f:facet>
                                            <h:outputText value="#{envio.monto}" />
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header" >
                                                <p:outputLabel value="#{msgs.etiquetaFecha}" />
                                            </f:facet>
                                            <h:outputText value="#{envio.fechaVenc}">
                                                <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                                            </h:outputText>
                                            <h:inputHidden value="#{envio.anios}" />
                                            <h:inputHidden value="#{envio.meses}" />
                                            <h:inputHidden value="#{envio.procesoEnvioBean.idProcesoEnvio}" />
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <p:outputLabel value="#{msgs.etiquetaStatus}" />
                                            </f:facet>
                                            <h:outputText value="#{envio.statusProvision}" />
                                        </p:column>
                                        <p:column id="flgEnvio" style="width: 50px">
                                            <center>
                                                <f:facet name="header" >
                                                    <p:selectBooleanCheckbox value="#{procesoBancoMB.flgStatus}">
                                                        <p:ajax event="change" listener="#{procesoBancoMB.modificarStatusCuentas()}" update=":frmEnvio:pnlBusEnvio,:frmEnvio:pnlDatosAdis"/>
                                                    </p:selectBooleanCheckbox>
                                                </f:facet>
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <p:selectBooleanCheckbox value="#{envio.flgEnvio}"/>
                                                    </f:facet>
                                                    <f:facet name="input" >
                                                        <p:selectBooleanCheckbox value="#{envio.flgEnvio}"/>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </center>
                                        </p:column>
                                        <p:column style="width: 50px">
                                            <p:rowEditor />
                                        </p:column>
                                    </p:dataTable>
                                </h:panelGrid>
                                <br/>
                                <br/>
                                <h:panelGrid columns="2" style="margin: 0 auto" rendered="#{procesoBancoMB.mostrarAlerta}" >
                                    <p:outputLabel value="#{msgs.etiquetaMensajeAcc}"></p:outputLabel> 
                                    <p:commandLink style="color: red;text-decoration: none" actionListener="#{procesoBancoMB.activarBusqueda()}" process="@this"
                                                   update=":frmEnvio:pnlBusEnvio,:frmEnvio:pnlDatAdi,:frmEnvio:pnlDatosAdis,:frmEnvio:pnlBusEnvios,:frmEnvio:accBusEnvio,:frmEnvio:pnlDatMatricula,:frmEnvio:accBusEnvio:msgss">
                                        click aqui</p:commandLink>
                                </h:panelGrid>
                            </p:layoutUnit>
                        </p:layout>
                    </p:panel>
                    <h:panelGrid>
                        <p:commandButton value="#{msgs.botonCerrar}" oncomplete="PF('popEnvio').hide()" style="float: right;" />
                    </h:panelGrid>
                </p:dialog>
            </h:form> 
            <h:form id="frmPopEnvios" > 
                <p:dialog id="popBuscar2" widgetVar="popBuscar2" modal="true" >
                    <p:dataTable value="#{procesoBancoMB.listaCuentaBancoBean}" paginator="true" 
                                 var="enviodet" id="tblEnvio" widgetVar="tblEnvio"
                                 rows="#{procesoBancoMB.numRegistrosTablas}" rowKey="#{envio}" editable="true"
                                 paginatorPosition="bottom" rendered="#{not empty procesoBancoMB.listaCuentaBancoBean}"
                                 style="width: 600px; font-size: 12px" class="ui-datatable" >
                        <f:facet name="header" >
                            <p:outputLabel value="#{msgs.etiquetaCuenta}" />
                        </f:facet>
                        <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                            <f:facet name="header">
                                <p:outputLabel value="Codido de Uni Neg" />
                            </f:facet> 
                            <h:outputText value="#{enviodet.codUniNeg}" />
                        </p:column>
                        <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                            <f:facet name="header">
                                <p:outputLabel value="Numero Cuenta" />
                            </f:facet> 
                            <h:outputText value="#{enviodet.numCuenta}" />
                        </p:column>
                        <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                            <f:facet name="header">
                                <p:outputLabel value="Banco" />
                            </f:facet> 
                            <h:outputText value="#{enviodet.entidadBancoBean.nombre}" />
                        </p:column>
                        <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto">
                            <f:facet name="header">
                                <h:outputText value="#{msgs.etiquetaAcciones}" />
                            </f:facet>
                            <p:commandLink id="cmdSelInd" actionListener="#{procesoBancoMB.ponerCuenta(enviodet)}"
                                           update=":frmEnvio:pnlEnvio"
                                           oncomplete="PF('popBuscar2').hide();">   
                                <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                            </p:commandLink>
                            <p:tooltip id="toolTipAdd" for="cmdSelInd" value="#{msgs.toolTipSeleccionar}" />
                        </p:column>
                    </p:dataTable>
                </p:dialog>
            </h:form>

            <h:form id="frmElimina">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminar" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.etiquetaNombre}: #{procesoBancoMB.procesoBancoBean.nombre}"/>
                            <h:outputLabel value="Total de Registros: #{procesoBancoMB.procesoBancoBean.regEnv}"/>
                            <h:outputLabel value="Monto Total: #{procesoBancoMB.procesoBancoBean.montoEnv}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" class="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{procesoBancoMB.eliminarMasivo()}" 
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmPopBanco:pnlPopBanco,msgsDelProc,:frmTblproceso:pnlTblproceso,:frmPopBanco"
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDelProc" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>

            <script type="text/javascript">
                function start() {
                    PF('statusDialog').show();
                }

                function stop() {
                    PF('statusDialog').hide();
                }
            </script>

            <script type="text/javascript">
                function initDND() {
                    $('.ui-treenode-leaf').draggable({
                        helper: 'clone',
                        scope: 'treetotable',
                        zIndex: ++PrimeFaces.zindex
                    });

                    $('.ui-datatable .droppoint').droppable({
                        activeClass: 'ui-state-active',
                        hoverClass: 'ui-state-highlight',
                        tolerance: 'pointer',
                        scope: 'treetotable',
                        drop: function (event, ui) {
                            var property = ui.draggable.find('.ui-treenode-label').text(),
                                    droppedColumnId = $(this).parents('th:first').attr('id'),
                                    dropPos = $(this).hasClass('dropleft') ? 0 : 1;

                            treeToTable([
                                {name: 'property', value: property}
                                , {name: 'droppedColumnId', value: droppedColumnId}
                                , {name: 'dropPos', value: dropPos}
                            ]);
                        }
                    });

                    $('.ui-datatable th').draggable({
                        scope: 'tabletotree',
                        helper: function () {
                            var th = $(this);

                            return th.clone().appendTo(document.body).css('width', th.width());
                        }
                    });

                    $('.ui-tree').droppable({
                        helper: 'clone',
                        scope: 'tabletotree',
                        activeClass: 'ui-state-active',
                        hoverClass: 'ui-state-highlight',
                        tolerance: 'touch',
                        drop: function (event, ui) {
                            tableToTree([
                                {name: 'colIndex', value: ui.draggable.index()}
                            ]);
                        }
                    });
                }

                $(function () {
                    initDND();
                });
            </script>

        </h:body>
    </ui:define>
</ui:composition>



