<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui" 
                template="/plantilla/plantillaPrincipal.xhtml">
    <ui:define name="content">
        <h:body>
            <p:layout fullPage="false"  style="width:1300px;height:750px" styleClass="centrado">
                <p:layoutUnit position="west" size="700" header="#{msgs.etiquetaBusFamilia}" resizable="false" closable="false" 
                              collapsible="true" effect="drop" collapsed="false" effectSpeed="500">
                    <h:panelGrid styleClass="centrado">
                        <h:form id="frmDatosFamilia">
                            <h:panelGrid  id="pnlFiltroFamilia">
                                <p:panel    style="width: 650px" toggleable="true" toggleSpeed="500" closeSpeed="500" header="#{msgs.etiquetaFiltros}">
                                    <h:panelGrid columns="1"  >
                                        <p:fieldset legend="#{msgs.etiquetaDatosPadre}" styleClass="fieldsize3" style="width: 400px">
                                                 <h:panelGrid columns="3"  styleClass="siseFontTable3"  >
                                                    <h:outputLabel value="#{msgs.etiquetaCodigo} " styleClass="negrita"/>
                                                    <h:outputLabel value=" (#{msgs.etiquetaDocId}):" style="color: red" styleClass="negrita"/>
                                                    <p:inputText value="#{familiaMB.familiaFiltroBean.padreBean.personaBean.idPersona}" size="15" maxlength="15" />
                                                </h:panelGrid>
                                                <h:panelGrid columns="3"  styleClass="siseFontTable3" >
                                                    <h:outputLabel value="#{msgs.etiquetaApepat}:" styleClass="negrita"/>   
                                                    <h:outputLabel value="#{msgs.etiquetaApemat}:" styleClass="negrita"/> 
                                                    <h:outputLabel value="#{msgs.etiquetaNombre}:" styleClass="negrita"/>
                                                    <p:inputText value="#{familiaMB.familiaFiltroBean.padreBean.personaBean.apepat}" size="25" maxlength="29" />
                                                    <p:inputText value="#{familiaMB.familiaFiltroBean.padreBean.personaBean.apemat}" size="25" maxlength="29" /> 
                                                    <p:inputText value="#{familiaMB.familiaFiltroBean.padreBean.personaBean.nombre}" size="25" maxlength="29" />
                                                </h:panelGrid> 
                                        </p:fieldset>
                                        <p:fieldset legend="#{msgs.etiquetaDatosMadre}" styleClass="fieldsize3" style="width: 400px">

                                            <h:panelGrid columns="3" styleClass="siseFontTable3">
                                                <h:outputLabel value="#{msgs.etiquetaCodigo} " styleClass="negrita"/>
                                                <h:outputLabel value=" (#{msgs.etiquetaDocId}):" style="color: red" styleClass="negrita"/>
                                                <p:inputText value="#{familiaMB.familiaFiltroBean.madreBean.personaBean.idPersona}" size="15" maxlength="15" /> 
                                            </h:panelGrid>
                                            <h:panelGrid columns="3" styleClass="siseFontTable3">
                                                <h:outputLabel value="#{msgs.etiquetaApepat}:" styleClass="negrita"/>
                                                <h:outputLabel value="#{msgs.etiquetaApemat}:" styleClass="negrita"/>
                                                <h:outputLabel value="#{msgs.etiquetaNombre}:" styleClass="negrita"/>                                           
                                                <p:inputText value="#{familiaMB.familiaFiltroBean.madreBean.personaBean.apepat}" size="25" maxlength="29" />                             
                                                <p:inputText value="#{familiaMB.familiaFiltroBean.madreBean.personaBean.apemat}" size="25" maxlength="29" />     
                                                <p:inputText value="#{familiaMB.familiaFiltroBean.madreBean.personaBean.nombre}" size="25" maxlength="29" /> 
                                            </h:panelGrid>
                                        </p:fieldset>
                                    </h:panelGrid>
                                    <h:panelGrid styleClass="centrado" columns="2">
                                        <p:commandButton value="#{msgs.botonBuscar}" action="#{familiaMB.obtenerFiltroFamilia()}" update="pnlTablaFamilia,msg"/>
                                    </h:panelGrid>
                                    <p:messages autoUpdate="false" id="msg" />
                                </p:panel>
                            </h:panelGrid>
                            <h:panelGrid id="pnlTablaFamilia" styleClass="centrado"> 
                                <p:dataTable id="tblFamilia" value="#{familiaMB.listaFamiliaBean}" widgetVar="tblFamilia" 
                                             paginator="true" selectionMode="single" paginatorPosition="bottom" rowIndexVar="n" selection="#{familiaMB.familiaBean}" 
                                             var="familia" rowKey="#{familia}"  rows="#{familiaMB.numRegistrosTablas}" 
                                             rendered="#{not empty familiaMB.listaFamiliaBean}" 
                                             style="width: 660px;font-size:14px !important;margin-bottom:0">
                                    <p:ajax event="rowSelect" listener="#{familiaMB.rowSelect}" update=":tabFamilia"/>
                                    <f:facet name="header" >
                                        <h:outputText value="#{msgs.tituloPostulantes}" />  
                                    </f:facet>
                                    <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="15" styleClass="siseFontTable3 centrado-texto">
                                        <h:outputText value="#{n+1}" />
                                    </p:column>
                                    <p:column headerText="#{msgs.etiquetaPad}" styleClass="siseFontTable3 centrado-texto" width="210">
                                        <h:panelGrid columns="1" >
                                            <h:outputText value="#{msgs.etiquetaPad}: #{familia.padreBean.personaBean.nombreCompleto}"/> 
                                            <h:outputText value="#{msgs.etiquetaMad}: #{familia.madreBean.personaBean.nombreCompleto}"/>
                                        </h:panelGrid>
                                    </p:column>
                                    <p:column headerText="#{msgs.etiquetaDNI}" width="90" styleClass="siseFontTable3 centrado-texto">
                                        <h:panelGrid columns="1" >
                                            <h:outputText value="#{familia.padreBean.personaBean.nroDoc}" 
                                                          rendered="#{familia.padreBean.personaBean.nroDoc != null or familia.padreBean.personaBean.nroDoc != ''}"/> 
                                            <h:outputText value="- - - - - - - -" 
                                                          rendered="#{familia.padreBean.personaBean.nroDoc == null or familia.padreBean.personaBean.nroDoc == ''}"/>
                                            <h:outputText value="#{familia.madreBean.personaBean.nroDoc}" 
                                                          rendered="#{familia.madreBean.personaBean.nroDoc != null or familia.madreBean.personaBean.nroDoc != ''}"/>
                                            <h:outputText value="- - - - - - - -" 
                                                          rendered="#{familia.madreBean.personaBean.nroDoc == null or familia.madreBean.personaBean.nroDoc == ''}"/>
                                        </h:panelGrid>
                                    </p:column>
                                    <p:column  headerText="#{msgs.EtiquetaNombre}" filterMatchMode="contains" width="50" styleClass="siseFontTable3 centrado-texto">
                                        <h:outputText value="#{familia.nombre}" />
                                    </p:column>
                                </p:dataTable>
                            </h:panelGrid>
                        </h:form>
                    </h:panelGrid>
                </p:layoutUnit>
                <p:layoutUnit position="center" styleClass="centrado">
                    <p:panel header="#{msgs.tituloMantFamilia}">

                        <!--h:form id="frmFamiliaDetalle"-->
                        <p:tabView id="tabFamilia">
                            <p:tab title="#{msgs.etiquetaDatosPadre}">
                                <h:form id="frmPadre"> 
                                    <p:fieldset legend="#{msgs.etiquetaDatosBas}">
                                        <h:panelGrid columns="9" id="pnlPersonaPadre" cellpadding="3" style="font-size: 1em">
                                            <h:outputLabel value="#{msgs.etiquetaApepat}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.personaBean.apepat}" required="true" label="#{msgs.etiquetaApepat}" size="25" maxlength="25"/> 
                                            <h:outputLabel value="#{msgs.etiquetaApemat}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.personaBean.apemat}" required="true" label="#{msgs.etiquetaApemat}" size="25" maxlength="25"/> 
                                            <h:outputLabel value="#{msgs.etiquetaNombre}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.personaBean.nombre}" required="true" label="#{msgs.etiquetaNombre}" size="25" maxlength="25"/> 
                                            <h:outputLabel value="#{msgs.etiquetaDocPer}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneMenu value="#{familiaMB.familiaBean.padreBean.personaBean.idTipoDocPer.idCodigo}" required="true" label="#{msgs.etiquetaDocPer}"
                                                             style="width: 200px" panelStyle="width:200px" styleClass="resetSelect">
                                                <f:selectItems value="#{estudianteMB.listaDocPer}" var="docPer" itemLabel="#{docPer.codigo}" itemValue="#{docPer.idCodigo}"/>
                                            </p:selectOneMenu>
                                            <h:outputLabel value="#{msgs.etiquetaNroDoc}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.personaBean.nroDoc}" required="true" label="#{msgs.etiquetaNroDoc}" size="20" maxlength="19"/> 
                                            <h:outputLabel value="#{msgs.etiquetaFecNac}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:calendar id="fecIni" value="#{familiaMB.familiaBean.padreBean.personaBean.fecNac}"  label="#{msgs.etiquetaNaci}" mode="popup"
                                                        pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                            </p:calendar> 
                                            <h:outputLabel value="#{msgs.etiquetaCorreoPer}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputTextarea  value="#{familiaMB.familiaBean.padreBean.personaBean.correo}" label="#{msgs.etiquetaCorreoPer}" cols="30" rows="2" maxlength="49"/>
                                            <h:outputLabel value="#{msgs.etiquetaNac}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneMenu value="#{familiaMB.familiaBean.padreBean.personaBean.paisBean.idPais}"    label="#{msgs.etiquetaNac}"  
                                                             style="width: 200px" panelStyle="width:200px" styleClass="resetSelect">
                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                <f:selectItems value="#{estudianteMB.listaNacionalidad}" var="nacionalidad" itemLabel="#{nacionalidad.nacionalidad}" itemValue="#{nacionalidad.idPais}"/>
                                            </p:selectOneMenu>
                                            <h:outputLabel value="#{msgs.etiquetaSexo}" styleClass="negrita"/>
                                            <h:outputText value=" "  styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.padreBean.personaBean.sexo}" label="#{msgs.etiquetaSexo}">
                                                <f:selectItem itemValue="1" itemLabel="#{msgs.comboMasculino}"/>
                                                <f:selectItem itemValue="0" itemLabel="#{msgs.comboFemenino}"/>
                                            </p:selectOneRadio>
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <p:fieldset legend="#{msgs.etiquetaDatAdicionales}">
                                        <h:panelGrid columns="9" styleClass="siseFontGrid5" id="pnlFamiliarPadre">
                                            <h:outputLabel value="#{msgs.etiquetaProfesion}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.padreBean.profesion}" label="#{msgs.etiquetaProfesion}"/>
                                            <h:outputLabel value="#{msgs.etiquetaOcupacion}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.padreBean.ocupacion}" label="#{msgs.etiquetaOcupacion}"/>
                                            <h:outputLabel value="#{msgs.etiquetaFlgVive}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.padreBean.flgVive}" 
                                                               label="#{msgs.etiquetaFlgVive}">
                                                <f:selectItem itemValue="#{true}" itemLabel="#{msgs.etiquetaSi}"/>
                                                <f:selectItem itemValue="#{false}" itemLabel="#{msgs.etiquetaNo}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel value="#{msgs.etiquetaFlgCatolico}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.padreBean.flgCatolico}" 
                                                               label="#{msgs.etiquetaFlgCatolico}">
                                                <f:selectItem itemValue="#{true}" itemLabel="#{msgs.etiquetaSi}"/>
                                                <f:selectItem itemValue="#{false}" itemLabel="#{msgs.etiquetaNo}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel value="#{msgs.etiquetaFlgMarista}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.padreBean.flgMarista}" 
                                                               label="#{msgs.etiquetaFlgMarista}">
                                                <f:selectItem itemValue="#{true}" itemLabel="#{msgs.etiquetaSi}"/>
                                                <f:selectItem itemValue="#{false}" itemLabel="#{msgs.etiquetaNo}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel value="#{msgs.etiquetaAnoEgreCole}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.anioEgresoColegio}"   label="#{msgs.etiquetaAnoEgreCole}"/>
                                            <h:outputLabel value="#{msgs.etiquetaColeg}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.nombreColegio}"   label="#{msgs.etiquetaColeg}"/>
                                            <h:outputLabel value="#{msgs.etiquetaTelFijo}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.telefonoFijo}"   label="#{msgs.etiquetaTelFijo}"/>
                                            <h:outputLabel value="#{msgs.etiquetaTelCel}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.telefonoCelular}" label="#{msgs.etiquetaTelCel}"/>
                                            <h:outputLabel value="#{msgs.etiquetaTelOfi}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.padreBean.telefonoOficina}"  label="#{msgs.etiquetaTelOfi}"/>
                                            <h:outputLabel value="#{msgs.etiquetaCentroLab}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.padreBean.centroLaboral}" label="#{msgs.etiquetaCentroLab}"/>
                                            <h:outputLabel value="#{msgs.etiquetaCargo}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.padreBean.cargo}" label="#{msgs.etiquetaCargo}"/>
                                            <h:outputLabel value="#{msgs.etiquetaHobby}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.padreBean.hobby}" label="#{msgs.etiquetaHobby}"/>
                                            <h:outputLabel value="#{msgs.etiquetaGrupParro}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.padreBean.flgGrupoParroquial}" 
                                                               label="#{msgs.etiquetaGrupParro}">
                                                <f:selectItem itemValue="#{true}" itemLabel="#{msgs.etiquetaSi}"/>
                                                <f:selectItem itemValue="#{false}" itemLabel="#{msgs.etiquetaNo}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel value="#{msgs.etiquetaParr}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.padreBean.nombreParroquia}" label="#{msgs.etiquetaParr}"/>
                                            <h:outputText value="(*) Requerido" styleClass="requerido"/>
                                            <h:inputHidden />
                                            <h:inputHidden />
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <h:panelGrid styleClass="centrado" columns="2">
                                        <p:commandButton actionListener="#{familiaMB.guardarFamiliar('Padre')}" update="msgsPadre"
                                                         oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                         value="#{msgs.botonGrabar}">
                                        </p:commandButton>
                                        <p:commandButton actionListener="#{familiaMB.limpiarPadreEstudianteBean()}" update="pnlPersonaPadre,pnlFamiliarPadre"
                                                         value="#{msgs.botonNuevo}" process="@form">
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:messages id="msgsPadre" showDetail="true" showSummary="false"/>
                                </h:form>
                            </p:tab>
                            <p:tab title="#{msgs.etiquetaDatosMadre}">
                                <h:form id="frmMadre">
                                    <p:fieldset legend="#{msgs.tituloBusPersonas}" styleClass="centrado">
                                        <h:panelGrid columns="6" styleClass="siseFontGrid">
                                            <h:outputLabel value="#{msgs.etiquetaFamiliar}" styleClass="negrita"/>
                                            <h:outputText value="*" styleClass="requerido"/> 
                                            <p:commandLink actionListener="#{familiaMB.limpiarFamiliarFiltro('madre')}" oncomplete="PF('popFamiliar').show();" process="@this" update=":frmBuscarFamiliares">
                                                <h:graphicImage value="/resources/images/icons/search2.png"   style="border:0; cursor:pointer;"/>
                                            </p:commandLink>
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <p:fieldset legend="#{msgs.etiquetaDatosBas}">
                                        <h:panelGrid columns="9" id="pnlPersonaMadre" cellpadding="3" style="font-size: 1em">
                                            <h:outputLabel value="#{msgs.etiquetaApepat}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.personaBean.apepat}" required="true"  label="#{msgs.etiquetaApepat}" size="25" maxlength="25"/> 
                                            <h:outputLabel value="#{msgs.etiquetaApemat}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.personaBean.apemat}"  required="true"  label="#{msgs.etiquetaApemat}" size="25" maxlength="25"/> 
                                            <h:outputLabel value="#{msgs.etiquetaNombre}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.personaBean.nombre}"  required="true"  label="#{msgs.etiquetaNombre}" size="25" maxlength="25"/> 
                                            <h:outputLabel value="#{msgs.etiquetaDocPer}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneMenu value="#{familiaMB.familiaBean.madreBean.personaBean.idTipoDocPer.idCodigo}"  required="true"  label="#{msgs.etiquetaDocPer}"
                                                             style="width: 200px" panelStyle="width:200px" styleClass="resetSelect">
                                                <f:selectItems value="#{estudianteMB.listaDocPer}" var="docPer" itemLabel="#{docPer.codigo}" itemValue="#{docPer.idCodigo}"/>
                                            </p:selectOneMenu>
                                            <h:outputLabel value="#{msgs.etiquetaNroDoc}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.personaBean.nroDoc}"  required="true"  label="#{msgs.etiquetaNroDoc}" size="20" maxlength="19"/> 
                                            <h:outputLabel value="#{msgs.etiquetaFecNac}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:calendar value="#{familiaMB.familiaBean.madreBean.personaBean.fecNac}" label="#{msgs.etiquetaNaci}" mode="popup"
                                                        pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                            </p:calendar> 
                                            <h:outputLabel value="#{msgs.etiquetaCorreoPer}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputTextarea  value="#{familiaMB.familiaBean.madreBean.personaBean.correo}" label="#{msgs.etiquetaCorreoPer}" cols="30" rows="2" maxlength="49"/>
                                            <h:outputLabel value="#{msgs.etiquetaNac}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneMenu value="#{familiaMB.familiaBean.madreBean.personaBean.paisBean.idPais}" label="#{msgs.etiquetaNac}"  
                                                             style="width: 200px" panelStyle="width:200px" styleClass="resetSelect">
                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                <f:selectItems value="#{estudianteMB.listaNacionalidad}" var="nacionalidad" itemLabel="#{nacionalidad.nacionalidad}" itemValue="#{nacionalidad.idPais}"/>
                                            </p:selectOneMenu>
                                            <h:outputLabel value="#{msgs.etiquetaSexo}" styleClass="negrita"/>
                                            <h:outputText value=" "  styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.madreBean.personaBean.sexo}" label="#{msgs.etiquetaSexo}">
                                                <f:selectItem itemValue="1" itemLabel="#{msgs.comboMasculino}"/>
                                                <f:selectItem itemValue="0" itemLabel="#{msgs.comboFemenino}"/>
                                            </p:selectOneRadio>
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <p:fieldset legend="#{msgs.etiquetaDatAdicionales}">
                                        <h:panelGrid columns="9" styleClass="siseFontGrid5" id="pnlFamiliarMadre">
                                            <h:outputLabel value="#{msgs.etiquetaProfesion}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.madreBean.profesion}" label="#{msgs.etiquetaProfesion}"/>
                                            <h:outputLabel value="#{msgs.etiquetaOcupacion}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.madreBean.ocupacion}" label="#{msgs.etiquetaOcupacion}"/>
                                            <h:outputLabel value="#{msgs.etiquetaFlgVive}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.madreBean.flgVive}" 
                                                               label="#{msgs.etiquetaFlgVive}">
                                                <f:selectItem itemValue="#{true}" itemLabel="#{msgs.etiquetaSi}"/>
                                                <f:selectItem itemValue="#{false}" itemLabel="#{msgs.etiquetaNo}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel value="#{msgs.etiquetaFlgCatolico}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.madreBean.flgCatolico}" 
                                                               label="#{msgs.etiquetaFlgCatolico}">
                                                <f:selectItem itemValue="#{true}" itemLabel="#{msgs.etiquetaSi}"/>
                                                <f:selectItem itemValue="#{false}" itemLabel="#{msgs.etiquetaNo}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel value="#{msgs.etiquetaFlgMarista}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.madreBean.flgMarista}" 
                                                               label="#{msgs.etiquetaFlgMarista}">
                                                <f:selectItem itemValue="#{true}" itemLabel="#{msgs.etiquetaSi}"/>
                                                <f:selectItem itemValue="#{false}" itemLabel="#{msgs.etiquetaNo}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel value="#{msgs.etiquetaAnoEgreCole}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.anioEgresoColegio}"   label="#{msgs.etiquetaAnoEgreCole}"/>
                                            <h:outputLabel value="#{msgs.etiquetaColeg}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.nombreColegio}"   label="#{msgs.etiquetaColeg}"/>
                                            <h:outputLabel value="#{msgs.etiquetaTelFijo}" styleClass="negrita"/>
                                            <h:outputText value="" styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.telefonoFijo}"   label="#{msgs.etiquetaTelFijo}"/>
                                            <h:outputLabel value="#{msgs.etiquetaTelCel}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.telefonoCelular}" label="#{msgs.etiquetaTelCel}"/>
                                            <h:outputLabel value="#{msgs.etiquetaTelOfi}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{familiaMB.familiaBean.madreBean.telefonoOficina}" label="#{msgs.etiquetaTelOfi}"/>
                                            <h:outputLabel value="#{msgs.etiquetaCentroLab}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.madreBean.centroLaboral}" label="#{msgs.etiquetaCentroLab}"/>
                                            <h:outputLabel value="#{msgs.etiquetaCargo}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.madreBean.cargo}" label="#{msgs.etiquetaCargo}"/>
                                            <h:outputLabel value="#{msgs.etiquetaHobby}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.madreBean.hobby}" label="#{msgs.etiquetaHobby}"/>
                                            <h:outputLabel value="#{msgs.etiquetaGrupParro}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio  value="#{familiaMB.familiaBean.madreBean.flgGrupoParroquial}" 
                                                               label="#{msgs.etiquetaGrupParro}">
                                                <f:selectItem itemValue="#{true}" itemLabel="#{msgs.etiquetaSi}"/>
                                                <f:selectItem itemValue="#{false}" itemLabel="#{msgs.etiquetaNo}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel value="#{msgs.etiquetaParr}" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText value="#{familiaMB.familiaBean.madreBean.nombreParroquia}" label="#{msgs.etiquetaParr}"/>
                                            <h:outputText value="(*) Requerido" styleClass="requerido"/>
                                            <h:inputHidden />
                                            <h:inputHidden />
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <h:panelGrid styleClass="centrado" columns="2">
                                        <p:commandButton actionListener="#{familiaMB.guardarFamiliar('Madre')}" update="msgsMadre"
                                                         oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                         value="#{msgs.botonGrabar}">
                                        </p:commandButton>
                                        <p:commandButton actionListener="#{familiaMB.limpiarMadreEstudianteBean()}" update="pnlPersonaMadre,pnlFamiliarMadre"
                                                         value="#{msgs.botonNuevo}" process="@form">
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:messages id="msgsMadre" showDetail="true" showSummary="false"/>
                                </h:form>
                            </p:tab>
                        </p:tabView>
                    </p:panel>
                </p:layoutUnit>
            </p:layout>
            <h:form id="frmBuscarFamiliares">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popFamiliar" resizable="false" modal="true" styleClass="autoWidthDialog" position="top">
                    <h:panelGrid  styleClass="centrado" style="width: 600px;padding: 0px" id="pnlFiltro" >
                        <p:panel toggleable="true" toggleSpeed="500" closeSpeed="500" header="#{msgs.etiquetaFiltros}">
                            <h:panelGrid columns="3" styleClass="centrado" id="pnlFiltroFamiliar">
                                <h:panelGrid columns="2">
                                    <h:outputLabel value="#{msgs.etiquetaCodigo} " />
                                    <h:outputLabel value=" (#{msgs.etiquetaDocId})" style="color: red"/>
                                </h:panelGrid>
                                <h:outputText value="" styleClass="requerido"/>
                                <p:inputText value="#{familiarMB.familiarFiltroBean.personaBean.idPersona}" size="15" maxlength="15">
                                </p:inputText>
                                <h:outputLabel value="#{msgs.etiquetaApePat}"/>
                                <h:outputText value="" styleClass="requerido"/>
                                <p:inputText value="#{familiarMB.familiarFiltroBean.personaBean.apepat}" size="28" maxlength="30">  
                                </p:inputText> 
                                <h:outputLabel value="#{msgs.etiquetaApeMat}"/>
                                <h:outputText value="" styleClass="requerido"/>
                                <p:inputText value="#{familiarMB.familiarFiltroBean.personaBean.apemat}" size="28" maxlength="30">
                                </p:inputText> 
                                <h:outputLabel value="#{msgs.etiquetaNombre}"/>
                                <h:outputText value="" styleClass="requerido"/>
                                <p:inputText value="#{familiarMB.familiarFiltroBean.personaBean.nombre}" size="28" maxlength="30"> 
                                </p:inputText>  
                                <h:inputHidden value="#{familiarMB.tipoFam}"/>
                            </h:panelGrid> 
                            <h:panelGrid styleClass="centrado" columns="2">
                                <p:commandButton id="btnBuscar" value="#{msgs.botonBuscar}" actionListener="#{familiarMB.obtenerPorFiltro()}" update="pnlFiltro,pnlTablaFamiliar,msg" />
                                <p:commandButton id="btnNuevo"  value="#{msgs.botonNuevo}"  actionListener="#{familiarMB.limpiarFamiliarFiltro()}" update="pnlFiltroFamiliar,msg"/>
                            </h:panelGrid>
                            <p:messages autoUpdate="false" id="msg" />
                        </p:panel>
                    </h:panelGrid>
                    <h:panelGrid  id="pnlTablaFamiliar" styleClass="centrado"> 
                        <p:dataTable id="tblFamiliar" value="#{familiarMB.listaFamiliarBean}" widgetVar="tblFamiliar"
                                     selectionMode="single" 
                                     paginator="true"
                                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     rowsPerPageTemplate="5,10"
                                     selection="#{familiarMB.familiarBean}" paginatorPosition="bottom" rowIndexVar="n" 
                                     var="familiar" rowKey="#{familiar.personaBean.idPersona}"  rows="10" 
                                     rendered="#{not empty familiarMB.listaFamiliarBean}" 
                                     style="width: 725px;font-size:14px !important;margin-bottom:0">

                            <f:facet name="header" >
                                <h:outputText value="#{msgs.tituloFamiliares}" />  
                            </f:facet>
                            <p:column  headerText="#{msgs.numero}" filterMatchMode="contains" width="4%" styleClass="siseFontTable3 centrado-texto">
                                <center>
                                    <h:outputText value="#{n+1}" />
                                </center>
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaCodigo}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3 centrado-texto" sortBy="#{familiar.personaBean.idPersona}" >
                                <h:outputText value="#{familiar.personaBean.idPersona}"/>
                            </p:column> 
                            <p:column headerText="#{msgs.etiquetaAbApePaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{familiar.personaBean.apepat}" >
                                <h:outputText value="#{familiar.personaBean.apepat}" />
                            </p:column>
                            <p:column headerText="#{msgs.etiquetaAAbApeMaterno}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{familiar.personaBean.apemat}">
                                <h:outputText value="#{familiar.personaBean.apemat}" />
                            </p:column> 
                            <p:column headerText="#{msgs.etiquetaNombre}" filterMatchMode="contains" width="10%" styleClass="siseFontTable3" sortBy="#{familiar.personaBean.nombre}">
                                <h:outputText value="#{familiar.personaBean.nombre}"/>
                            </p:column>
                            <p:column style="text-align:center;width:60px" width="6%">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.toolTipSeleccionar}"  styleClass="siseFontTable2 centrado-texto" />
                                </f:facet>
                                <p:commandLink id="cmdSelFam" actionListener="#{familiarMB.ponerFamiliarEstFam(familiar)}"
                                               update=":tabFamilia:frmPadre:pnlPersonaPadre,:tabFamilia:frmPadre:pnlFamiliarPadre,
                                               :tabFamilia:frmMadre:pnlPersonaMadre,:tabFamilia:frmMadre:pnlFamiliarMadre
                                               "
                                               oncomplete="PF('popFamiliar').hide();">
                                    <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                </p:commandLink>
                                <p:tooltip id="toolTipAdd" for="cmdSelFam" value="#{msgs.toolTipSeleccionar}" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </p:dialog>
            </h:form>
        </h:body>
    </ui:define>
</ui:composition>
