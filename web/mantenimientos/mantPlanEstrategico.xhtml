<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui" 
                template="/plantilla/plantillaPrincipal.xhtml" 
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:define name="content">
        <h:body>
            <p:layout style="width:1800px;height:750px" fullPage="false" styleClass="centrado">
                <p:layoutUnit id="pnlBuscadorPost" position="west" size="765" header="#{msgs.etiquetaBuscadorPlanEstrategico}" resizable="false" closable="false" collapsible="true" effect="drop" collapsed="false" effectSpeed="500" >
                    <h:form id="frmBuscar"> 
                        <h:panelGrid style="margin: 0 auto;" >
                            <p:panel header="#{msgs.etiquetaFiltro}" style="width: 720px;">
                                <h:panelGrid styleClass="centrado" style="margin: 0 auto;padding: 15px;"> 
                                    <h:panelGrid styleClass="centrado" columns="4"> 
                                        <p:outputLabel value="#{msgs.etiquetaAnio} de #{msgs.etiquetaInicio}: " />
                                        <p:spinner id="minMax" value="#{planEstrategicoMB.planEstrategicoFiltroBean.anioIni}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaAnio}" size="5" required="true">
                                        </p:spinner>
                                        <p:outputLabel value="#{msgs.etiquetaAnio} #{msgs.etiquetaFin}: " />
                                        <p:spinner id="minMax2" value="#{planEstrategicoMB.planEstrategicoFiltroBean.anioFin}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaAnio}" size="5" required="true">
                                        </p:spinner> 
                                    </h:panelGrid>
                                    <h:panelGrid styleClass="centrado" columns="2" >
                                        <p:commandButton value="#{msgs.botonBuscar}" actionListener="#{planEstrategicoMB.obtenerPorFiltro()}" update=":frmBuscar:pnlPlanBuscar,:frmBuscar:msg" />
                                        <p:commandButton value="#{msgs.botonNuevo}" oncomplete="PF('popPlanEstrategico').show()" />
                                    </h:panelGrid> 
                                </h:panelGrid> 
                                <p:messages autoUpdate="false" id="msg" closable="true" />
                            </p:panel>
                        </h:panelGrid>
                        <h:panelGrid id="pnlPlanBuscar" style="margin: 0 auto">  
                            <p:dataTable value="#{planEstrategicoMB.listaPlanEstrategicoBean}" 
                                         paginator="true"   selectionMode="single"
                                         paginatorPosition="bottom" rowIndexVar="n" selection="#{planEstrategicoMB.planEstrategicoBean}" 
                                         var="planEstrategico" rowKey="#{planEstrategico}"  rows="#{planEstrategicoMB.numRegistrosTablasPorFiltro}" 
                                         rendered="#{not empty planEstrategicoMB.listaPlanEstrategicoBean}" 
                                         style="width: 715px;font-size:14px !important;margin-bottom:0">
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaDatosGenerales}" style="font-size: 20px;" />
                                </f:facet>
                                <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <f:facet name="header" >
                                        <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}" />
                                    </f:facet>
                                    <h:outputText value="#{planEstrategico.nombrePlanEstrategicoSub}" style="text-align: center;" />
                                    <h:inputHidden value="#{planEstrategico.idPlanEstrategico}" />
                                </p:column>
                                <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <f:facet name="header" > 
                                        <p:outputLabel value="#{msgs.etiquetaDescrip}" />
                                    </f:facet>
                                    <h:outputText value="#{planEstrategico.descripcionSub}" />
                                </p:column> 
                                <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <f:facet name="header" > 
                                        <p:outputLabel value="#{msgs.etiquetaAnio} Inicio" />
                                    </f:facet>
                                    <center>
                                        <h:outputText value="#{planEstrategico.anioIni}" />
                                    </center>
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaAnio} Fin" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <h:outputText value="#{planEstrategico.anioFin}" />
                                </p:column>  
                                <p:column headerText="#{msgs.etiquetaAcciones}" colspan="3" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                    <p:commandLink id="cmdEditPEst"  actionListener="#{planEstrategicoMB.obtenerPorIdPlan(planEstrategico)}"
                                                   update=":pnlPlanEstrategico,:pnlPlanEstrategico:fmrTblLinEst:pnlGrdTblLinEst,
                                                   :pnlPlanEstrategico:frmDatosObj:pnlDatosObj,:frmObjDeta2:cboPerAni
                                                   :pnlPlanEstrategico,:panel" process="@this" > 
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0;cursor:pointer;" />
                                    </p:commandLink> 
                                    &nbsp;&nbsp;&nbsp;
                                    <p:commandLink id="cmdEditPE"  actionListener="#{planEstrategicoMB.obtenerPlanId(planEstrategico)}"
                                                   oncomplete="PF('popPlanEstrategico2').show();" process="@this" update=":fmrPnlDescripcion2:pnlDescripcion2"> 
                                        <h:graphicImage value="/resources/images/icons/edit.gif" style="border:0;cursor:pointer;" />
                                    </p:commandLink> 
                                    &nbsp;&nbsp;&nbsp;
                                    <p:commandLink id="cmdEliminarPE"  actionListener="#{planEstrategicoMB.obtenerPlanId(planEstrategico)}"
                                                   oncomplete="PF('popEliminarPlan').show();" process="@this" update=":frmEliminaPlan:pnlEliminaPlan">
                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                    </p:commandLink> 
                                    <p:tooltip id="toolTipDel" for="cmdEliminarPE" value="#{msgs.etiquetaEliminar}" />
                                    <p:tooltip id="toolTipDel2" for="cmdEditPE" value="#{msgs.etiquetaEdit}" />
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                    </h:form>
                </p:layoutUnit>
                <p:layoutUnit position="center">
                    <p:panel id="panel" header="#{msgs.menuPlanEstrategico}:#{planEstrategicoMB.planEstrategicoBean.nombre}">
                        <p:tabView dynamic="true" cache="true" id="pnlPlanEstrategico">
                            <!--Linea Estrategica-->
                            <p:tab title="#{msgs.tituloLinEstra}" > 
                                <h:form id="fmrLinEst">
                                    <p:panel id="pnlLinEst" header="#{msgs.etiquetaDatosLinea}" style="width: 600px;margin: 0 auto;">
                                        <h:panelGrid columns="1" styleClass="centrado" id="pnlGrdLinEst">
                                            <h:panelGrid columns="1" styleClass="centrado">
                                                <h:panelGrid columns="3" > 
                                                    <h:inputHidden value="#{planEstrategicoMB.planEstrategicoBean.nombre}"/>
                                                    <h:inputHidden value="#{planEstrategicoMB.planEstrategicoBean.idPlanEstrategico}" />
                                                </h:panelGrid>
                                                <h:panelGrid columns="2" >
                                                    <p:outputLabel value="#{msgs.campoNombre} #{msgs.campoLinea}: "  styleClass="negrita" />
                                                    <p:inputText id="nomLin" value="#{planEstrategicoMB.lineaEstrategicaBean.nombre}" style="width: 410px" label="#{msgs.etiquetaLineaEstrategica}" required="true" />
                                                    <p:outputLabel value="#{msgs.etiquetaEstado}:" styleClass="negrita"/>
                                                    <p:selectOneRadio id="flgLinea" value="#{planEstrategicoMB.lineaEstrategicaBean.status}" required="true" label="#{msgs.etiquetaEstado}">
                                                        <f:selectItem itemLabel="#{msgs.campoActivo}&nbsp;&nbsp;&nbsp;" itemValue="#{msgs.campoActivo}"/>
                                                        <f:selectItem itemLabel="#{msgs.campoInactivo}&nbsp;&nbsp;&nbsp;" itemValue="#{msgs.campoInactivo}"/>
                                                    </p:selectOneRadio>
                                                    <p:outputLabel id="linDes" value="#{msgs.etiquetaDescripcion} : " styleClass="negrita"/>
                                                    <p:inputTextarea rows="6" cols="50" value="#{planEstrategicoMB.lineaEstrategicaBean.descripcion}" required="true" label="#{msgs.etiquetaDescripcion}" maxlength="500" autoResize="false"/>
                                                </h:panelGrid>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" styleClass="centrado" style="padding: 10px;">
                                                <p:commandButton actionListener="#{planEstrategicoMB.guardarLineaEstrategico()}"  
                                                                 update=":pnlPlanEstrategico:fmrLinEst:pnlGrdLinEst,
                                                                 :pnlPlanEstrategico:fmrTblLinEst:tblLinEst,:pnlPlanEstrategico:fmrTblLinEst:pnlGrdTblLinEst 
                                                                 :pnlPlanEstrategico:frmDatosObj:pnlDatosObj,
                                                                 :pnlPlanEstrategico:frmTblObj:pnlTablaObjetivo, 
                                                                 :pnlPlanEstrategico:fmrLinEst:msgLin"
                                                                 oncomplete="if(args.operacionCorrecta){PF('popDone').show();}"
                                                                 value="#{msgs.botonGrabar}">   
                                                </p:commandButton>
                                                <p:commandButton actionListener="#{planEstrategicoMB.limpiarLineaEstrategico()}" update=":pnlPlanEstrategico:fmrLinEst:pnlGrdLinEst"                                                                 
                                                                 value="#{msgs.botonLimpiar}" process="@this">
                                                </p:commandButton>
                                                <!--p:growl id="msgsAddLinea" showDetail="true" showSummary="true"/--><!--:pnlPlanEstrategico:fmrLinEst:msgsAddLinea, msgsAddLinea-->
                                            </h:panelGrid>
                                            <p:messages id="msgLin" showDetail="true" closable="true" />
                                            <h:inputHidden value="#{planEstrategicoMB.lineaEstrategicaBean.idLinea}" id="codigoLineaHidden"/>
                                        </h:panelGrid>
                                    </p:panel>
                                </h:form>
                                <!--:pnlPlanEstrategico:frmPeriodo:pnlPeriodo2,-->
                                <h:form id="fmrTblLinEst">
                                    <h:panelGrid columns="1" styleClass="centrado" id="pnlGrdTblLinEst"> 
                                        <p:dataTable value="#{planEstrategicoMB.listaLineaEstrategicaBean}" paginator="true" selectionMode="single" selection="#{planEstrategicoMB.lineaEstrategicaBean}"
                                                     var="linea" id="tblLinEst" rowKey="#{linea}" 
                                                     rows="#{planEstrategicoMB.numRegistrosTablas}" paginatorPosition="bottom"
                                                     rendered="#{not empty planEstrategicoMB.listaLineaEstrategicaBean}"
                                                     style="width: #{planEstrategicoMB.anchoTablasBig}; font-size: 12px">
                                            <p:ajax event="rowSelect" listener="#{planEstrategicoMB.rowSelect2}" update=":pnlPlanEstrategico:fmrLinEst:pnlLinEst" process="@this"/>
                                            <f:facet name="header" >
                                                <h:outputText value="#{msgs.etiquetaLineaEstrategica}" />  
                                            </f:facet> 
                                            <p:column headerText="#{msgs.campoNombre}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <h:outputText value="#{linea.nombreLineaSub}" />
                                            </p:column>
                                            <p:column headerText="#{msgs.etiquetaDescripcion}" filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <h:outputText value="#{linea.descripLineaSub}" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msgs.etiquetaCambiarEstado}" />
                                                </f:facet>
                                                <center>
                                                    <p:inputSwitch id="swCambio" value="#{linea.estado}">
                                                        <p:ajax listener="#{planEstrategicoMB.ponerLinea(linea)}" oncomplete="PF('popConfirma').show();" process="@this" update=":frmConfirma:pnlDatosConfirma"/>
                                                    </p:inputSwitch>
                                                    <p:tooltip id="toolTipCambio" for="swCambio" value="#{msgs.mensajeCambiarEstado}" />
                                                </center>
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="0.5%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                                </f:facet>
                                                <p:commandLink id="cmdEliminar" action="#{planEstrategicoMB.obtenerLineaPorId(linea)}" update=":frmElimina2:pnlDatosElimina2"
                                                               oncomplete="PF('popEliminar2').show();" process="@this">
                                                    <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                                </p:commandLink>
                                                <p:tooltip id="toolTipDel" for="cmdEliminar" value="#{msgs.mensajeDelLin}" />
                                                &nbsp;&nbsp;&nbsp;
                                            </p:column>
                                        </p:dataTable>
                                    </h:panelGrid>
                                </h:form>   
                            </p:tab>
                            <!--Objetivo Estrategico-->
                            <p:tab title="#{msgs.tituloObjetEstra}">
                                <h:form id="frmDatosObj"> 
                                    <p:panel header="#{msgs.etiquetaDatosObj}" style="width: 600px;margin: 0 auto;">
                                        <h:panelGrid id="pnlDatosObj" columns="2" style="margin: 0 auto">
                                            <h:outputText value="" />
                                            <h:outputText value="" />
                                            <h:inputHidden value="#{planEstrategicoMB.planEstrategicoBean.idPlanEstrategico}" />
                                            <p:outputLabel value="" />
                                            <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}: " />
                                            <p:selectOneMenu id="cmboLinea" label="#{msgs.etiquetaLineaEstrategica}" value="#{planEstrategicoMB.objetivoEstrategicaBean.lineaEstrategicaBean.idLinea}" style="width: 350px;" required="true" >
                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                <f:selectItems value="#{planEstrategicoMB.listaLineaEstrategicaBean}" var="lineas" itemLabel="#{lineas.nombre}" itemValue="#{lineas.idLinea}"/>
                                            </p:selectOneMenu> 
                                            <p:outputLabel value="#{msgs.campoNombre} #{msgs.etiquetaObjetivoEstrategica}: " />
                                            <p:inputText id="nomObj" size="40" value="#{planEstrategicoMB.objetivoEstrategicaBean.nombre}" required="true"/> 
                                            <p:outputLabel value="#{msgs.etiquetaEstado}:"/>
                                            <p:selectOneRadio id="cboEstObj" value="#{planEstrategicoMB.objetivoEstrategicaBean.status}" label="#{msgs.etiquetaEstado}" required="true">
                                                <f:selectItem itemLabel="#{msgs.campoActivo}" itemValue="#{msgs.campoActivo}"/>
                                                <f:selectItem itemLabel="#{msgs.campoInactivo}" itemValue="#{msgs.campoInactivo}"/>
                                            </p:selectOneRadio> 
                                            <p:outputLabel value="#{msgs.etiquetaDescripcion} : "/>
                                            <p:inputTextarea id="desObj" rows="6" cols="40" value="#{planEstrategicoMB.objetivoEstrategicaBean.descripcion}" maxlength="350" required="true" label="#{msgs.etiquetaDescripcion}" autoResize="false">
                                            </p:inputTextarea>  
                                        </h:panelGrid>
                                        <h:panelGrid columns="2" style="margin: 0 auto;padding: 10px;">
                                            <p:commandButton value="#{msgs.botonGrabar}"  actionListener="#{planEstrategicoMB.guardarObjetivoEstrategico()}"
                                                             update=":pnlPlanEstrategico:frmTblObj:pnlTablaObjetivo,
                                                             :pnlPlanEstrategico:frmDatosObj:pnlDatosObj, 
                                                             :pnlPlanEstrategico:frmDatosObj:msgsAddObj"   
                                                             oncomplete="if(args.operacionCorrecta){PF('popDone').show();}" 
                                                             process="@this,:pnlPlanEstrategico:frmDatosObj:nomObj,:pnlPlanEstrategico:frmDatosObj:desObj,
                                                             :pnlPlanEstrategico:frmDatosObj:cmboLinea,:pnlPlanEstrategico:frmDatosObj:cboEstObj"/> 
                                            <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{planEstrategicoMB.limpiarObjetivoEstrategico()}" 
                                                             update=":pnlPlanEstrategico:frmDatosObj:pnlDatosObj" process="@this"/>  
                                        </h:panelGrid>
                                        <p:messages id="msgsAddObj" showDetail="true" autoUpdate="true" closable="true" /> 
                                    </p:panel>
                                </h:form>
                                <!--:pnlPlanEstrategico:frmPeriodo:pnlPeriodo2,-->
                                <h:form id="frmTblObj">
                                    <h:panelGrid styleClass="centrado" id="pnlTablaObjetivo" >
                                        <p:dataTable value="#{planEstrategicoMB.listaObjetivoEstrategicoBean}" paginator="true" selectionMode="single" selection="#{planEstrategicoMB.objetivoEstrategicaBean}"
                                                     var="objetivo" id="tblObjEst" rowKey="#{objetivo}"  paginatorPosition="bottom"
                                                     rendered="#{not empty planEstrategicoMB.listaObjetivoEstrategicoBean}"
                                                     rows="#{planEstrategicoMB.numRegistrosTablas}" 
                                                     style="width: #{planEstrategicoMB.anchoTablasBig}; font-size: 12px">
                                            <p:ajax event="rowSelect" listener="#{planEstrategicoMB.rowSelect3}" update=":pnlPlanEstrategico:frmDatosObj:pnlDatosObj" process="@this" />
                                            <f:facet name="header">
                                                <p:outputLabel value="#{msgs.etiquetaObjetivoEstrategica}"/>
                                                <span style="float: left;color: red;font-size: 12px;" >Ingresar Detalles</span>
                                            </f:facet>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header" >
                                                    <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}" />
                                                </f:facet>
                                                <h:outputText value="#{objetivo.lineaEstrategicaBean.nombreLineaSub}" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header">
                                                    <p:outputLabel value="#{msgs.etiquetaObjetivoEstrategica}" />
                                                </f:facet>
                                                <h:outputText value="#{objetivo.nombreObjetivoEsSub}" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header">
                                                    <p:outputLabel value="#{msgs.etiquetaDescripcion}" />
                                                </f:facet>
                                                <h:outputText  value="#{objetivo.descObjetivoEsSub}" />
                                            </p:column>   
                                            <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                                </f:facet> 
                                                <p:commandLink id="cmdEliminarObjDet2" action="#{planEstrategicoMB.obtenerObjetivoPorId2(objetivo)}" 
                                                               update=":frmObjDeta:pnlObjDeta2,:frmObjDeta2:pnlObjDeta,:frmObjDeta3:pnlTblPopObjDeta,:popObjDeta
                                                               ,:frmObjDeta2:cboPerAni,:frmObjDeta2:pnlTableAnio" 
                                                               oncomplete="PF('popObjDeta').show();" process="@this">
                                                    <h:graphicImage value="/resources/images/icons/ver_detalle.png" style="border:0;cursor:pointer;" />
                                                </p:commandLink>
                                                <p:tooltip id="toolTipDel2" for="cmdEliminarObjDet2" value="#{msgs.etiquetaVerDeta}" />
                                                &nbsp;&nbsp;&nbsp; 
                                                <p:commandLink id="cmdEliminarObjDet" action="#{planEstrategicoMB.obtenerObjetivoPorId(objetivo)}" update=":frmElimina6:pnlDatosElimina6"
                                                               oncomplete="PF('popEliminar6').show();" process="@this">
                                                    <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                                </p:commandLink>
                                                <p:tooltip id="toolTipDel" for="cmdEliminarObjDet" value="#{msgs.mensajeDelLin}" /> 
                                            </p:column>
                                        </p:dataTable>

                                    </h:panelGrid>
                                </h:form>                            
                            </p:tab>
                            <!--Datos del Periodo-->    
                        </p:tabView>
                    </p:panel>
                </p:layoutUnit>
            </p:layout>
            <h:form id="frmDatosIndicador"> 
                <p:dialog id="popBuscarIndicador" header="#{msgs.EtiquetaCodigo} #{msgs.etiquetaIndicador}: #{planEstrategicoMB.indicadorBean.codigo}" widgetVar="popBuscarIndicador" showEffect="explode" modal="true" closeOnEscape="true" >
                    <p:panel id="pnlGeneral" style="margin: 0 auto;width: 500px;">
                        <f:facet name="header">
                            <p:outputLabel value="#{msgs.etiquetaMantIndicador}" />
                        </f:facet>
                        <h:panelGrid id="pnlDatosIndicadores" columns="1" style="margin: 0 auto"> 
                            <h:panelGrid columns="4" style="margin: 0 auto;"> 
                                <p:outputLabel value="#{msgs.etiquetaIndicador}" />
                                <p:outputLabel value="" />
                                <p:inputText value="#{planEstrategicoMB.indicadorBean.nombre}" required="true" label="#{msgs.etiquetaIndicador}" /> 
                                <br/>
                                <p:outputLabel value="#{msgs.etiquetaMeta}" />
                                <p:outputLabel value="" />
                                <p:inputText value="#{planEstrategicoMB.indicadorBean.meta}" required="true" label="#{msgs.etiquetaMeta}"/> 
                                <br/>
                                <p:outputLabel value="#{msgs.etiquetaTipoUso}" />
                                <p:outputLabel value="" />
                                <p:selectOneMenu effect="fold" value="#{planEstrategicoMB.indicadorBean.codigoTiPoUso.idCodigo}" required="true" style="width: 190px;">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{planEstrategicoMB.listaTipoUsoIndicador}" var="tipoUso" itemLabel="#{tipoUso.codigo}" itemValue="#{tipoUso.idCodigo}"/>
                                </p:selectOneMenu>
                                <br/> 
                                <p:outputLabel value="#{msgs.etiquetaTipoValor}" />
                                <p:outputLabel value="" />
                                <p:selectOneMenu effect="fold" value="#{planEstrategicoMB.indicadorBean.codigoTipoValor.idCodigo}" required="true" style="width: 190px;">
                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                    <f:selectItems value="#{planEstrategicoMB.listaTipoValor}" var="tipoValor" itemLabel="#{tipoValor.codigo}" itemValue="#{tipoValor.idCodigo}"/>
                                </p:selectOneMenu>
                                <br/> 
                            </h:panelGrid>
                            <h:panelGrid style="margin: 0 auto;" columns="1" >
                                <h:panelGrid columns="3" style="margin: 0 auto;">
                                    <p:outputLabel value="" />
                                    <p:outputLabel value="" />
                                    <p:inputTextarea value="#{planEstrategicoMB.indicadorBean.formula}" required="true" rows="6" cols="50" placeholder="Ingresar Formula" />
                                </h:panelGrid>
                                <h:panelGrid columns="2" style="margin: 0 auto;padding: 5px;">
                                    <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{planEstrategicoMB.guardarIndicador()}"
                                                     oncomplete="if(args.operacionCorrecta){PF('popBuscarIndicador').hide();PF('popBuscar2').show();PF('popDone').show()}"
                                                     update=":frmBuscar2:pnlBuscar,:frmDatosIndicador" />
                                    <p:commandButton value="#{msgs.botonNuevo}" actionListener="#{planEstrategicoMB.limpiarIndicadorBean()}"
                                                     update=":frmDatosIndicador:pnlDatosIndicadores" process="@this" />
                                </h:panelGrid>
                            </h:panelGrid> 
                        </h:panelGrid>
                        <h:panelGrid columns="4" style="margin: 0 auto;">
                            <!--
                            <p:outputLabel value="#{msgs.etiquetaUniMed}" /> 
                            <p:outputLabel value="" /> 
                            <p:selectOneMenu effect="fold" value="#{planEstrategicoMB.indicadorBean.codigoTiPoUso.idCodigo}" required="true" style="width: 190px;">
                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                <f:selectItems value="#{planEstrategicoMB.listaUniMedCodigo}" var="uniMed" itemLabel="#{uniMed.codigo}" itemValue="#{uniMed.idCodigo}"/>
                            </p:selectOneMenu> 
                            <br/>
                            <p:outputLabel value="#{msgs.etiquetaTipoIndicador}" />
                            <p:outputLabel value="" />
                            <p:selectOneMenu effect="fold" value="#{planEstrategicoMB.indicadorBean.codigoTiPoIndicador.idCodigo}" required="true" style="width: 190px;">
                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                <f:selectItems value="#{planEstrategicoMB.listaTipoIndicador}" var="tipoIndicador" itemLabel="#{tipoIndicador.codigo}" itemValue="#{tipoIndicador.idCodigo}"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="#{msgs.etiquetaUniMed}" /> 
                            <p:outputLabel value="" />
                            <p:selectOneMenu effect="fold" value="#{planEstrategicoMB.indicadorBean.codigoTiPoUso.idCodigo}" required="true" style="width: 190px;">
                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                <f:selectItems value="#{planEstrategicoMB.listaUniMedCodigo}" var="uniMed" itemLabel="#{uniMed.codigo}" itemValue="#{uniMed.idCodigo}"/>
                            </p:selectOneMenu>
                            --> 
                        </h:panelGrid>
                    </p:panel>  
                </p:dialog>
            </h:form> 
            <h:form id="frmBuscar2" >
                <p:dialog id="frmBuscar2" widgetVar="popBuscar2" showEffect="explode" modal="true" closeOnEscape="true" >
                    <p:growl id="msgIndicador" showDetail="true" autoUpdate="false" />
                    <p:panel header="#{msgs.etiquetaBuscarIndicador}" >
                        <f:facet name="header" >
                            <p:outputLabel value="#{msgs.etiquetaBuscarIndicador}" style="padding-left: 5px;" />
                            <p:commandLink id="cmdIn" style="float: left;" oncomplete="PF('popBuscarIndicador').show(),PF('popBuscar2').hide()" >
                                <h:graphicImage value="/resources/images/icons/addverde.png" style="border:0;cursor:pointer;width:16px;height:16px;" />
                            </p:commandLink>
                            <p:tooltip for="cmdIn" value="#{msgs.botonAgregar}" />
                        </f:facet>
                        <h:panelGrid id="pnlBuscar" style="margin: 0 auto;" >
                            <p:dataTable value="#{planEstrategicoMB.listaIndicadorBean}" paginator="true" paginatorPosition="bottom"
                                         var="indicadorFiltro" id="tblBuscarIndicador"  selectionMode="single" widgetVar="ind"
                                         rows="#{planEstrategicoMB.numRegistrosTablas}" rowKey="#{indicadorFiltro}"
                                         rendered="#{not empty planEstrategicoMB.listaIndicadorBean}" editable="true"
                                         style=" font-size: 12px;width: 1200px;" selection="#{planEstrategicoMB.indicadorFiltroBean}">  
                                <p:ajax event="rowEdit" listener="#{planEstrategicoMB.onRowEditIndicador}" update=":frmBuscar2:msgIndicador" process="@this,:frmBuscar2:tblBuscarIndicador,:frmBuscar2:tblBuscarIndicador:cboTipUs,:frmBuscar2:tblBuscarIndicador:cboTipVal"/>
                                <p:ajax event="rowEditCancel" listener="#{planEstrategicoMB.onRowCancelIndicador}" update=":frmBuscar2:msgIndicador" process="@this,:frmBuscar2:tblBuscarIndicador"/>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaDatosIndicador}" /> 
                                </f:facet> 
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaCodigo}" />
                                    </f:facet>
                                    <center>
                                        <h:outputText value="#{indicadorFiltro.codigo}"/>
                                    </center>
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaIndicador}">
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.nombre}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{indicadorFiltro.nombre}" style="width:100%"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column> 
                                <p:column headerText="#{msgs.etiquetaMeta}">
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.meta}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{indicadorFiltro.meta}" style="width:100%"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column headerText="#{msgs.etiquetaTipoUso}" filterBy="#{indicadorFiltro.codigoTiPoUso.codigo}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu value="#{planEstrategicoMB.indicadorBean.codigoTiPoUso.idCodigo}"> 
                                            <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{planEstrategicoMB.listaTipoUsoIndicador}" var="uso" itemLabel="#{uso.codigo}" itemValue="#{uso.idCodigo}" />
                                            <p:ajax event="change" listener="#{planEstrategicoMB.filtrarIndicador()}" update=":frmBuscar2:pnlBuscar" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.codigoTiPoUso.codigo}" />
                                        </f:facet>
                                        <f:facet name="input">
                                            <h:selectOneMenu id="cboTipUs" value="#{indicadorFiltro.codigoTiPoUso.idCodigo}" label="#{msgs.etiquetaTipoUso}" > 
                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                <f:selectItems value="#{indicadorMB.listaTipoUsoIndicador}" var="tipoUso" itemLabel="#{tipoUso.codigo}" itemValue="#{tipoUso.idCodigo}"/>
                                            </h:selectOneMenu>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>

                                <p:column headerText="#{msgs.etiquetaTipoValor}"> 
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.codigoTipoValor.codigo}" />
                                        </f:facet>
                                        <f:facet name="input">
                                            <h:selectOneMenu id="cboTipVal" value="#{indicadorFiltro.codigoTipoValor.idCodigo}" label="#{msgs.etiquetaTipoValor}" > 
                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                                <f:selectItems value="#{planEstrategicoMB.listaTipoValor}" var="val" itemLabel="#{val.codigo}" itemValue="#{val.idCodigo}"/>
                                            </h:selectOneMenu>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>

                                <p:column headerText="#{msgs.etiquetaFormula}">
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{indicadorFiltro.formula}" />
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{indicadorFiltro.formula}" style="width:100%" label="#{msgs.etiquetaFormula}"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column> 
                                <p:column style="width: 50px;text-align: center;"> 
                                    <p:rowEditor/> 
                                </p:column>
                                <p:column style="text-align:center;width:80px" colspan="2"> 
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdDelInd" actionListener="#{planEstrategicoMB.obtenerIndicador(indicadorFiltro)}" update=":frmDelInd:pnlDelInd" 
                                                   oncomplete="PF('popDelIndicador').show()">
                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipEdit" for="cmdDelInd" value="#{msgs.mensajeEliminar}" />
                                    &nbsp;&nbsp;&nbsp;
                                    <p:commandLink id="cmdSelInd" actionListener="#{planEstrategicoMB.ponerIndicador(indicadorFiltro)}"
                                                   update=":frmObjDeta2:pnlIndicador2,:frmObjDeta2:pnlObjDeta"
                                                   oncomplete="PF('popBuscar2').hide();">
                                        <h:graphicImage value="/resources/images/icons/select3.png" style="border:0; cursor:pointer;"/>
                                    </p:commandLink>
                                    <p:tooltip id="toolTipAdd" for="cmdSelInd" value="#{msgs.toolTipSeleccionar}" />
                                </p:column><!--update=":pnlPlanEstrategico:frmObjDet:pnlIndicador" update=":pnlPlanEstrategico:frmObjDet:pnlIndicador"-->
                            </p:dataTable>
                        </h:panelGrid>
                    </p:panel>
                </p:dialog>
            </h:form> 
            <h:form id="frmIndicadores">
                <p:dialog header="Indicadores" showEffect="fade" hideEffect="explode" widgetVar="popIndicador" resizable="false" modal="true">
                    <h:panelGrid columns="1">
                        <h:panelGrid columns="3" styleClass="centrado">
                            <h:outputLabel value="CÃ³digo:" styleClass="negrita"/>
                            <h:outputText value=" " styleClass="requerido"/>
                            <p:inputText  required="true" style="width: 270px"/>
                            <h:outputLabel value="Nombre:" styleClass="negrita" />
                            <h:outputText value=" " styleClass="requerido"/>
                            <p:inputText  required="true" style="width: 270px"/>
                            <h:outputLabel value="Tipo de Indicador: " styleClass="negrita" />
                            <h:outputText value=" " styleClass="requerido"/>
                            <p:selectOneMenu effect="fold" required="true">
                                <f:selectItem itemLabel="Indicador de Cumplimiento"/>
                                <f:selectItem itemLabel="Indicador de EvaluaciÃ³n"/>
                                <f:selectItem itemLabel="Indicador de Eficiencia"/>
                                <f:selectItem itemLabel="Indicador de Eficacia"/>
                                <f:selectItem itemLabel="Indicador de GestiÃ³n"/>
                            </p:selectOneMenu>
                            <h:outputLabel value="Tipo de Uso: " styleClass="negrita" />
                            <h:outputText value=" " styleClass="requerido"/>
                            <p:selectOneMenu effect="fold" required="true">
                                <f:selectItem itemLabel="Plan EstratÃ©gico"/>
                                <f:selectItem itemLabel="Plan Operativo"/>
                                <f:selectItem itemLabel="Otros"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="FÃ³rmula : " styleClass="negrita"/>
                            <h:outputText value=" " styleClass="requerido"/>
                            <p:inputTextarea rows="6" cols="50"  required="true" label="#{msgs.etiquetaDescripcion}" maxlength="350"/>
                        </h:panelGrid>
                        <h:panelGrid columns="2" styleClass="centrado">
                            <p:commandButton value="#{msgs.botonNuevo}" process="@this">
                            </p:commandButton>
                            <p:commandButton  value="#{msgs.botonGrabar}">
                            </p:commandButton>
                        </h:panelGrid>
                        <p:dataTable value="#{planEstrategicoMB.listIndicadorBean}" paginator="true" 
                                     var="indicador" id="tblIndicador" 
                                     rows="#{planEstrategicoMB.numRegistrosTablas}" 
                                     rendered="#{not empty planEstrategicoMB.listIndicadorBean}" 
                                     style="width: 800px; font-size: 12px">
                            <f:facet name="header" >
                                <h:outputText value="Indicadores" />  
                            </f:facet>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Nombre" />
                                </f:facet>
                                <h:outputText value="#{indicador.nombreIndicador}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.campoCodigo}" />
                                </f:facet>
                                <h:outputText value="#{indicador.codigoIndicador}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Tipo de Indicador" />
                                </f:facet>
                                <h:outputText value="#{indicador.idTipoIndicador}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Tipo de Uso" />
                                </f:facet>
                                <h:outputText value="#{indicador.idTipoUsoIndicador}"/>
                            </p:column>
                            <p:column style="text-align:center;width: 100px">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                </f:facet>                                                            
                                <p:commandLink id="cmdEliminar" action="#" update=":frmElimina:pnlDatosElimina"
                                               oncomplete="PF('popEliminar').show();" process="@this">
                                    <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                </p:commandLink>
                                <p:tooltip id="toolTipDel" for="cmdEliminar" value="#{msgs.mensajeDelPlan}" />
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                    <p:growl id="msgsIn" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>
            <p:tab title="#{msgs.tituloDescripcion}" >
                <p:dialog header="#{msgs.appTitulo}" id="popPlanEstrategico" showEffect="fade" hideEffect="explode" widgetVar="popPlanEstrategico" resizable="false" modal="true"  closeOnEscape="true" >
                    <h:form id="fmrPnlDescripcion"> 
                        <p:panel id="pnlDescripcion" header="#{msgs.etiquetaDatosPlan}">
                            <h:panelGrid columns="1" styleClass="centrado" id="pnlGrdDescripcion">
                                <h:panelGrid>
                                    <p:fieldset legend="#{msgs.etiquetaPlanEstrategico}" style="width:700px;">
                                        <h:panelGrid columns="3" styleClass="centrado">
                                            <p:outputLabel value="#{msgs.menuPlanEstrategico}: " styleClass="negrita" />
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{planEstrategicoMB.planEstrategicoBean.nombre}" required="true" label="#{msgs.campoNombre} #{msgs.menuPlanEstrategico}" style="width: 270px"/>
                                            <p:outputLabel value="#{msgs.etiquetaEstado}:" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio value="#{planEstrategicoMB.planEstrategicoBean.status}" required="true" label="#{msgs.etiquetaEstado}">
                                                <f:selectItem itemLabel="#{msgs.campoActivo}&nbsp;&nbsp;&nbsp;" itemValue="#{msgs.campoActivo}"/>
                                                <f:selectItem itemLabel="#{msgs.campoInactivo}&nbsp;&nbsp;&nbsp;" itemValue="#{msgs.campoInactivo}"/>
                                                <f:selectItem itemLabel="Revision" itemValue="Revision"/>
                                            </p:selectOneRadio>
                                        </h:panelGrid>
                                    </p:fieldset>
                                </h:panelGrid> 
                                <h:panelGrid columns="2" styleClass="centrado" >
                                    <p:fieldset legend="#{msgs.etiquetaHorizPro}">
                                        <h:panelGrid columns="3" cellpadding="10" styleClass="centrado">
                                            <p:outputLabel value="#{msgs.campoAnoInicio}: " styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:spinner value="#{planEstrategicoMB.planEstrategicoBean.anioIniciocom}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaAnio}" size="10" />
                                            <p:outputLabel value="#{msgs.campoAnoTermino}: " styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:spinner value="#{planEstrategicoMB.planEstrategicoBean.anioTerminocom}" min="#{msgs.anioIniEst}" max="#{msgs.anioFinEst}" label="#{msgs.etiquetaAnio}" size="10" />
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <p:fieldset legend="#{msgs.etiquetaVigeEfec}">
                                        <h:panelGrid columns="3" cellpadding="10" styleClass="centrado" >
                                            <p:outputLabel value="#{msgs.campoFechaIni} : " for="fecVigencia" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:calendar id="fecVigencia"  value="#{planEstrategicoMB.planEstrategicoBean.fecInicio}" pattern="dd/MM/yyyy" locale="es" required="true" navigator="true" effect="fadeIn" size="7">
                                                <p:ajax event="dateSelect" update="fecTermino" />
                                            </p:calendar>    
                                            <p:outputLabel value="#{msgs.campoFechaFin} : " for="fecTermino" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:calendar id="fecTermino" value="#{planEstrategicoMB.planEstrategicoBean.fecTermino}" mindate="#{planEstrategicoMB.planEstrategicoBean.fecInicio}" pattern="dd/MM/yyyy" size="7" locale="es" required="true" navigator="true" effect="fadeIn" />
                                        </h:panelGrid>
                                    </p:fieldset>
                                </h:panelGrid>
                                <h:panelGrid columns="3" styleClass="centrado" > 
                                    <p:inputTextarea  placeholder="Ingresar una Descripcion" rows="6" cols="90" value="#{planEstrategicoMB.planEstrategicoBean.descripcion}" required="true" label="#{msgs.etiquetaDescripcion}" maxlength="350"/>
                                </h:panelGrid>
                                <h:panelGrid columns="2" styleClass="centrado">
                                    <p:commandButton actionListener="#{planEstrategicoMB.guardarPlanEstrategico()}" update=":frmBuscar:pnlPlanBuscar,:fmrTblDescripcion:pnlGrdTblDescripcion,msgsAdd"
                                                     oncomplete="if(args.operacionCorrecta){PF('popPlanEstrategico').hide();PF('popDone').show();}"
                                                     value="#{msgs.botonGrabar}">
                                    </p:commandButton>
                                    <p:commandButton actionListener="#{planEstrategicoMB.limpiarPlanEstrategico()}" update=":fmrPnlDescripcion:pnlGrdDescripcion,msgsAdd"                                                                 
                                                     value="#{msgs.botonLimpiar}" process="@this">
                                    </p:commandButton>
                                    <p:growl id="msgsAdd" showDetail="true" showSummary="true"/>
                                </h:panelGrid>
                                <h:inputHidden value="#{planEstrategicoMB.planEstrategicoBean.idPlanEstrategico}" id="codigoPlanHidden"/>
                            </h:panelGrid>
                        </p:panel>
                    </h:form>
                    <h:form id="fmrTblDescripcion">
                        <h:panelGrid columns="1" styleClass="centrado" id="pnlGrdTblDescripcion"> 
                            <p:dataTable value="#{planEstrategicoMB.listaPlanEstrategicoBean}" paginator="true" selectionMode="single" selection="#{planEstrategicoMB.planEstrategicoBean}"
                                         var="plan" id="tblPlan" rowKey="#{plan.idPlanEstrategico}" 
                                         rows="#{planEstrategicoMB.numRegistrosTablas}" 
                                         rendered="#{not empty planEstrategicoMB.listaPlanEstrategicoBean}" 
                                         style="width: #{planEstrategicoMB.anchoTablasBig}; font-size: 12px">
                                <p:ajax event="rowSelect" listener="#{planEstrategicoMB.rowSelect}" update=":fmrPnlDescripcion:pnlGrdDescripcion"/>
                                <f:facet name="header" >
                                    <h:outputText value="#{msgs.menuPlanEstrategico}" />  
                                </f:facet>
                                <p:column filterBy="#{plan.nombre}" styleClass="nombre2Filtro" headerText="#{msgs.campoNombre}" filterMatchMode="contains" width="220">
                                    <h:outputText value="#{plan.nombre}"/>
                                </p:column>
                                <p:column filterBy="#{plan.anoInicio}" headerText="#{msgs.campoPeriodo}" filterMatchMode="exact" width="100" style="text-align: center">                       
                                    <h:outputText value="#{plan.anioInicio}">
                                        <f:convertDateTime pattern="yyyy"/>
                                    </h:outputText>
                                    <h:outputText value="  -  " />
                                    <h:outputText value="#{plan.anioTermino}">
                                        <f:convertDateTime pattern="yyyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column filterBy="#{plan.status}" styleClass="nombre11Filtro" headerText="#{msgs.etiquetaEstado}" filterMatchMode="contains" width="100" style="text-align: center">
                                    <h:outputText value="#{plan.status}"/>
                                </p:column>
                                <p:column filterBy="#{plan.descripcion}"  headerText="#{msgs.etiquetaDescripcion}" filterMatchMode="contains" width="100" style="text-align: center">
                                    <h:outputText value="#{plan.descripcion}"/>
                                </p:column>
                                <p:column style="text-align:center;width: 100px">
                                    <f:facet name="header">
                                        <h:outputText value="#{msgs.etiquetaAcciones}" />
                                    </f:facet>
                                    <p:commandLink id="cmdEliminar" action="#{planEstrategicoMB.obtenerPorId(plan)}" update=":frmElimina:pnlDatosElimina"
                                                   oncomplete="PF('popEliminar').show();" process="@this">
                                        <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                    </p:commandLink>
                                    <p:tooltip id="toolTipDel" for="cmdEliminar" value="#{msgs.mensajeDelPlan}" />
                                    &nbsp;&nbsp;&nbsp;
                                </p:column>
                            </p:dataTable>
                        </h:panelGrid>
                    </h:form>   
                </p:dialog>
            </p:tab>

            <h:form id="frmElimina">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminar" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.menuPlanEstrategico}: #{planEstrategicoMB.planEstrategicoBean.nombre} "/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.eliminarPlanEstrategico()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDel" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>
            <h:form id="frmConfirma">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popConfirma" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosConfirma">
                            <h:outputText value="#{msgs.panelEliminacion}"/>
                            <h:outputLabel value="#{msgs.menuPlanEstrategico}: #{planEstrategicoMB.lineaEstrategicaBean.nombre}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.cambiarEstado()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":pnlPlanEstrategico:fmrTblLinEst:pnlGrdTblLinEst,msgsCon"
                                         oncomplete="if(args.operacionCorrecta){PF('popConfirma').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" update=":pnlPlanEstrategico:fmrTblLinEst:pnlGrdTblLinEst,msgsCon"
                                         icon="ui-icon-close" oncomplete="PF('popConfirma').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsCon" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>
            <!--Eliminar Linea Estrategica-->
            <h:form id="frmElimina2">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminar2" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina2">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.menuPlanEstrategico}: #{planEstrategicoMB.planEstrategicoBean.nombre} "/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.eliminarLineaEstrategica()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":pnlPlanEstrategico:fmrTblLinEst:pnlGrdTblLinEst,msgsDel"
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar2').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar2').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDel" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>
            <!--PopUp Elimina 3-->
            <h:form id="frmElimina3">
                <p:dialog header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminar2" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina2">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.menuPlanEstrategico}: #{planEstrategicoMB.planEstrategicoBean.nombre} "/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.eliminarLineaEstrategica()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":pnlPlanEstrategico:fmrTblLinEst:pnlGrdTblLinEst,msgsDel"
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar2').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar2').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDel" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>            
            <h:form id="frmElimina4">
                <p:dialog id="popEliminar4" header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminar4" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina4">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.menuPlanEstrategico}: + #{planEstrategicoMB.periodoBean.meta}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.eliminarPeriodo()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update="msgsDelPer"
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar4').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar4').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDelPer" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form>   
            <h:form id="frmElimina5">
                <p:dialog id="popEliminar5" header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminar5" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina5">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="Desea desasignar este responsable: #{planEstrategicoMB.objetivoEstrategicaDetBean.responsable} para el #{msgs.etiquetaAnio} #{planEstrategicoMB.periodoBean.anio}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.eliminarObjDet()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" update=":frmObjDeta3:pnlTblPopObjDeta" 
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar5').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar5').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDelObjD" showDetail="true" showSummary="false"/>
                </p:dialog>
            </h:form> 
            <h:form id="frmElimina6">
                <p:dialog id="popEliminar6" header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminar6" resizable="false" modal="true">
                    <h:panelGrid columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina6">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.menuPlanEstrategico}: #{planEstrategicoMB.objetivoEstrategicaDetBean.meta}"/>
                        </h:panelGrid>
                    </h:panelGrid>
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.eliminarObjetivoEstrategico()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":pnlPlanEstrategico:frmTblObj:pnlTablaObjetivo,msgsDelObj"
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminar6').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminar6').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDelObj" showDetail="true" showSummary="false"/>
                </p:dialog><!--update=":pnlPlanEstrategico:frmTblObjDet:pnlTblObjDet,msgsDelObjD"-->
            </h:form> 


            <p:dialog id="popObjDeta" header="#{msgs.etiquetaObjetivoEstrategica}: #{planEstrategicoMB.objetivoEstrategicaDetBean.objetivoEstrategicaBean.nombre}" widgetVar="popObjDeta" showEffect="fade" hideEffect="explode" resizable="false" modal="true" width="1300px" closeOnEscape="true" >
                <h:form id="frmObjDeta"> 
                    <p:panel header="Datos Estratregicos" style="margin: 0 auto;width: 800px;">
                        <h:panelGrid id="pnlObjDeta2" columns="2" style="margin: 0 auto;">
                            <p:outputLabel value="#{msgs.etiquetaPlanEstrategico}:" />
                            <h:outputText value="#{planEstrategicoMB.objetivoEstrategicaDetBean.planEstrategicoBean.nombre}" style="width: 500px;" />
                            <p:outputLabel value="#{msgs.etiquetaLineaEstrategica}:" />
                            <h:outputText value="#{planEstrategicoMB.objetivoEstrategicaDetBean.lineaEstrategicaBean.nombre}" style="width: 500px;" />
                            <p:outputLabel value="#{msgs.etiquetaObjetivoEstrategica}:" />
                            <h:outputText value="#{planEstrategicoMB.objetivoEstrategicaDetBean.objetivoEstrategicaBean.nombre}" style="width: 500px;" />
                            <h:inputHidden value="#{planEstrategicoMB.objetivoEstrategicaDetBean.planEstrategicoBean.idPlanEstrategico}" />
                            <h:inputHidden value="#{planEstrategicoMB.objetivoEstrategicaDetBean.lineaEstrategicaBean.idLinea}" />
                            <h:inputHidden value="#{planEstrategicoMB.objetivoEstrategicaDetBean.objetivoEstrategicaBean.idObjEstrategico}" />
                        </h:panelGrid>
                    </p:panel>
                </h:form> 
                <h:form id="frmObjDeta2">
                    <p:panel header="Datos Generales" style="margin: 0 auto;width: 800px;" >
                        <h:panelGrid id="pnlObjDeta" columns="2" style="margin: 0 auto;" >
                            <p:fieldset legend="General" style="margin: 0 auto;width: 300px;height: 250px;" >
                                <h:panelGrid columns="1" style="margin: 0 auto;">
                                    <h:panelGrid columns="2" style="margin: 0 auto;" >  
                                        <p:outputLabel value="#{msgs.etiquetaResponsable}" /> 
                                        <p:inputText id="txtRes" value="#{planEstrategicoMB.objetivoEstrategicaDetBean.responsable}" required="true" label="#{msgs.etiquetaResponsable}"/>
                                        <p:outputLabel value="#{msgs.etiquetaAnio} no #{msgs.etiquetaSeleccionados}" /> 
                                        <p:selectOneMenu id="cboPerAni" value="#{planEstrategicoMB.periodoBean.anio}" label="#{msgs.etiquetaAnio}" style="width: 190px;" >
                                            <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{planEstrategicoMB.listaAnios}" var="anio" itemLabel="#{anio}" itemValue="#{anio}"/>
                                            <p:ajax event="change" listener="#{planEstrategicoMB.obtenerListaAnio()}" update="cboPerAni,:frmObjDeta2:pnlTableAnio"/>
                                        </p:selectOneMenu> 
                                        <p:outputLabel value="#{msgs.etiquetaSeleccionar} #{msgs.etiquetaPeriodo}" rendered="false" /> 
                                        <p:selectOneMenu id="cboPerAnio" value="#{planEstrategicoMB.periodoBean.anio}" label="#{msgs.etiquetaAnio}" style="width: 190px;" rendered="false" >
                                            <f:selectItem itemLabel="#{msgs.comboSeleccionarLabel}" noSelectionOption="true"/>
                                            <f:selectItems value="#{planEstrategicoMB.listaAniosPeriodo}" var="anioper" itemLabel="#{anioper}" itemValue="#{anioper}" /> 
                                            <p:ajax event="change" listener="#{planEstrategicoMB.quitarListaAnio()}" update="cboPerAni,cboPerAnio"/>
                                        </p:selectOneMenu>
                                    </h:panelGrid>
                                    <h:panelGrid id="pnlTableAnio" >
                                        <p:dataTable value="#{planEstrategicoMB.listaAniosPeriodo}" var="aniOut" 
                                                     rendered="#{not empty planEstrategicoMB.listaAniosPeriodo}"
                                                     paginator="true" rows="1" paginatorPosition="bottom" >
                                            <p:column filterMatchMode="contains" width="2%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header">
                                                    <p:outputLabel value="#{msgs.etiquetaAnio}" />
                                                </f:facet>
                                                <h:outputText value="#{aniOut}" />
                                            </p:column>
                                            <p:column filterMatchMode="contains" width="1%" styleClass="siseFontTable3 centrado-texto">
                                                <f:facet name="header">
                                                    <p:outputLabel value="#{msgs.etiquetaAnio}" />
                                                </f:facet>
                                                <p:commandLink id="cmdDelAn" action="#{planEstrategicoMB.quitarListaAnio(aniOut)}" process="@this"
                                                               update=":frmObjDeta2:pnlTableAnio,:frmObjDeta2:cboPerAni">
                                                    <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                                </p:commandLink>
                                                <p:tooltip for="cmdDelAn" value="#{msgs.etiquetaEliminar}" />
                                            </p:column>
                                        </p:dataTable>
                                    </h:panelGrid>
                                    <h:panelGrid style="margin: 0 auto;padding: 10px;" columns="2">
                                        <p:commandButton value="#{msgs.botonGrabar}" actionListener="#{planEstrategicoMB.guardarObjDet()}"
                                                         update=":frmObjDeta3:pnlTblPopObjDeta,:frmObjDeta:pnlObjDeta2,:frmObjDeta2:pnlObjDeta,:frmObjDeta2:msgObjDeta"
                                                         oncomplete="if(args.operacionCorrecta){PF('popDone').show();}" 
                                                         process="@this,
                                                         :frmObjDeta2:txtRes, 
                                                         :frmObjDeta2:msgObjDeta,
                                                         :frmObjDeta2:cboPerAni"/>
                                        <p:commandButton value="#{msgs.botonLimpiar}" actionListener="#{planEstrategicoMB.limpiarObjDet()}" update=":frmObjDeta2:pnlObjDeta" process="@this" />   
                                    </h:panelGrid> 
                                </h:panelGrid>
                            </p:fieldset>
                            <p:fieldset legend="Indicador" style="margin: 0 auto;width: 300px;height: 250px;">
                                <h:panelGrid id="pnlIndicador2" columns="2" style="margin: 0 auto">
                                    <p:outputLabel value="#{msgs.etiquetaCodIndicador}" />
                                    <p:inputText value="#{planEstrategicoMB.objetivoEstrategicaDetBean.indicadorBean.codigo}" readonly="true"  />
                                    <p:outputLabel value="#{msgs.etiquetaIndicador}" />
                                    <p:inputText value="#{planEstrategicoMB.objetivoEstrategicaDetBean.indicadorBean.nombre}" readonly="true" />
                                    <p:outputLabel value="#{msgs.etiquetaMeta}" />
                                    <p:inputText value="#{planEstrategicoMB.objetivoEstrategicaDetBean.meta}" readonly="true" /> 
                                    <p:outputLabel value="#{msgs.etiquetaTipoUso}" />
                                    <p:inputText value="#{planEstrategicoMB.objetivoEstrategicaDetBean.indicadorBean.codigoTiPoUso.codigo}" readonly="true" />
                                    <p:outputLabel value="#{msgs.etiquetaTipoValor}" />
                                    <p:inputText value="#{planEstrategicoMB.objetivoEstrategicaDetBean.indicadorBean.codigoTipoValor.codigo}" readonly="true" /> 
                                    <h:inputHidden value="#{planEstrategicoMB.periodoBean.indicadorBean.idIndicador}"/>
                                    <p:commandLink id="btnBuscarIndicador" oncomplete="PF('popBuscar2').show();" process="@this" >
                                        <h:graphicImage value="../resources/images/icons/search2.png" alt="Buscar" />
                                    </p:commandLink>
                                    <p:tooltip for="btnBuscarIndicador" value="#{msgs.botonBuscar}" /> 
                                    <h:inputHidden value="#{planEstrategicoMB.objetivoEstrategicaDetBean.indicadorBean.idIndicador}" /> 
                                    <h:inputHidden value="#{planEstrategicoMB.objetivoEstrategicaDetBean.indicadorBean.codigoTipoValor.codigo}"/>
                                    <h:inputHidden value="#{planEstrategicoMB.objetivoEstrategicaDetBean.indicadorBean.meta}"/>
                                </h:panelGrid> 
                            </p:fieldset>
                        </h:panelGrid>
                    </p:panel> 
                    <p:messages id="msgObjDeta" showDetail="true" autoUpdate="true" closable="true" />
                </h:form> 
                <h:form id="frmObjDeta3"> 
                    <h:panelGrid id="pnlTblPopObjDeta" style="margin: 0 auto;" columns="1" >
                        <p:dataTable value="#{planEstrategicoMB.listaObjetivoEstrategicaDetBean}" var="objDet"
                                     rowKey="#{objDet}" selectionMode="single" selection="#{planEstrategicoMB.objetivoEstrategicaDetBean}"
                                     rows="#{planEstrategicoMB.numRegistrosTablas}" paginator="true" paginatorPosition="bottom"
                                     style="width: #{planEstrategicoMB.anchoTablasBig}; font-size: 12px" 
                                     rendered="#{not empty planEstrategicoMB.listaObjetivoEstrategicaDetBean}">
                            <p:ajax event="rowSelect" listener="#{planEstrategicoMB.rowSelectObjDet}"  
                                    update=":frmObjDeta2:pnlObjDeta,:frmObjDeta:pnlObjDeta2" />
                            <f:facet name="header">
                                <p:outputLabel value="#{msgs.etiquetaDatosEstr}" />
                            </f:facet>   
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaIndicador}" />
                                </f:facet>
                                <h:outputText value="#{objDet.indicadorBean.nombre}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaTipoValor}" />
                                </f:facet>
                                <h:outputText value="#{objDet.codigoBean.codigo}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaMeta}" />
                                </f:facet>
                                <h:outputText value="#{objDet.meta}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaResponsable}" />
                                </f:facet>
                                <h:outputText value="#{objDet.responsable}" />
                            </p:column> 
                            <p:column style="text-align:center;width: 100px">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.etiquetaAcciones}" />
                                </f:facet>
                                <p:commandLink id="cmdEliminarObjDet" action="#{planEstrategicoMB.obtenerObjDetPorId(objDet)}" update=":frmElimina5:pnlDatosElimina5"
                                               oncomplete="PF('popEliminar5').show();" process="@this">
                                    <h:graphicImage value="/resources/images/icons/delete.gif" style="border:0;cursor:pointer;" />
                                </p:commandLink>
                                <p:tooltip id="toolTipDel" for="cmdEliminarObjDet" value="#{msgs.mensajeDelLin}" /> 
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </h:form>
            </p:dialog> 
            <h:form id="frmPopDetalles" > 
                <p:dialog id="popDetalles" widgetVar="popDetalles" modal="true" width="1000px" >
                    <h:panelGrid id="pnlPopDetalles" columns="1" style="margin: 0 auto;" >
                        <p:dataTable value="#{planEstrategicoMB.listaObjDetPeriodoBean2}" var="objDet2"
                                     rowKey="#{objDet2}" selectionMode="single" selection="#{planEstrategicoMB.objetivoEstrategicaDetBean2}"
                                     rows="#{planEstrategicoMB.numRegistrosTablas}" paginator="true"
                                     style="width: 800px;font-size: 12px"
                                     rendered="#{not empty planEstrategicoMB.listaObjDetPeriodoBean2}">
                            <f:facet name="header" >
                                <p:outputLabel value="Detalles de Obj. Estrategico" />
                            </f:facet>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaResponsable}" />
                                </f:facet>
                                <h:outputText value="#{objDet2.responsable}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaIndicador}" />
                                </f:facet>
                                <h:outputText value="#{objDet2.indicadorBean.nombre}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header" >
                                    <p:outputLabel value="#{msgs.etiquetaAcci}" />
                                </f:facet>
                                <center>
                                    <p:commandLink id="cmdObjPer" actionListener="#{planEstrategicoMB.ponerDetallesObjPeriodo(objDet2)}"   oncomplete="PF('popDetalles').hide()">
                                        <h:graphicImage value="/resources/images/icons/select.png" style="border:0;cursor:pointer;" />
                                    </p:commandLink>  
                                    <p:tooltip value="Seleccionar" for="cmdObjPer" />
                                </center>
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </p:dialog>
            </h:form> 
            <h:form id="frmEliminaPlan">
                <p:dialog id="popEliminarPlan" header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popEliminarPlan" resizable="false" modal="true">
                    <h:panelGrid id="pnlEliminaPlan" columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina6">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.menuPlanEstrategico}: #{planEstrategicoMB.planEstrategicoBean.nombre}"/>
                        </h:panelGrid>
                    </h:panelGrid>   
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.eliminarPlanEstrategico()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmBuscar:pnlPlanBuscar"
                                         oncomplete="if(args.operacionCorrecta){PF('popEliminarPlan').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminarPlan').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDelObj" showDetail="true" showSummary="false"/>
                </p:dialog> 
            </h:form>  
            <p:tab title="#{msgs.tituloDescripcion}" >
                <p:dialog header="#{msgs.appTitulo}" id="popPlanEstrategico2" showEffect="fade" hideEffect="explode" widgetVar="popPlanEstrategico2" resizable="false" modal="true" closeOnEscape="true" >
                    <h:form id="fmrPnlDescripcion2"> 
                        <p:panel id="pnlDescripcion2" header="#{msgs.etiquetaDatosPlan}">
                            <h:panelGrid columns="1" styleClass="centrado" id="pnlGrdDescripcion">
                                <h:panelGrid style="margin: 0 auto;">
                                    <p:fieldset legend="#{msgs.etiquetaPlanEstrategico}" style="width:700px;">
                                        <h:panelGrid columns="3" styleClass="centrado"> 
                                            <p:outputLabel value="#{msgs.menuPlanEstrategico}: " styleClass="negrita" />
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:inputText  value="#{planEstrategicoMB.planEstrategicoBean.nombre}" required="true" label="#{msgs.campoNombre} #{msgs.menuPlanEstrategico}" style="width: 270px"/>
                                            <p:outputLabel value="#{msgs.etiquetaEstado}:" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneRadio value="#{planEstrategicoMB.planEstrategicoBean.status}" required="true" label="#{msgs.etiquetaEstado}">
                                                <f:selectItem itemLabel="#{msgs.campoActivo}&nbsp;&nbsp;&nbsp;" itemValue="#{msgs.campoActivo}"/>
                                                <f:selectItem itemLabel="#{msgs.campoInactivo}&nbsp;&nbsp;&nbsp;" itemValue="#{msgs.campoInactivo}"/>
                                                <f:selectItem itemLabel="Revision" itemValue="Revision"/>
                                            </p:selectOneRadio> 
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <h:inputHidden value="#{planEstrategicoMB.planEstrategicoBean.idPlanEstrategico}" />
                                </h:panelGrid> 
                                <h:panelGrid columns="2" styleClass="centrado" >
                                    <p:fieldset legend="#{msgs.etiquetaHorizPro}">
                                        <h:panelGrid columns="3" cellpadding="10" styleClass="centrado">
                                            <p:outputLabel value="#{msgs.campoAnoInicio}: " styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneMenu effect="fold" value="#{planEstrategicoMB.planEstrategicoBean.anioIni}" required="true" label="#{msgs.campoAnoInicio}" style="width: 150px;">
                                                <f:selectItem itemLabel="#{msgs.etiquetaSeleccionar}" itemValue="#{null}" />
                                                <f:selectItems value="#{planEstrategicoMB.listaAnos}"/>
                                                <p:ajax event="change" listener="#{planEstrategicoMB.actualizarLista()}" update="AnoFin" />
                                            </p:selectOneMenu>
                                            <p:outputLabel value="#{msgs.campoAnoTermino}: " styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:selectOneMenu id="AnoFin" effect="fold" value="#{planEstrategicoMB.planEstrategicoBean.anioFin}" required="true" label="#{msgs.campoAnoTermino}" style="width: 150px;">
                                                <f:selectItem itemLabel="#{msgs.etiquetaSeleccionar}" itemValue="#{null}" />
                                                <f:selectItems value="#{planEstrategicoMB.listaAnosRender}"/>
                                            </p:selectOneMenu>
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <p:fieldset legend="#{msgs.etiquetaVigeEfec}">
                                        <h:panelGrid columns="3" cellpadding="10" styleClass="centrado" >
                                            <p:outputLabel value="#{msgs.campoFechaIni} : " for="fecVigencia" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:calendar id="fecVigencia"  value="#{planEstrategicoMB.planEstrategicoBean.fecInicio}" mode="popup" size="10"
                                                        pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30">
                                                <p:ajax event="dateSelect" update="fecTermino" />
                                            </p:calendar>    
                                            <p:outputLabel value="#{msgs.campoFechaFin} : " for="fecTermino" styleClass="negrita"/>
                                            <h:outputText value=" " styleClass="requerido"/>
                                            <p:calendar id="fecTermino" value="#{planEstrategicoMB.planEstrategicoBean.fecTermino}" mindate="#{planEstrategicoMB.planEstrategicoBean.fecInicio}" mode="popup" size="10"
                                                        pattern="dd/MM/yyyy" locale="es" navigator="true" effect="fadeIn" showOn="button" readonlyInput="true" yearRange="c-90:c+30" />
                                        </h:panelGrid>
                                    </p:fieldset>
                                </h:panelGrid>
                                <h:panelGrid columns="3" styleClass="centrado" > 
                                    <p:inputTextarea  placeholder="Ingresar una Descripcion" rows="6" cols="90" value="#{planEstrategicoMB.planEstrategicoBean.descripcion}" required="true" label="#{msgs.etiquetaDescripcion}" maxlength="350"/>
                                </h:panelGrid>
                                <h:panelGrid columns="2" styleClass="centrado">
                                    <p:commandButton actionListener="#{planEstrategicoMB.guardarPlanEstrategico()}" update=":frmBuscar:pnlPlanBuscar,msgsAdd"
                                                     oncomplete="if(args.operacionCorrecta){PF('popPlanEstrategico2').hide();PF('popDone').show();}"
                                                     value="#{msgs.botonGrabar}">
                                    </p:commandButton>
                                    <p:commandButton actionListener="#{planEstrategicoMB.limpiarPlanEstrategico()}" update="msgsAdd"                                                                 
                                                     value="#{msgs.botonNuevo}" process="@this">
                                    </p:commandButton>
                                    <p:growl id="msgsAdd" showDetail="true" showSummary="true"/>
                                </h:panelGrid>
                                <h:inputHidden value="#{planEstrategicoMB.planEstrategicoBean.idPlanEstrategico}" id="codigoPlanHidden"/>
                            </h:panelGrid>
                        </p:panel>
                    </h:form> 
                </p:dialog>
            </p:tab> 
            <h:form id="frmDelInd">
                <p:dialog id="popDelInd" header="#{msgs.appTitulo}" showEffect="fade" hideEffect="explode" widgetVar="popDelIndicador" resizable="false" modal="true">
                    <h:panelGrid id="pnlDelInd" columns="2">
                        <h:graphicImage value="/resources/images/icons/iconoPregunta.png"/>
                        <h:panelGrid columns="1" id="pnlDatosElimina6">
                            <h:outputText value="#{msgs.panelEliminacionFisica}"/>
                            <h:outputLabel value="#{msgs.etiquetaIndicador}: #{planEstrategicoMB.indicadorFiltroBean.nombre}"/>
                        </h:panelGrid>
                    </h:panelGrid>   
                    <h:panelGrid columns="2" styleClass="centrado">
                        <p:commandButton value="#{msgs.etiquetaSi}" actionListener="#{planEstrategicoMB.eliminarIndicador()}"
                                         styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
                                         update=":frmBuscar2:pnlBuscar,:frmDatosIndicador"
                                         oncomplete="if(args.operacionCorrecta){PF('popDelIndicador').hide();PF('popDone').show();}"/>
                        <p:commandButton value="#{msgs.etiquetaNo}" styleClass="ui-confirmdialog-no" 
                                         icon="ui-icon-close" oncomplete="PF('popEliminarPlan').hide();"/>
                    </h:panelGrid>
                    <p:growl id="msgsDelObj" showDetail="true" showSummary="false"/>
                </p:dialog> 
            </h:form> 
        </h:body>
    </ui:define>
</ui:composition>
